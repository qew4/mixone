function _0xf72a(){const _0x2434db=['@babel/traverse','exports','9527418MQEnVH','body','traverse','declarations','stringLiteral','const\x20fs\x20=\x20require(\x27fs\x27);\x0a','\x0a//\x20注册\x20WindowManager\x20方法调用的\x20IPC\x20处理器\x0aipcMain.handle(\x27window-manager-action\x27,\x20async\x20(event,\x20{\x20method,\x20args\x20})\x20=>\x20{\x0a\x20\x20try\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20windowManager[method]\x20===\x20\x27function\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20windowManager[method].apply(windowManager,\x20args);\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x22方法\x20\x22+method+\x22\x20不存在\x22);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20}\x0a})\x0a','\x27____replace_handle_open_window____\x27','filter','length','____replace_iconv_lite____','____replace_handle_open_window____','node','@babel/generator','object','const\x20{\x20registerMainFunctions\x20}\x20=\x20require(\x27./fn\x27);\x0a','code','callee','2524vtxuLL','name','init','\x27____replace_app_ready_code____\x27','681120Eotyki','type','replace','splice','@babel/types','require','expressionStatement','indexOf','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);\x0a','const\x20{\x20ipcMain\x20}\x20=\x20require(\x27electron\x27);\x0a','MemberExpression','ArrowFunctionExpression','993928oSluIu','then','parse','CallExpression','42eijeTF','single','2606823ISuQJT','const\x20iconv\x20=\x20require(\x27iconv-lite\x27);\x0a\x0a//\x20过滤特殊字符，只保留中文和普通字符\x0afunction\x20filterString(str)\x20{\x0a\x20\x20return\x20str.replace(/[\x5cuD800-\x5cuDBFF][\x5cuDC00-\x5cuDFFF]|[^\x5cx00-\x5cx7F\x5cu4E00-\x5cu9FFF]/g,\x20\x27\x27);\x0a}\x0a\x0a//\x20重写控制台输出方法\x0aconsole.log\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stdout.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}\x0a\x0aconsole.error\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stderr.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}','977SHiNRl','typescript','isCallExpression','isIdentifier','blockStatement','\x0a//\x20判断是否为开发模式\x0afunction\x20isDevelopmentMode()\x20{\x0a\x20\x20//\x20检查命令行参数是否有\x20--dev\x20标志\x0a\x20\x20const\x20isDev\x20=\x20process.argv.includes(\x27--dev\x27);\x0a\x20\x20\x0a\x20\x20//\x20检查环境变量\x0a\x20\x20const\x20nodeEnv\x20=\x20process.env.NODE_ENV;\x0a\x20\x20const\x20isDevEnv\x20=\x20nodeEnv\x20===\x20\x27development\x27\x20||\x20nodeEnv\x20===\x20\x27dev\x27;\x0a\x20\x20\x0a\x20\x20return\x20isDev\x20||\x20isDevEnv;\x0a}\x0a//\x20设置主进程热重载\x0aif\x20(isDevelopmentMode())\x20{\x0a\x20\x20const\x20{\x20setupMainProcessHotReload\x20}\x20=\x20require(\x27./hot-reload\x27);\x0a\x20\x20console.log(\x27setupMainProcessHotReload\x27,__dirname);\x0a\x20\x20setupMainProcessHotReload(__dirname);\x0a}','132cdimem','____replace_app_ready_code____','isVariableDeclaration','5LgCKYh','property','default','7696446ZlFdRO','some','4401612XIPAEK','const\x20windowManager\x20=\x20require(\x27./window-manager\x27);\x0a','whenReady'];_0xf72a=function(){return _0x2434db;};return _0xf72a();}const _0x3b2875=_0x39c1;(function(_0xfdbb3f,_0x891672){const _0x59bc92=_0x39c1,_0x395d79=_0xfdbb3f();while(!![]){try{const _0x1e4a99=parseInt(_0x59bc92(0x21d))/0x1*(parseInt(_0x59bc92(0x205))/0x2)+parseInt(_0x59bc92(0x21b))/0x3+-parseInt(_0x59bc92(0x1ee))/0x4+-parseInt(_0x59bc92(0x226))/0x5*(parseInt(_0x59bc92(0x229))/0x6)+parseInt(_0x59bc92(0x219))/0x7*(parseInt(_0x59bc92(0x215))/0x8)+parseInt(_0x59bc92(0x1f3))/0x9+-parseInt(_0x59bc92(0x209))/0xa*(parseInt(_0x59bc92(0x223))/0xb);if(_0x1e4a99===_0x891672)break;else _0x395d79['push'](_0x395d79['shift']());}catch(_0x2de969){_0x395d79['push'](_0x395d79['shift']());}}}(_0xf72a,0xac3c3));const parser=require('@babel/parser'),traverse=require(_0x3b2875(0x1f1))['default'],generate=require(_0x3b2875(0x200))[_0x3b2875(0x228)],t=require(_0x3b2875(0x20d));function processMainProcessFile(_0x4fac80,_0x50c339){const _0xee392=_0x3b2875,_0x205ab3=parser[_0xee392(0x217)](_0x4fac80,{'sourceType':'module','plugins':['jsx',_0xee392(0x21e)]});let _0x470ff5='';traverse(_0x205ab3,{'Program'(_0x348d19){const _0x41e90c=_0xee392,_0x333f60=_0x348d19[_0x41e90c(0x1ff)][_0x41e90c(0x1f4)][_0x41e90c(0x1fb)](_0x52d08f=>t[_0x41e90c(0x225)](_0x52d08f)&&_0x52d08f[_0x41e90c(0x1f6)][_0x41e90c(0x22a)](_0x532b35=>t[_0x41e90c(0x21f)](_0x532b35['init'])&&t[_0x41e90c(0x220)](_0x532b35[_0x41e90c(0x207)][_0x41e90c(0x204)])&&_0x532b35[_0x41e90c(0x207)][_0x41e90c(0x204)][_0x41e90c(0x206)]===_0x41e90c(0x20e)));_0x348d19[_0x41e90c(0x1f5)]({'CallExpression'(_0x4954b1){const _0x5849af=_0x41e90c;if(_0x4954b1[_0x5849af(0x1ff)][_0x5849af(0x204)]&&_0x4954b1[_0x5849af(0x1ff)][_0x5849af(0x204)][_0x5849af(0x20a)]===_0x5849af(0x213)&&_0x4954b1[_0x5849af(0x1ff)]['callee'][_0x5849af(0x227)]['name']===_0x5849af(0x216)&&_0x4954b1[_0x5849af(0x1ff)]['callee']['object'][_0x5849af(0x20a)]===_0x5849af(0x218)&&_0x4954b1[_0x5849af(0x1ff)]['callee'][_0x5849af(0x201)][_0x5849af(0x204)][_0x5849af(0x227)]['name']===_0x5849af(0x1f0)){const _0x9e1e2e=_0x4954b1[_0x5849af(0x1ff)]['arguments'][0x0];if(_0x9e1e2e[_0x5849af(0x20a)]===_0x5849af(0x214)||_0x9e1e2e[_0x5849af(0x20a)]==='FunctionExpression'){const _0x94e74a=generate(_0x9e1e2e[_0x5849af(0x1f4)],{'retainLines':!![],'compact':![],'quotes':_0x5849af(0x21a)});_0x470ff5=_0x94e74a[_0x5849af(0x203)],_0x9e1e2e['body']=t[_0x5849af(0x221)]([t[_0x5849af(0x20f)](t['stringLiteral'](_0x5849af(0x224)))]);}}}});if(_0x333f60[_0x41e90c(0x1fc)]>0x0){const _0x210db8=_0x333f60[_0x333f60[_0x41e90c(0x1fc)]-0x1],_0x4690bc=_0x348d19[_0x41e90c(0x1ff)][_0x41e90c(0x1f4)][_0x41e90c(0x210)](_0x210db8);_0x348d19[_0x41e90c(0x1ff)]['body'][_0x41e90c(0x20c)](_0x4690bc+0x1,0x0,t[_0x41e90c(0x20f)](t[_0x41e90c(0x1f7)](_0x41e90c(0x1fe))),t[_0x41e90c(0x20f)](t[_0x41e90c(0x1f7)](_0x41e90c(0x1fd))));}}});const _0x41a120=generate(_0x205ab3,{'retainLines':!![],'compact':![],'quotes':'single','concise':![],'jsescOption':{'quotes':_0xee392(0x21a)}}),_0x170f47=_0x41a120[_0xee392(0x203)]['replace']('\x27____replace_iconv_lite____\x27',getIconvLiteCode())[_0xee392(0x20b)](_0xee392(0x1fa),getHandleOpenWindowCode())[_0xee392(0x20b)](_0xee392(0x208),getHotReloadHandleCode(_0x470ff5)),_0x2e9e23=getHotReloadSetup(),_0x3d5f7b=_0xee392(0x202),_0x29d6f7=_0xee392(0x211),_0x641c57=_0xee392(0x1ef),_0xf0b52e=_0xee392(0x1f8),_0x4c2009=_0xee392(0x212);return _0x3d5f7b+_0xf0b52e+_0x4c2009+_0x641c57+_0x29d6f7+_0x170f47+'\x0aregisterMainFunctions();\x0a'+_0x2e9e23;}function getHandleOpenWindowCode(){const _0x120680=_0x3b2875;return _0x120680(0x1f9);}function getIconvLiteCode(){const _0x381dee=_0x3b2875;return _0x381dee(0x21c);}function getHotReloadHandleCode(_0x248630){return'\x0a\x20\x20setupConsoleRedirect(isDevelopmentMode());\x0a\x20\x20//\x20检查是否有窗口状态需要恢复\x0a\x20\x20const\x20statesArg\x20=\x20process.argv.find(arg\x20=>\x20arg.startsWith(\x27--window-states=\x27));\x0a\x20\x20if\x20(statesArg)\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20statesPath\x20=\x20statesArg.split(\x27=\x27)[1];\x0a\x20\x20\x20\x20\x20\x20let\x20content\x20=\x20fs.readFileSync(statesPath,\x20\x27utf-8\x27);\x0a\x20\x20\x20\x20\x20\x20console.log(\x27content:\x27,\x20content);\x0a\x20\x20\x20\x20\x20\x20const\x20states\x20=\x20content.split(\x22------\x22).map(item\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20_item\x20=\x20item.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(!_item){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20JSON.parse(_item)\x0a\x20\x20\x20\x20\x20\x20}).reverse();\x0a\x20\x20\x20\x20\x20\x20//\x20恢复所有窗口\x0a\x20\x20\x20\x20\x20\x20for\x20(const\x20state\x20of\x20states)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20windowPath\x20=\x20state.windowPath;\x0a\x20\x20\x20\x20\x20\x20\x20\x20await\x20windowManager.restoreWindow(windowPath,\x20state);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20//\x20清理临时文件\x0a\x20\x20\x20\x20\x20\x20fs.unlinkSync(statesPath);\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20console.error(\x27恢复窗口状态失败:\x27,\x20error);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20\x0a\x20\x20\x20'+_0x248630+'\x0a';}function _0x39c1(_0x10909f,_0x3ae65a){const _0xf72a12=_0xf72a();return _0x39c1=function(_0x39c1ab,_0xcf98df){_0x39c1ab=_0x39c1ab-0x1ee;let _0x1cf3e3=_0xf72a12[_0x39c1ab];return _0x1cf3e3;},_0x39c1(_0x10909f,_0x3ae65a);}function getHotReloadSetup(){const _0x356268=_0x3b2875;return _0x356268(0x222);}module[_0x3b2875(0x1f2)]={'processMainProcessFile':processMainProcessFile};