const _0x5de7f7=_0x39ab;(function(_0x2603ce,_0x35dcb2){const _0x3862f5=_0x39ab,_0x12ee07=_0x2603ce();while(!![]){try{const _0x63bd92=parseInt(_0x3862f5(0x20f))/0x1*(parseInt(_0x3862f5(0x211))/0x2)+-parseInt(_0x3862f5(0x217))/0x3*(-parseInt(_0x3862f5(0x21a))/0x4)+parseInt(_0x3862f5(0x1ea))/0x5+-parseInt(_0x3862f5(0x202))/0x6*(-parseInt(_0x3862f5(0x214))/0x7)+parseInt(_0x3862f5(0x20a))/0x8*(parseInt(_0x3862f5(0x204))/0x9)+parseInt(_0x3862f5(0x1f6))/0xa+-parseInt(_0x3862f5(0x1eb))/0xb;if(_0x63bd92===_0x35dcb2)break;else _0x12ee07['push'](_0x12ee07['shift']());}catch(_0x4409a6){_0x12ee07['push'](_0x12ee07['shift']());}}}(_0x2fbe,0x800ff));const parser=require(_0x5de7f7(0x209)),traverse=require('@babel/traverse')[_0x5de7f7(0x1e5)],generate=require(_0x5de7f7(0x216))[_0x5de7f7(0x1e5)],t=require(_0x5de7f7(0x1fa));function processMainProcessFile(_0x3f36d1,_0x13885c){const _0x514ae5=_0x5de7f7,_0x4057e4=parser[_0x514ae5(0x1e3)](_0x3f36d1,{'sourceType':_0x514ae5(0x20b),'plugins':[_0x514ae5(0x21d),_0x514ae5(0x1e9)]});let _0x1976f6='';traverse(_0x4057e4,{'Program'(_0x5cc2c3){const _0x852837=_0x514ae5,_0x2a55d7=_0x5cc2c3[_0x852837(0x1ef)]['body'][_0x852837(0x1e2)](_0x48f9a1=>t[_0x852837(0x1f2)](_0x48f9a1)&&_0x48f9a1['declarations']['some'](_0x293a08=>t[_0x852837(0x206)](_0x293a08[_0x852837(0x1f1)])&&t[_0x852837(0x1e8)](_0x293a08[_0x852837(0x1f1)][_0x852837(0x208)])&&_0x293a08['init'][_0x852837(0x208)]['name']===_0x852837(0x1fd)));_0x5cc2c3[_0x852837(0x215)]({'CallExpression'(_0x533c72){const _0x3b8403=_0x852837;if(_0x533c72[_0x3b8403(0x1ef)][_0x3b8403(0x208)]&&_0x533c72[_0x3b8403(0x1ef)]['callee'][_0x3b8403(0x1ec)]===_0x3b8403(0x1ee)&&_0x533c72[_0x3b8403(0x1ef)][_0x3b8403(0x208)]['property']['name']===_0x3b8403(0x20e)&&_0x533c72[_0x3b8403(0x1ef)]['callee'][_0x3b8403(0x1fc)][_0x3b8403(0x1ec)]===_0x3b8403(0x1f5)&&_0x533c72['node'][_0x3b8403(0x208)][_0x3b8403(0x1fc)]['callee'][_0x3b8403(0x218)][_0x3b8403(0x21b)]==='whenReady'){const _0xc267e3=_0x533c72[_0x3b8403(0x1ef)][_0x3b8403(0x20d)][0x0];if(_0xc267e3[_0x3b8403(0x1ec)]===_0x3b8403(0x200)||_0xc267e3[_0x3b8403(0x1ec)]===_0x3b8403(0x210)){const _0x4fadd2=generate(_0xc267e3[_0x3b8403(0x201)],{'retainLines':!![],'compact':![],'quotes':'single'});_0x1976f6=_0x4fadd2[_0x3b8403(0x207)],_0xc267e3[_0x3b8403(0x201)]=t[_0x3b8403(0x1f7)]([t[_0x3b8403(0x1ff)](t[_0x3b8403(0x1f3)](_0x3b8403(0x20c)))]);}}}});if(_0x2a55d7['length']>0x0){const _0x513245=_0x2a55d7[_0x2a55d7['length']-0x1],_0x3b5a33=_0x5cc2c3[_0x852837(0x1ef)][_0x852837(0x201)]['indexOf'](_0x513245);_0x5cc2c3[_0x852837(0x1ef)][_0x852837(0x201)][_0x852837(0x1f8)](_0x3b5a33+0x1,0x0,t['expressionStatement'](t[_0x852837(0x1f3)](_0x852837(0x205))),t[_0x852837(0x1ff)](t[_0x852837(0x1f3)](_0x852837(0x219))));}}});const _0x2d22e8=generate(_0x4057e4,{'retainLines':!![],'compact':![],'quotes':_0x514ae5(0x1e6),'concise':![],'jsescOption':{'quotes':_0x514ae5(0x1e6)}}),_0x249256=_0x2d22e8['code']['replace'](_0x514ae5(0x212),getIconvLiteCode())[_0x514ae5(0x1f9)](_0x514ae5(0x1e7),getHandleOpenWindowCode())['replace'](_0x514ae5(0x1f4),getHotReloadHandleCode(_0x1976f6)),_0x183a98=getHotReloadSetup(),_0x3b0740='const\x20{\x20registerMainFunctions\x20}\x20=\x20require(\x27./fn\x27);\x0a',_0x19ca9a=_0x514ae5(0x1e4),_0xa6f66=_0x514ae5(0x213),_0x53adc6='const\x20fs\x20=\x20require(\x27fs\x27);\x0a',_0x2576df=_0x514ae5(0x21c);return _0x3b0740+_0x53adc6+_0x2576df+_0xa6f66+_0x19ca9a+_0x249256+_0x514ae5(0x203)+_0x183a98;}function getHandleOpenWindowCode(){const _0x589c92=_0x5de7f7;return _0x589c92(0x1ed);}function getIconvLiteCode(){const _0x1a0717=_0x5de7f7;return _0x1a0717(0x1fb);}function getHotReloadHandleCode(_0x4910f2){const _0x402b75=_0x5de7f7;return _0x402b75(0x1f0)+_0x4910f2+'\x0a';}function _0x2fbe(){const _0x384219=['\x27____replace_handle_open_window____\x27','isIdentifier','typescript','4722340CRYpPL','46240953uVjNPL','type','\x0a//\x20注册\x20WindowManager\x20方法调用的\x20IPC\x20处理器\x0aipcMain.handle(\x27window-manager-action\x27,\x20async\x20(event,\x20{\x20method,\x20args\x20})\x20=>\x20{\x0a\x20\x20try\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20windowManager[method]\x20===\x20\x27function\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20windowManager[method].apply(windowManager,\x20args);\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x22方法\x20\x22+method+\x22\x20不存在\x22);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20}\x0a})\x0a','MemberExpression','node','\x0a\x20\x20setupConsoleRedirect(isDevelopmentMode());\x0a\x20\x20//\x20检查是否有窗口状态需要恢复\x0a\x20\x20const\x20statesArg\x20=\x20process.argv.find(arg\x20=>\x20arg.startsWith(\x27--window-states=\x27));\x0a\x20\x20if\x20(statesArg)\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20statesPath\x20=\x20statesArg.split(\x27=\x27)[1];\x0a\x20\x20\x20\x20\x20\x20let\x20content\x20=\x20fs.readFileSync(statesPath,\x20\x27utf-8\x27);\x0a\x20\x20\x20\x20\x20\x20console.log(\x27content:\x27,\x20content);\x0a\x20\x20\x20\x20\x20\x20const\x20states\x20=\x20content.split(\x22------\x22).map(item\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20_item\x20=\x20item.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(!_item){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20JSON.parse(_item)\x0a\x20\x20\x20\x20\x20\x20}).reverse();\x0a\x20\x20\x20\x20\x20\x20//\x20恢复所有窗口\x0a\x20\x20\x20\x20\x20\x20for\x20(const\x20state\x20of\x20states)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20windowPath\x20=\x20state.windowPath;\x0a\x20\x20\x20\x20\x20\x20\x20\x20await\x20windowManager.restoreWindow(windowPath,\x20state);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20//\x20清理临时文件\x0a\x20\x20\x20\x20\x20\x20fs.unlinkSync(statesPath);\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20console.error(\x27恢复窗口状态失败:\x27,\x20error);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20\x0a\x20\x20\x20','init','isVariableDeclaration','stringLiteral','\x27____replace_app_ready_code____\x27','CallExpression','9656860dEkPCx','blockStatement','splice','replace','@babel/types','const\x20iconv\x20=\x20require(\x27iconv-lite\x27);\x0a\x0a//\x20过滤特殊字符，只保留中文和普通字符\x0afunction\x20filterString(str)\x20{\x0a\x20\x20return\x20str.replace(/[\x5cuD800-\x5cuDBFF][\x5cuDC00-\x5cuDFFF]|[^\x5cx00-\x5cx7F\x5cu4E00-\x5cu9FFF]/g,\x20\x27\x27);\x0a}\x0a\x0a//\x20重写控制台输出方法\x0aconsole.log\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stdout.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}\x0a\x0aconsole.error\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stderr.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}','object','require','\x0a//\x20判断是否为开发模式\x0afunction\x20isDevelopmentMode()\x20{\x0a\x20\x20//\x20检查命令行参数是否有\x20--dev\x20标志\x0a\x20\x20const\x20isDev\x20=\x20process.argv.includes(\x27--dev\x27);\x0a\x20\x20\x0a\x20\x20//\x20检查环境变量\x0a\x20\x20const\x20nodeEnv\x20=\x20process.env.NODE_ENV;\x0a\x20\x20const\x20isDevEnv\x20=\x20nodeEnv\x20===\x20\x27development\x27\x20||\x20nodeEnv\x20===\x20\x27dev\x27;\x0a\x20\x20\x0a\x20\x20return\x20isDev\x20||\x20isDevEnv;\x0a}\x0a//\x20设置主进程热重载\x0aif\x20(isDevelopmentMode())\x20{\x0a\x20\x20const\x20{\x20setupMainProcessHotReload\x20}\x20=\x20require(\x27./hot-reload\x27);\x0a\x20\x20//\x20console.log(\x27setupMainProcessHotReload\x27,__dirname);\x0a\x20\x20setupMainProcessHotReload(__dirname);\x0a}','expressionStatement','ArrowFunctionExpression','body','5507070WocRIo','\x0aregisterMainFunctions();\x0a','3533697ljLOxa','____replace_handle_open_window____','isCallExpression','code','callee','@babel/parser','8GlnFzw','module','____replace_app_ready_code____','arguments','then','1022534ZYyHgc','FunctionExpression','2JFAhUN','\x27____replace_iconv_lite____\x27','const\x20windowManager\x20=\x20require(\x27./window-manager\x27);\x0a','7MQjNfi','traverse','@babel/generator','36wIlcre','property','____replace_iconv_lite____','161700AdLbxI','name','const\x20{\x20ipcMain\x20}\x20=\x20require(\x27electron\x27);\x0a','jsx','filter','parse','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);\x0a','default','single'];_0x2fbe=function(){return _0x384219;};return _0x2fbe();}function _0x39ab(_0x4b8db9,_0x10d522){const _0x2fbea3=_0x2fbe();return _0x39ab=function(_0x39ab2e,_0x54fab3){_0x39ab2e=_0x39ab2e-0x1e2;let _0x184afe=_0x2fbea3[_0x39ab2e];return _0x184afe;},_0x39ab(_0x4b8db9,_0x10d522);}function getHotReloadSetup(){const _0x11c0ac=_0x5de7f7;return _0x11c0ac(0x1fe);}module['exports']={'processMainProcessFile':processMainProcessFile};