const _0x19f434=_0x5f54;(function(_0x32cc95,_0x1e891d){const _0x3dea65=_0x5f54,_0x48f087=_0x32cc95();while(!![]){try{const _0x3e66b5=-parseInt(_0x3dea65(0x1bd))/0x1+parseInt(_0x3dea65(0x1bf))/0x2*(parseInt(_0x3dea65(0x1bb))/0x3)+-parseInt(_0x3dea65(0x1a3))/0x4*(-parseInt(_0x3dea65(0x1da))/0x5)+parseInt(_0x3dea65(0x1a4))/0x6*(parseInt(_0x3dea65(0x1c8))/0x7)+parseInt(_0x3dea65(0x1a2))/0x8*(parseInt(_0x3dea65(0x1d8))/0x9)+-parseInt(_0x3dea65(0x1d6))/0xa*(parseInt(_0x3dea65(0x1ba))/0xb)+-parseInt(_0x3dea65(0x1d7))/0xc*(-parseInt(_0x3dea65(0x1b7))/0xd);if(_0x3e66b5===_0x1e891d)break;else _0x48f087['push'](_0x48f087['shift']());}catch(_0x49d6f1){_0x48f087['push'](_0x48f087['shift']());}}}(_0x2bc0,0xa712e));const parser=require(_0x19f434(0x1b2)),traverse=require(_0x19f434(0x1a7))['default'],generate=require(_0x19f434(0x1b8))[_0x19f434(0x1a0)],t=require(_0x19f434(0x1a5));function processMainProcessFile(_0x3bbc65,_0x496732){const _0x1d1647=_0x19f434,_0x403d4e=parser[_0x1d1647(0x1b6)](_0x3bbc65,{'sourceType':_0x1d1647(0x1a9),'plugins':[_0x1d1647(0x1c7),'typescript']});let _0x5a4a8f='';traverse(_0x403d4e,{'Program'(_0x481783){const _0x28dd2d=_0x1d1647,_0x2b7a1a=_0x481783[_0x28dd2d(0x1d3)][_0x28dd2d(0x1c1)]['filter'](_0x3b6591=>t[_0x28dd2d(0x1a1)](_0x3b6591)&&_0x3b6591['declarations'][_0x28dd2d(0x1ce)](_0x538976=>t[_0x28dd2d(0x1af)](_0x538976[_0x28dd2d(0x1b0)])&&t[_0x28dd2d(0x1cc)](_0x538976['init'][_0x28dd2d(0x1bc)])&&_0x538976[_0x28dd2d(0x1b0)][_0x28dd2d(0x1bc)][_0x28dd2d(0x1b1)]===_0x28dd2d(0x1ac)));_0x481783[_0x28dd2d(0x1ad)]({'CallExpression'(_0x63f159){const _0xd9fc5a=_0x28dd2d;if(_0x63f159[_0xd9fc5a(0x1d3)][_0xd9fc5a(0x1bc)]&&_0x63f159[_0xd9fc5a(0x1d3)]['callee'][_0xd9fc5a(0x1d1)]===_0xd9fc5a(0x1d2)&&_0x63f159['node'][_0xd9fc5a(0x1bc)][_0xd9fc5a(0x1d5)]['name']===_0xd9fc5a(0x1ca)&&_0x63f159[_0xd9fc5a(0x1d3)][_0xd9fc5a(0x1bc)][_0xd9fc5a(0x1cf)][_0xd9fc5a(0x1d1)]===_0xd9fc5a(0x1cb)&&_0x63f159[_0xd9fc5a(0x1d3)][_0xd9fc5a(0x1bc)]['object'][_0xd9fc5a(0x1bc)][_0xd9fc5a(0x1d5)][_0xd9fc5a(0x1b1)]===_0xd9fc5a(0x1aa)){const _0x49bbb8=_0x63f159[_0xd9fc5a(0x1d3)][_0xd9fc5a(0x1c9)][0x0];if(_0x49bbb8[_0xd9fc5a(0x1d1)]===_0xd9fc5a(0x1c5)||_0x49bbb8['type']===_0xd9fc5a(0x1ab)){const _0xb5a7e5=generate(_0x49bbb8[_0xd9fc5a(0x1c1)],{'retainLines':!![],'compact':![],'quotes':_0xd9fc5a(0x19e)});_0x5a4a8f=_0xb5a7e5['code'],_0x49bbb8[_0xd9fc5a(0x1c1)]=t[_0xd9fc5a(0x1c0)]([t[_0xd9fc5a(0x1c3)](t[_0xd9fc5a(0x1a6)](_0xd9fc5a(0x1b9)))]);}}}});if(_0x2b7a1a['length']>0x0){const _0x56dfad=_0x2b7a1a[_0x2b7a1a[_0x28dd2d(0x1d0)]-0x1],_0x41dd6a=_0x481783[_0x28dd2d(0x1d3)][_0x28dd2d(0x1c1)][_0x28dd2d(0x1b4)](_0x56dfad);_0x481783[_0x28dd2d(0x1d3)][_0x28dd2d(0x1c1)][_0x28dd2d(0x1a8)](_0x41dd6a+0x1,0x0,t['expressionStatement'](t['stringLiteral'](_0x28dd2d(0x1be))),t[_0x28dd2d(0x1c3)](t['stringLiteral']('____replace_iconv_lite____')));}}});const _0x6f92c2=generate(_0x403d4e,{'retainLines':!![],'compact':![],'quotes':_0x1d1647(0x19e),'concise':![],'jsescOption':{'quotes':'single'}}),_0x3fda38=_0x6f92c2[_0x1d1647(0x1c4)]['replace']('\x27____replace_iconv_lite____\x27',getIconvLiteCode())[_0x1d1647(0x1c6)](_0x1d1647(0x1d4),getHandleOpenWindowCode())[_0x1d1647(0x1c6)](_0x1d1647(0x1ae),getHotReloadHandleCode(_0x5a4a8f)),_0x4bf164=getHotReloadSetup(),_0x2f65db=_0x1d1647(0x1d9),_0x21f1b1='const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);\x0a',_0xc3fb23=_0x1d1647(0x1c2),_0x2d8c78='const\x20fs\x20=\x20require(\x27fs\x27);\x0a',_0x368332=_0x1d1647(0x19f);return _0x2f65db+_0x2d8c78+_0x368332+_0xc3fb23+_0x21f1b1+_0x3fda38+_0x1d1647(0x1b3)+_0x4bf164;}function _0x2bc0(){const _0x4ee55f=['property','50BIJRcd','576DWddbQ','81xOrlRE','const\x20{\x20registerMainFunctions\x20}\x20=\x20require(\x27./fn\x27);\x0a','1127010iDRYUu','single','const\x20{\x20ipcMain\x20}\x20=\x20require(\x27electron\x27);\x0a','default','isVariableDeclaration','412912dYnjtM','8lliOFV','496446EaLbaE','@babel/types','stringLiteral','@babel/traverse','splice','module','whenReady','FunctionExpression','require','traverse','\x27____replace_app_ready_code____\x27','isCallExpression','init','name','@babel/parser','\x0aregisterMainFunctions();\x0a','indexOf','\x0a\x20\x20setupConsoleRedirect(isDevelopmentMode());\x0a\x20\x20//\x20检查是否有窗口状态需要恢复\x0a\x20\x20const\x20statesArg\x20=\x20process.argv.find(arg\x20=>\x20arg.startsWith(\x27--window-states=\x27));\x0a\x20\x20if\x20(statesArg)\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20statesPath\x20=\x20statesArg.split(\x27=\x27)[1];\x0a\x20\x20\x20\x20\x20\x20let\x20content\x20=\x20fs.readFileSync(statesPath,\x20\x27utf-8\x27);\x0a\x20\x20\x20\x20\x20\x20console.log(\x27content:\x27,\x20content);\x0a\x20\x20\x20\x20\x20\x20const\x20states\x20=\x20content.split(\x22------\x22).map(item\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20_item\x20=\x20item.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(!_item){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20JSON.parse(_item)\x0a\x20\x20\x20\x20\x20\x20}).reverse();\x0a\x20\x20\x20\x20\x20\x20//\x20恢复所有窗口\x0a\x20\x20\x20\x20\x20\x20for\x20(const\x20state\x20of\x20states)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20windowPath\x20=\x20state.windowPath;\x0a\x20\x20\x20\x20\x20\x20\x20\x20await\x20windowManager.restoreWindow(windowPath,\x20state);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20//\x20清理临时文件\x0a\x20\x20\x20\x20\x20\x20fs.unlinkSync(statesPath);\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20console.error(\x27恢复窗口状态失败:\x27,\x20error);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20\x0a\x20\x20\x20','parse','121537UNNzQV','@babel/generator','____replace_app_ready_code____','1349986mSErgX','21llhoEp','callee','845801puqQnk','____replace_handle_open_window____','10004UOVjPG','blockStatement','body','const\x20windowManager\x20=\x20require(\x27./window-manager\x27);\x0a','expressionStatement','code','ArrowFunctionExpression','replace','jsx','63HDVOgb','arguments','then','CallExpression','isIdentifier','exports','some','object','length','type','MemberExpression','node','\x27____replace_handle_open_window____\x27'];_0x2bc0=function(){return _0x4ee55f;};return _0x2bc0();}function getHandleOpenWindowCode(){return'\x0a//\x20注册\x20WindowManager\x20方法调用的\x20IPC\x20处理器\x0aipcMain.handle(\x27window-manager-action\x27,\x20async\x20(event,\x20{\x20method,\x20args\x20})\x20=>\x20{\x0a\x20\x20try\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20windowManager[method]\x20===\x20\x27function\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20windowManager[method].apply(windowManager,\x20args);\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x22方法\x20\x22+method+\x22\x20不存在\x22);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20}\x0a})\x0a';}function getIconvLiteCode(){return'const\x20iconv\x20=\x20require(\x27iconv-lite\x27);\x0a\x0a//\x20过滤特殊字符，只保留中文和普通字符\x0afunction\x20filterString(str)\x20{\x0a\x20\x20return\x20str.replace(/[\x5cuD800-\x5cuDBFF][\x5cuDC00-\x5cuDFFF]|[^\x5cx00-\x5cx7F\x5cu4E00-\x5cu9FFF]/g,\x20\x27\x27);\x0a}\x0a\x0a//\x20重写控制台输出方法\x0aconsole.log\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stdout.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}\x0a\x0aconsole.error\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stderr.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}';}function getHotReloadHandleCode(_0x521f4c){const _0x698bf4=_0x19f434;return _0x698bf4(0x1b5)+_0x521f4c+'\x0a';}function getHotReloadSetup(){return'\x0a//\x20判断是否为开发模式\x0afunction\x20isDevelopmentMode()\x20{\x0a\x20\x20//\x20检查命令行参数是否有\x20--dev\x20标志\x0a\x20\x20const\x20isDev\x20=\x20process.argv.includes(\x27--dev\x27);\x0a\x20\x20\x0a\x20\x20//\x20检查环境变量\x0a\x20\x20const\x20nodeEnv\x20=\x20process.env.NODE_ENV;\x0a\x20\x20const\x20isDevEnv\x20=\x20nodeEnv\x20===\x20\x27development\x27\x20||\x20nodeEnv\x20===\x20\x27dev\x27;\x0a\x20\x20\x0a\x20\x20return\x20isDev\x20||\x20isDevEnv;\x0a}\x0a//\x20设置主进程热重载\x0aif\x20(isDevelopmentMode())\x20{\x0a\x20\x20const\x20{\x20setupMainProcessHotReload\x20}\x20=\x20require(\x27./hot-reload\x27);\x0a\x20\x20//\x20console.log(\x27setupMainProcessHotReload\x27,__dirname);\x0a\x20\x20setupMainProcessHotReload(__dirname);\x0a}';}function _0x5f54(_0x38ed0f,_0x555c01){const _0x2bc076=_0x2bc0();return _0x5f54=function(_0x5f541b,_0x9fe8fd){_0x5f541b=_0x5f541b-0x19e;let _0xde6bee=_0x2bc076[_0x5f541b];return _0xde6bee;},_0x5f54(_0x38ed0f,_0x555c01);}module[_0x19f434(0x1cd)]={'processMainProcessFile':processMainProcessFile};