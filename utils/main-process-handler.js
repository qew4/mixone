const _0x3dfd19=_0xb482;function _0xb482(_0x3684c6,_0x28b0fd){const _0x5702a7=_0x5702();return _0xb482=function(_0xb48235,_0x2d719b){_0xb48235=_0xb48235-0x1ac;let _0x4a6170=_0x5702a7[_0xb48235];return _0x4a6170;},_0xb482(_0x3684c6,_0x28b0fd);}(function(_0x3192d7,_0x2cc1de){const _0x345f17=_0xb482,_0x409aa4=_0x3192d7();while(!![]){try{const _0x410cae=-parseInt(_0x345f17(0x1be))/0x1*(parseInt(_0x345f17(0x1e3))/0x2)+parseInt(_0x345f17(0x1d7))/0x3+-parseInt(_0x345f17(0x1bc))/0x4+-parseInt(_0x345f17(0x1b9))/0x5*(parseInt(_0x345f17(0x1d6))/0x6)+-parseInt(_0x345f17(0x1ad))/0x7*(-parseInt(_0x345f17(0x1bf))/0x8)+parseInt(_0x345f17(0x1c2))/0x9+parseInt(_0x345f17(0x1dc))/0xa;if(_0x410cae===_0x2cc1de)break;else _0x409aa4['push'](_0x409aa4['shift']());}catch(_0xdba36){_0x409aa4['push'](_0x409aa4['shift']());}}}(_0x5702,0x9e9f0));const parser=require(_0x3dfd19(0x1b1)),traverse=require(_0x3dfd19(0x1b7))['default'],generate=require(_0x3dfd19(0x1c0))[_0x3dfd19(0x1da)],t=require('@babel/types');function processMainProcessFile(_0x14e041,_0x3919d6){const _0x5553a0=_0x3dfd19,_0x7954b=parser[_0x5553a0(0x1b3)](_0x14e041,{'sourceType':'module','plugins':[_0x5553a0(0x1d9),_0x5553a0(0x1c3)]});let _0x264008='';traverse(_0x7954b,{'Program'(_0x11b04a){const _0x3dace0=_0x5553a0,_0x3d4ce9=_0x11b04a[_0x3dace0(0x1d1)][_0x3dace0(0x1bb)]['filter'](_0x129f11=>t[_0x3dace0(0x1cf)](_0x129f11)&&_0x129f11[_0x3dace0(0x1c1)][_0x3dace0(0x1dd)](_0x253492=>t[_0x3dace0(0x1df)](_0x253492[_0x3dace0(0x1b4)])&&t[_0x3dace0(0x1c5)](_0x253492[_0x3dace0(0x1b4)][_0x3dace0(0x1ce)])&&_0x253492['init'][_0x3dace0(0x1ce)]['name']===_0x3dace0(0x1cc)));_0x11b04a['traverse']({'CallExpression'(_0x29744a){const _0x3b8af9=_0x3dace0;if(_0x29744a['node'][_0x3b8af9(0x1ce)]&&_0x29744a[_0x3b8af9(0x1d1)][_0x3b8af9(0x1ce)][_0x3b8af9(0x1b2)]===_0x3b8af9(0x1d8)&&_0x29744a[_0x3b8af9(0x1d1)][_0x3b8af9(0x1ce)][_0x3b8af9(0x1e0)]['name']===_0x3b8af9(0x1c4)&&_0x29744a[_0x3b8af9(0x1d1)]['callee'][_0x3b8af9(0x1e1)][_0x3b8af9(0x1b2)]===_0x3b8af9(0x1ae)&&_0x29744a[_0x3b8af9(0x1d1)][_0x3b8af9(0x1ce)][_0x3b8af9(0x1e1)]['callee'][_0x3b8af9(0x1e0)]['name']===_0x3b8af9(0x1ac)){const _0xac0953=_0x29744a['node'][_0x3b8af9(0x1e2)][0x0];if(_0xac0953[_0x3b8af9(0x1b2)]===_0x3b8af9(0x1b6)||_0xac0953[_0x3b8af9(0x1b2)]==='FunctionExpression'){const _0x3a7670=generate(_0xac0953[_0x3b8af9(0x1bb)],{'retainLines':!![],'compact':![],'quotes':'single'});_0x264008=_0x3a7670[_0x3b8af9(0x1c8)],_0xac0953['body']=t[_0x3b8af9(0x1af)]([t[_0x3b8af9(0x1b5)](t[_0x3b8af9(0x1b0)](_0x3b8af9(0x1d3)))]);}}}});if(_0x3d4ce9[_0x3dace0(0x1e5)]>0x0){const _0x23ab12=_0x3d4ce9[_0x3d4ce9[_0x3dace0(0x1e5)]-0x1],_0x3a5482=_0x11b04a['node'][_0x3dace0(0x1bb)][_0x3dace0(0x1e4)](_0x23ab12);_0x11b04a[_0x3dace0(0x1d1)][_0x3dace0(0x1bb)][_0x3dace0(0x1d4)](_0x3a5482+0x1,0x0,t[_0x3dace0(0x1b5)](t[_0x3dace0(0x1b0)](_0x3dace0(0x1b8))),t['expressionStatement'](t[_0x3dace0(0x1b0)](_0x3dace0(0x1cb))));}}});const _0x432e8e=generate(_0x7954b,{'retainLines':!![],'compact':![],'quotes':_0x5553a0(0x1ca),'concise':![],'jsescOption':{'quotes':'single'}}),_0x3cb7dc=_0x432e8e[_0x5553a0(0x1c8)]['replace'](_0x5553a0(0x1d2),getIconvLiteCode())['replace']('\x27____replace_handle_open_window____\x27',getHandleOpenWindowCode())[_0x5553a0(0x1de)](_0x5553a0(0x1c7),getHotReloadHandleCode(_0x264008)),_0xaf9e6c=getHotReloadSetup(),_0x1a97e1=_0x5553a0(0x1d5),_0x2af5e2=_0x5553a0(0x1bd),_0x640eda=_0x5553a0(0x1ba),_0x4415ad='const\x20fs\x20=\x20require(\x27fs\x27);\x0a',_0x1a4ccf=_0x5553a0(0x1c6);return _0x1a97e1+_0x4415ad+_0x1a4ccf+_0x640eda+_0x2af5e2+_0x3cb7dc+'\x0aregisterMainFunctions();\x0a'+_0xaf9e6c;}function getHandleOpenWindowCode(){const _0x4391b9=_0x3dfd19;return _0x4391b9(0x1d0);}function _0x5702(){const _0x418f07=['____replace_app_ready_code____','splice','const\x20{\x20registerMainFunctions\x20}\x20=\x20require(\x27./fn\x27);\x0a','5684574PfuAkX','2146941kWtnae','MemberExpression','jsx','default','const\x20iconv\x20=\x20require(\x27iconv-lite\x27);\x0a\x0a//\x20过滤特殊字符，只保留中文和普通字符\x0afunction\x20filterString(str)\x20{\x0a\x20\x20return\x20str.replace(/[\x5cuD800-\x5cuDBFF][\x5cuDC00-\x5cuDFFF]|[^\x5cx00-\x5cx7F\x5cu4E00-\x5cu9FFF]/g,\x20\x27\x27);\x0a}\x0a\x0a//\x20重写控制台输出方法\x0aconsole.log\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stdout.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}\x0a\x0aconsole.error\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stderr.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}','18235990jTgMPu','some','replace','isCallExpression','property','object','arguments','291514lemVfj','indexOf','length','whenReady','4585MvJVLR','CallExpression','blockStatement','stringLiteral','@babel/parser','type','parse','init','expressionStatement','ArrowFunctionExpression','@babel/traverse','____replace_handle_open_window____','5Lqqjwd','const\x20windowManager\x20=\x20require(\x27./window-manager\x27);\x0a','body','4747872RHCtCY','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);\x0a','7GylEMA','5200GClExH','@babel/generator','declarations','7554708pWbQUP','typescript','then','isIdentifier','const\x20{\x20ipcMain\x20}\x20=\x20require(\x27electron\x27);\x0a','\x27____replace_app_ready_code____\x27','code','\x0a\x20\x20setupConsoleRedirect(isDevelopmentMode());\x0a\x20\x20//\x20检查是否有窗口状态需要恢复\x0a\x20\x20const\x20statesArg\x20=\x20process.argv.find(arg\x20=>\x20arg.startsWith(\x27--window-states=\x27));\x0a\x20\x20if\x20(statesArg)\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20statesPath\x20=\x20statesArg.split(\x27=\x27)[1];\x0a\x20\x20\x20\x20\x20\x20let\x20content\x20=\x20fs.readFileSync(statesPath,\x20\x27utf-8\x27);\x0a\x20\x20\x20\x20\x20\x20console.log(\x27content:\x27,\x20content);\x0a\x20\x20\x20\x20\x20\x20const\x20states\x20=\x20content.split(\x22------\x22).map(item\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20_item\x20=\x20item.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(!_item){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20JSON.parse(_item)\x0a\x20\x20\x20\x20\x20\x20}).reverse();\x0a\x20\x20\x20\x20\x20\x20//\x20恢复所有窗口\x0a\x20\x20\x20\x20\x20\x20for\x20(const\x20state\x20of\x20states)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20windowPath\x20=\x20state.windowPath;\x0a\x20\x20\x20\x20\x20\x20\x20\x20await\x20windowManager.restoreWindow(windowPath,\x20state);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20//\x20清理临时文件\x0a\x20\x20\x20\x20\x20\x20fs.unlinkSync(statesPath);\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20console.error(\x27恢复窗口状态失败:\x27,\x20error);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20\x0a\x20\x20\x20','single','____replace_iconv_lite____','require','exports','callee','isVariableDeclaration','\x0a//\x20注册\x20WindowManager\x20方法调用的\x20IPC\x20处理器\x0aipcMain.handle(\x27window-manager-action\x27,\x20async\x20(event,\x20{\x20method,\x20args\x20})\x20=>\x20{\x0a\x20\x20try\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20windowManager[method]\x20===\x20\x27function\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20windowManager[method].apply(windowManager,\x20args);\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x22方法\x20\x22+method+\x22\x20不存在\x22);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20}\x0a})\x0a','node','\x27____replace_iconv_lite____\x27'];_0x5702=function(){return _0x418f07;};return _0x5702();}function getIconvLiteCode(){const _0x42af03=_0x3dfd19;return _0x42af03(0x1db);}function getHotReloadHandleCode(_0x2f1252){const _0x193e8d=_0x3dfd19;return _0x193e8d(0x1c9)+_0x2f1252+'\x0a';}function getHotReloadSetup(){return'\x0a//\x20判断是否为开发模式\x0afunction\x20isDevelopmentMode()\x20{\x0a\x20\x20//\x20检查命令行参数是否有\x20--dev\x20标志\x0a\x20\x20const\x20isDev\x20=\x20process.argv.includes(\x27--dev\x27);\x0a\x20\x20\x0a\x20\x20//\x20检查环境变量\x0a\x20\x20const\x20nodeEnv\x20=\x20process.env.NODE_ENV;\x0a\x20\x20const\x20isDevEnv\x20=\x20nodeEnv\x20===\x20\x27development\x27\x20||\x20nodeEnv\x20===\x20\x27dev\x27;\x0a\x20\x20\x0a\x20\x20return\x20isDev\x20||\x20isDevEnv;\x0a}\x0a//\x20设置主进程热重载\x0aif\x20(isDevelopmentMode())\x20{\x0a\x20\x20const\x20{\x20setupMainProcessHotReload\x20}\x20=\x20require(\x27./hot-reload\x27);\x0a\x20\x20//\x20console.log(\x27setupMainProcessHotReload\x27,__dirname);\x0a\x20\x20setupMainProcessHotReload(__dirname);\x0a}';}module[_0x3dfd19(0x1cd)]={'processMainProcessFile':processMainProcessFile};