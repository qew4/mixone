const _0x20a5c6=_0x5726;function _0x5726(_0x3551db,_0x182c73){const _0x4dfb88=_0x4dfb();return _0x5726=function(_0x572677,_0x2985ff){_0x572677=_0x572677-0x1b8;let _0x35116e=_0x4dfb88[_0x572677];return _0x35116e;},_0x5726(_0x3551db,_0x182c73);}(function(_0x44dcde,_0x15fca4){const _0x32f37f=_0x5726,_0x1cefa4=_0x44dcde();while(!![]){try{const _0x2012e7=parseInt(_0x32f37f(0x1c3))/0x1*(parseInt(_0x32f37f(0x1e9))/0x2)+parseInt(_0x32f37f(0x1d2))/0x3+-parseInt(_0x32f37f(0x1ec))/0x4+parseInt(_0x32f37f(0x1dc))/0x5*(-parseInt(_0x32f37f(0x1d1))/0x6)+-parseInt(_0x32f37f(0x1d8))/0x7+parseInt(_0x32f37f(0x1c2))/0x8*(-parseInt(_0x32f37f(0x1d3))/0x9)+-parseInt(_0x32f37f(0x1e1))/0xa*(-parseInt(_0x32f37f(0x1b8))/0xb);if(_0x2012e7===_0x15fca4)break;else _0x1cefa4['push'](_0x1cefa4['shift']());}catch(_0x561aa6){_0x1cefa4['push'](_0x1cefa4['shift']());}}}(_0x4dfb,0x27224));const parser=require(_0x20a5c6(0x1e5)),traverse=require(_0x20a5c6(0x1d7))[_0x20a5c6(0x1f2)],generate=require('@babel/generator')[_0x20a5c6(0x1f2)],t=require(_0x20a5c6(0x1ce));function processMainProcessFile(_0x55c889,_0x337169){const _0x5053e0=_0x20a5c6,_0x1001c6=parser[_0x5053e0(0x1f0)](_0x55c889,{'sourceType':_0x5053e0(0x1c4),'plugins':[_0x5053e0(0x1e3),_0x5053e0(0x1eb)]});let _0x40b59e='';traverse(_0x1001c6,{'Program'(_0x34ed12){const _0x28d5d6=_0x5053e0,_0x8f911=_0x34ed12[_0x28d5d6(0x1e8)][_0x28d5d6(0x1d4)][_0x28d5d6(0x1e7)](_0x172ea6=>t['isVariableDeclaration'](_0x172ea6)&&_0x172ea6[_0x28d5d6(0x1e2)][_0x28d5d6(0x1c7)](_0x5cf391=>t[_0x28d5d6(0x1be)](_0x5cf391[_0x28d5d6(0x1f3)])&&t['isIdentifier'](_0x5cf391[_0x28d5d6(0x1f3)][_0x28d5d6(0x1de)])&&_0x5cf391[_0x28d5d6(0x1f3)]['callee'][_0x28d5d6(0x1c1)]==='require'));_0x34ed12[_0x28d5d6(0x1e6)]({'CallExpression'(_0x331b0a){const _0x2a6c11=_0x28d5d6;if(_0x331b0a[_0x2a6c11(0x1e8)]['callee']&&_0x331b0a['node']['callee'][_0x2a6c11(0x1d6)]==='MemberExpression'&&_0x331b0a[_0x2a6c11(0x1e8)][_0x2a6c11(0x1de)][_0x2a6c11(0x1bc)][_0x2a6c11(0x1c1)]===_0x2a6c11(0x1ee)&&_0x331b0a[_0x2a6c11(0x1e8)][_0x2a6c11(0x1de)][_0x2a6c11(0x1b9)][_0x2a6c11(0x1d6)]===_0x2a6c11(0x1cf)&&_0x331b0a[_0x2a6c11(0x1e8)][_0x2a6c11(0x1de)][_0x2a6c11(0x1b9)][_0x2a6c11(0x1de)]['property'][_0x2a6c11(0x1c1)]===_0x2a6c11(0x1ca)){const _0x4e8f03=_0x331b0a[_0x2a6c11(0x1e8)][_0x2a6c11(0x1df)][0x0];if(_0x4e8f03[_0x2a6c11(0x1d6)]===_0x2a6c11(0x1bd)||_0x4e8f03[_0x2a6c11(0x1d6)]==='FunctionExpression'){const _0x44e0dd=generate(_0x4e8f03[_0x2a6c11(0x1d4)],{'retainLines':!![],'compact':![],'quotes':_0x2a6c11(0x1d0)});_0x40b59e=_0x44e0dd[_0x2a6c11(0x1cb)],_0x4e8f03[_0x2a6c11(0x1d4)]=t[_0x2a6c11(0x1ed)]([t[_0x2a6c11(0x1d9)](t[_0x2a6c11(0x1ea)]('____replace_app_ready_code____'))]);}}}});if(_0x8f911[_0x28d5d6(0x1ba)]>0x0){const _0x4c41c6=_0x8f911[_0x8f911[_0x28d5d6(0x1ba)]-0x1],_0x44e90b=_0x34ed12['node'][_0x28d5d6(0x1d4)][_0x28d5d6(0x1da)](_0x4c41c6);_0x34ed12[_0x28d5d6(0x1e8)][_0x28d5d6(0x1d4)]['splice'](_0x44e90b+0x1,0x0,t[_0x28d5d6(0x1d9)](t[_0x28d5d6(0x1ea)](_0x28d5d6(0x1c5))),t['expressionStatement'](t[_0x28d5d6(0x1ea)](_0x28d5d6(0x1d5))));}}});const _0x356cfd=generate(_0x1001c6,{'retainLines':!![],'compact':![],'quotes':'single','concise':![],'jsescOption':{'quotes':_0x5053e0(0x1d0)}}),_0x3d5933=_0x356cfd[_0x5053e0(0x1cb)][_0x5053e0(0x1dd)](_0x5053e0(0x1e4),getIconvLiteCode())['replace'](_0x5053e0(0x1c0),getHandleOpenWindowCode())['replace']('\x27____replace_app_ready_code____\x27',getHotReloadHandleCode(_0x40b59e)),_0x5e29a4=getHotReloadSetup(),_0x293309=_0x5053e0(0x1c6),_0x45198a=_0x5053e0(0x1db),_0x21b316=_0x5053e0(0x1ef),_0x391d80=_0x5053e0(0x1bf),_0x2a1be0=_0x5053e0(0x1c8);return _0x293309+_0x391d80+_0x2a1be0+_0x21b316+_0x45198a+_0x3d5933+_0x5053e0(0x1e0)+_0x5e29a4;}function getHandleOpenWindowCode(){const _0xf432e2=_0x20a5c6;return _0xf432e2(0x1f1);}function getIconvLiteCode(){const _0x5a4715=_0x20a5c6;return _0x5a4715(0x1cd);}function _0x4dfb(){const _0x47a751=['\x0a\x20\x20setupConsoleRedirect(isDevelopmentMode());\x0a\x20\x20//\x20检查是否有窗口状态需要恢复\x0a\x20\x20const\x20statesArg\x20=\x20process.argv.find(arg\x20=>\x20arg.startsWith(\x27--window-states=\x27));\x0a\x20\x20if\x20(statesArg)\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20statesPath\x20=\x20statesArg.split(\x27=\x27)[1];\x0a\x20\x20\x20\x20\x20\x20let\x20content\x20=\x20fs.readFileSync(statesPath,\x20\x27utf-8\x27);\x0a\x20\x20\x20\x20\x20\x20console.log(\x27content:\x27,\x20content);\x0a\x20\x20\x20\x20\x20\x20const\x20states\x20=\x20content.split(\x22------\x22).map(item\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20_item\x20=\x20item.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(!_item){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20JSON.parse(_item)\x0a\x20\x20\x20\x20\x20\x20}).reverse();\x0a\x20\x20\x20\x20\x20\x20//\x20恢复所有窗口\x0a\x20\x20\x20\x20\x20\x20for\x20(const\x20state\x20of\x20states)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20windowPath\x20=\x20state.windowPath;\x0a\x20\x20\x20\x20\x20\x20\x20\x20await\x20windowManager.restoreWindow(windowPath,\x20state);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20//\x20清理临时文件\x0a\x20\x20\x20\x20\x20\x20fs.unlinkSync(statesPath);\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20console.error(\x27恢复窗口状态失败:\x27,\x20error);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20\x0a\x20\x20\x20','property','ArrowFunctionExpression','isCallExpression','const\x20fs\x20=\x20require(\x27fs\x27);\x0a','\x27____replace_handle_open_window____\x27','name','93304mIOjFl','4041wfHTxa','module','____replace_handle_open_window____','const\x20{\x20registerMainFunctions\x20}\x20=\x20require(\x27./fn\x27);\x0a','some','const\x20{\x20ipcMain\x20}\x20=\x20require(\x27electron\x27);\x0a','\x0a//\x20判断是否为开发模式\x0afunction\x20isDevelopmentMode()\x20{\x0a\x20\x20//\x20检查命令行参数是否有\x20--dev\x20标志\x0a\x20\x20const\x20isDev\x20=\x20process.argv.includes(\x27--dev\x27);\x0a\x20\x20\x0a\x20\x20//\x20检查环境变量\x0a\x20\x20const\x20nodeEnv\x20=\x20process.env.NODE_ENV;\x0a\x20\x20const\x20isDevEnv\x20=\x20nodeEnv\x20===\x20\x27development\x27\x20||\x20nodeEnv\x20===\x20\x27dev\x27;\x0a\x20\x20\x0a\x20\x20return\x20isDev\x20||\x20isDevEnv;\x0a}\x0a//\x20设置主进程热重载\x0aif\x20(isDevelopmentMode())\x20{\x0a\x20\x20const\x20{\x20setupMainProcessHotReload\x20}\x20=\x20require(\x27./hot-reload\x27);\x0a\x20\x20console.log(\x27setupMainProcessHotReload\x27,__dirname);\x0a\x20\x20setupMainProcessHotReload(__dirname);\x0a}','whenReady','code','exports','const\x20iconv\x20=\x20require(\x27iconv-lite\x27);\x0a\x0a//\x20过滤特殊字符，只保留中文和普通字符\x0afunction\x20filterString(str)\x20{\x0a\x20\x20return\x20str.replace(/[\x5cuD800-\x5cuDBFF][\x5cuDC00-\x5cuDFFF]|[^\x5cx00-\x5cx7F\x5cu4E00-\x5cu9FFF]/g,\x20\x27\x27);\x0a}\x0a\x0a//\x20重写控制台输出方法\x0aconsole.log\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stdout.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}\x0a\x0aconsole.error\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stderr.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}','@babel/types','CallExpression','single','150CYEwgN','27018CXrANV','18ZnSNOM','body','____replace_iconv_lite____','type','@babel/traverse','1928570FzXvIh','expressionStatement','indexOf','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);\x0a','15280uslskS','replace','callee','arguments','\x0aregisterMainFunctions();\x0a','4580tvNuIZ','declarations','jsx','\x27____replace_iconv_lite____\x27','@babel/parser','traverse','filter','node','46wgQPWh','stringLiteral','typescript','159972kKIRxD','blockStatement','then','const\x20windowManager\x20=\x20require(\x27./window-manager\x27);\x0a','parse','\x0a//\x20注册\x20WindowManager\x20方法调用的\x20IPC\x20处理器\x0aipcMain.handle(\x27window-manager-action\x27,\x20async\x20(event,\x20{\x20method,\x20args\x20})\x20=>\x20{\x0a\x20\x20try\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20windowManager[method]\x20===\x20\x27function\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20windowManager[method].apply(windowManager,\x20args);\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x22方法\x20\x22+method+\x22\x20不存在\x22);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20}\x0a})\x0a','default','init','11374SDQtsz','object','length'];_0x4dfb=function(){return _0x47a751;};return _0x4dfb();}function getHotReloadHandleCode(_0x50541d){const _0x967bde=_0x20a5c6;return _0x967bde(0x1bb)+_0x50541d+'\x0a';}function getHotReloadSetup(){const _0x34024a=_0x20a5c6;return _0x34024a(0x1c9);}module[_0x20a5c6(0x1cc)]={'processMainProcessFile':processMainProcessFile};