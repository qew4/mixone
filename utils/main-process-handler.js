function _0x37df(){const _0x163dd6=['9TvnzdB','replace','\x0a//\x20注册\x20WindowManager\x20方法调用的\x20IPC\x20处理器\x0aipcMain.handle(\x27window-manager-action\x27,\x20async\x20(event,\x20{\x20method,\x20args\x20})\x20=>\x20{\x0a\x20\x20try\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20windowManager[method]\x20===\x20\x27function\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20windowManager[method].apply(windowManager,\x20args);\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x22方法\x20\x22+method+\x22\x20不存在\x22);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20}\x0a})\x0a','node','5117413qwIMRB','\x27____replace_app_ready_code____\x27','const\x20iconv\x20=\x20require(\x27iconv-lite\x27);\x0a\x0a//\x20过滤特殊字符，只保留中文和普通字符\x0afunction\x20filterString(str)\x20{\x0a\x20\x20return\x20str.replace(/[\x5cuD800-\x5cuDBFF][\x5cuDC00-\x5cuDFFF]|[^\x5cx00-\x5cx7F\x5cu4E00-\x5cu9FFF]/g,\x20\x27\x27);\x0a}\x0a\x0a//\x20重写控制台输出方法\x0aconsole.log\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stdout.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}\x0a\x0aconsole.error\x20=\x20(...args)\x20=>\x20{\x0a\x20\x20const\x20message\x20=\x20args.map(arg\x20=>\x20{\x0a\x20\x20\x20\x20if\x20(typeof\x20arg\x20===\x20\x27string\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20filterString(arg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20return\x20arg;\x0a\x20\x20}).join(\x27\x20\x27);\x0a\x20\x20process.stderr.write(iconv.encode(message\x20+\x20\x27\x5cn\x27,\x20\x27gb2312\x27));\x0a}','parse','MemberExpression','134qQpviN','\x0a//\x20判断是否为开发模式\x0afunction\x20isDevelopmentMode()\x20{\x0a\x20\x20//\x20检查命令行参数是否有\x20--dev\x20标志\x0a\x20\x20const\x20isDev\x20=\x20process.argv.includes(\x27--dev\x27);\x0a\x20\x20\x0a\x20\x20//\x20检查环境变量\x0a\x20\x20const\x20nodeEnv\x20=\x20process.env.NODE_ENV;\x0a\x20\x20const\x20isDevEnv\x20=\x20nodeEnv\x20===\x20\x27development\x27\x20||\x20nodeEnv\x20===\x20\x27dev\x27;\x0a\x20\x20\x0a\x20\x20return\x20isDev\x20||\x20isDevEnv;\x0a}\x0a//\x20设置主进程热重载\x0aif\x20(isDevelopmentMode())\x20{\x0a\x20\x20const\x20{\x20setupMainProcessHotReload\x20}\x20=\x20require(\x27./hot-reload\x27);\x0a\x20\x20console.log(\x27setupMainProcessHotReload\x27,__dirname);\x0a\x20\x20setupMainProcessHotReload(__dirname);\x0a}','length','arguments','\x0a\x20\x20setupConsoleRedirect(isDevelopmentMode());\x0a\x20\x20//\x20检查是否有窗口状态需要恢复\x0a\x20\x20const\x20statesArg\x20=\x20process.argv.find(arg\x20=>\x20arg.startsWith(\x27--window-states=\x27));\x0a\x20\x20if\x20(statesArg)\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20statesPath\x20=\x20statesArg.split(\x27=\x27)[1];\x0a\x20\x20\x20\x20\x20\x20let\x20content\x20=\x20fs.readFileSync(statesPath,\x20\x27utf-8\x27);\x0a\x20\x20\x20\x20\x20\x20console.log(\x27content:\x27,\x20content);\x0a\x20\x20\x20\x20\x20\x20const\x20states\x20=\x20content.split(\x22------\x22).map(item\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20_item\x20=\x20item.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(!_item){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20JSON.parse(_item)\x0a\x20\x20\x20\x20\x20\x20}).reverse();\x0a\x20\x20\x20\x20\x20\x20//\x20恢复所有窗口\x0a\x20\x20\x20\x20\x20\x20for\x20(const\x20state\x20of\x20states)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20windowPath\x20=\x20state.windowPath;\x0a\x20\x20\x20\x20\x20\x20\x20\x20await\x20windowManager.restoreWindow(windowPath,\x20state);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20//\x20清理临时文件\x0a\x20\x20\x20\x20\x20\x20fs.unlinkSync(statesPath);\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20console.error(\x27恢复窗口状态失败:\x27,\x20error);\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20\x0a\x20\x20\x20','single','6586984TXasiL','some','default','filter','CallExpression','then','require','object','name','ArrowFunctionExpression','whenReady','type','FunctionExpression','18RfSZtA','____replace_handle_open_window____','declarations','\x27____replace_iconv_lite____\x27','exports','body','splice','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);\x0a','@babel/traverse','627960teZJOt','3214542IRaVHb','\x0aregisterMainFunctions();\x0a','property','const\x20{\x20registerMainFunctions\x20}\x20=\x20require(\x27./fn\x27);\x0a','init','code','11jbFlMe','32592830dlVEDF','const\x20{\x20ipcMain\x20}\x20=\x20require(\x27electron\x27);\x0a','@babel/types','expressionStatement','callee','503872Pnqtej','const\x20windowManager\x20=\x20require(\x27./window-manager\x27);\x0a','\x27____replace_handle_open_window____\x27','18637LvliNc','____replace_iconv_lite____','stringLiteral','isVariableDeclaration','blockStatement'];_0x37df=function(){return _0x163dd6;};return _0x37df();}const _0x2a4cd0=_0x2390;(function(_0x4203b8,_0x38d956){const _0x2fc4c8=_0x2390,_0x1ba9c5=_0x4203b8();while(!![]){try{const _0x370947=-parseInt(_0x2fc4c8(0x1bd))/0x1*(parseInt(_0x2fc4c8(0x1cb))/0x2)+parseInt(_0x2fc4c8(0x1de))/0x3*(-parseInt(_0x2fc4c8(0x1ba))/0x4)+-parseInt(_0x2fc4c8(0x1e7))/0x5+-parseInt(_0x2fc4c8(0x1e8))/0x6+-parseInt(_0x2fc4c8(0x1c6))/0x7+-parseInt(_0x2fc4c8(0x1d1))/0x8*(-parseInt(_0x2fc4c8(0x1c2))/0x9)+-parseInt(_0x2fc4c8(0x1b5))/0xa*(-parseInt(_0x2fc4c8(0x1b4))/0xb);if(_0x370947===_0x38d956)break;else _0x1ba9c5['push'](_0x1ba9c5['shift']());}catch(_0x929ff3){_0x1ba9c5['push'](_0x1ba9c5['shift']());}}}(_0x37df,0xa76c1));const parser=require('@babel/parser'),traverse=require(_0x2a4cd0(0x1e6))[_0x2a4cd0(0x1d3)],generate=require('@babel/generator')['default'],t=require(_0x2a4cd0(0x1b7));function processMainProcessFile(_0x4347c9,_0x3857f0){const _0x2cf332=_0x2a4cd0,_0x144eba=parser[_0x2cf332(0x1c9)](_0x4347c9,{'sourceType':'module','plugins':['jsx','typescript']});let _0x1c3e56='';traverse(_0x144eba,{'Program'(_0x346f23){const _0x5a51df=_0x2cf332,_0x433fb3=_0x346f23['node'][_0x5a51df(0x1e3)][_0x5a51df(0x1d4)](_0x5cfd11=>t[_0x5a51df(0x1c0)](_0x5cfd11)&&_0x5cfd11[_0x5a51df(0x1e0)][_0x5a51df(0x1d2)](_0x9f5012=>t['isCallExpression'](_0x9f5012[_0x5a51df(0x1b2)])&&t['isIdentifier'](_0x9f5012['init'][_0x5a51df(0x1b9)])&&_0x9f5012[_0x5a51df(0x1b2)][_0x5a51df(0x1b9)][_0x5a51df(0x1d9)]===_0x5a51df(0x1d7)));_0x346f23['traverse']({'CallExpression'(_0x24b8a8){const _0xb47fb0=_0x5a51df;if(_0x24b8a8['node']['callee']&&_0x24b8a8[_0xb47fb0(0x1c5)][_0xb47fb0(0x1b9)][_0xb47fb0(0x1dc)]===_0xb47fb0(0x1ca)&&_0x24b8a8[_0xb47fb0(0x1c5)]['callee'][_0xb47fb0(0x1b0)][_0xb47fb0(0x1d9)]===_0xb47fb0(0x1d6)&&_0x24b8a8['node']['callee']['object'][_0xb47fb0(0x1dc)]===_0xb47fb0(0x1d5)&&_0x24b8a8[_0xb47fb0(0x1c5)][_0xb47fb0(0x1b9)][_0xb47fb0(0x1d8)][_0xb47fb0(0x1b9)][_0xb47fb0(0x1b0)]['name']===_0xb47fb0(0x1db)){const _0x2314bf=_0x24b8a8[_0xb47fb0(0x1c5)][_0xb47fb0(0x1ce)][0x0];if(_0x2314bf[_0xb47fb0(0x1dc)]===_0xb47fb0(0x1da)||_0x2314bf[_0xb47fb0(0x1dc)]===_0xb47fb0(0x1dd)){const _0x4b4afa=generate(_0x2314bf[_0xb47fb0(0x1e3)],{'retainLines':!![],'compact':![],'quotes':_0xb47fb0(0x1d0)});_0x1c3e56=_0x4b4afa[_0xb47fb0(0x1b3)],_0x2314bf[_0xb47fb0(0x1e3)]=t[_0xb47fb0(0x1c1)]([t[_0xb47fb0(0x1b8)](t[_0xb47fb0(0x1bf)]('____replace_app_ready_code____'))]);}}}});if(_0x433fb3[_0x5a51df(0x1cd)]>0x0){const _0x2876e0=_0x433fb3[_0x433fb3['length']-0x1],_0x3f15c6=_0x346f23[_0x5a51df(0x1c5)]['body']['indexOf'](_0x2876e0);_0x346f23['node']['body'][_0x5a51df(0x1e4)](_0x3f15c6+0x1,0x0,t['expressionStatement'](t['stringLiteral'](_0x5a51df(0x1df))),t[_0x5a51df(0x1b8)](t[_0x5a51df(0x1bf)](_0x5a51df(0x1be))));}}});const _0x5c6242=generate(_0x144eba,{'retainLines':!![],'compact':![],'quotes':'single','concise':![],'jsescOption':{'quotes':_0x2cf332(0x1d0)}}),_0x41092f=_0x5c6242[_0x2cf332(0x1b3)]['replace'](_0x2cf332(0x1e1),getIconvLiteCode())[_0x2cf332(0x1c3)](_0x2cf332(0x1bc),getHandleOpenWindowCode())[_0x2cf332(0x1c3)](_0x2cf332(0x1c7),getHotReloadHandleCode(_0x1c3e56)),_0x270b3a=getHotReloadSetup(),_0x2b8ba7=_0x2cf332(0x1b1),_0x429432=_0x2cf332(0x1e5),_0x121d10=_0x2cf332(0x1bb),_0x322a79='const\x20fs\x20=\x20require(\x27fs\x27);\x0a',_0x22be7e=_0x2cf332(0x1b6);return _0x2b8ba7+_0x322a79+_0x22be7e+_0x121d10+_0x429432+_0x41092f+_0x2cf332(0x1e9)+_0x270b3a;}function getHandleOpenWindowCode(){const _0x5d170a=_0x2a4cd0;return _0x5d170a(0x1c4);}function _0x2390(_0x304200,_0x4dba55){const _0x37dfa4=_0x37df();return _0x2390=function(_0x2390d2,_0x58701a){_0x2390d2=_0x2390d2-0x1b0;let _0x2f6c30=_0x37dfa4[_0x2390d2];return _0x2f6c30;},_0x2390(_0x304200,_0x4dba55);}function getIconvLiteCode(){const _0x54386f=_0x2a4cd0;return _0x54386f(0x1c8);}function getHotReloadHandleCode(_0x14a29d){const _0x49c332=_0x2a4cd0;return _0x49c332(0x1cf)+_0x14a29d+'\x0a';}function getHotReloadSetup(){const _0x537604=_0x2a4cd0;return _0x537604(0x1cc);}module[_0x2a4cd0(0x1e2)]={'processMainProcessFile':processMainProcessFile};