const _0x1ea33f=_0x58f5;function _0x31c9(){const _0x6082b=['4yYXERs','path','✅\x20已删除对应的输出文件:\x20','httpServer','👋\x20关闭文件监听','dirname','29871783KGrPJs','exports','🔄\x20重新编译\x20preload.js:\x20','**/package.json','preload.js','change','unlinkSync','child_process','watch','5398720WNNKJV','resolve','--generate-preload','cwd','**/scripts/**','error','➕\x20新增文件:\x20','rmSync','SIGINT','windows','readdirSync','scripts/compile.js','unlinkDir','✅\x20已删除对应的输出目录:\x20','windows/','3492741LTWFYI','4nySVCp','includes','2886583CZakpC','313144rStDMs','--file','🗑️\x20检测到目录删除:\x20','**/*.vue','delete','length','join','rmdirSync','close','existsSync','inherit','../shared/watch-manager','🔄\x20处理窗口\x20preload.js:\x20','📝\x20文件变化:\x20','❌\x20删除输出文件失败:\x20','basename','**/*.js','message','log','setWatchingStatus','**/.git/**','add','unlink','chokidar','290842nhkDri','✅\x20已删除空的输出目录:\x20','**/*.html','👀\x20开始监听文件变化(服务器模式)...','🗑️\x20检测到文件删除:\x20','**/out/**','**/*.css','node','relative','❌\x20删除输出目录失败:\x20','out','2937738VqfFeI'];_0x31c9=function(){return _0x6082b;};return _0x31c9();}(function(_0x4a82e8,_0x442bab){const _0x417489=_0x58f5,_0x33e181=_0x4a82e8();while(!![]){try{const _0x3f2cbf=parseInt(_0x417489(0x1d3))/0x1*(parseInt(_0x417489(0x1b8))/0x2)+parseInt(_0x417489(0x1b7))/0x3*(-parseInt(_0x417489(0x1df))/0x4)+-parseInt(_0x417489(0x1ee))/0x5+-parseInt(_0x417489(0x1de))/0x6+-parseInt(_0x417489(0x1ba))/0x7+-parseInt(_0x417489(0x1bb))/0x8+parseInt(_0x417489(0x1e5))/0x9;if(_0x3f2cbf===_0x442bab)break;else _0x33e181['push'](_0x33e181['shift']());}catch(_0x22ba12){_0x33e181['push'](_0x33e181['shift']());}}}(_0x31c9,0xaeb7d));const chokidar=require(_0x1ea33f(0x1d2)),path=require(_0x1ea33f(0x1e0)),{spawnSync}=require(_0x1ea33f(0x1ec)),watchManager=require(_0x1ea33f(0x1c6)),fs=require('fs');function createWatchConfig(){const _0x1074a5=_0x1ea33f;return{'ignored':['**/node_modules/**',_0x1074a5(0x1d8),_0x1074a5(0x1f2),'**/vite.config.js',_0x1074a5(0x1e8),'**/package-lock.json',_0x1074a5(0x1cf)],'persistent':!![],'ignoreInitial':!![]};}function _0x58f5(_0x17e28e,_0x329c96){const _0x31c932=_0x31c9();return _0x58f5=function(_0x58f52f,_0x180df5){_0x58f52f=_0x58f52f-0x1b7;let _0xd6dea1=_0x31c932[_0x58f52f];return _0xd6dea1;},_0x58f5(_0x17e28e,_0x329c96);}function setupCompileWatcher(_0x4620d4,_0x3d427b){const _0x2864aa=_0x1ea33f;console['log']('👀\x20开始监听文件变化(编译模式)...');const _0x5c39bb=process[_0x2864aa(0x1f1)](),_0x54c779=path[_0x2864aa(0x1ef)](_0x5c39bb,_0x2864aa(0x1dd));function _0x43e705(_0x2a8b33,_0x462acf){const _0x46f5d0=_0x2864aa,_0x2010b9=path[_0x46f5d0(0x1db)](_0x5c39bb,_0x2a8b33);if(_0x2010b9[_0x46f5d0(0x1b9)](_0x46f5d0(0x1fc))&&path[_0x46f5d0(0x1ca)](_0x2a8b33)===_0x46f5d0(0x1e9)){const _0x1ed641=path['dirname'](_0x2010b9)['split'](_0x46f5d0(0x1fc))[0x1],_0x246f4f=path[_0x46f5d0(0x1c1)](_0x54c779,_0x46f5d0(0x1f7),_0x1ed641);if(_0x462acf===_0x46f5d0(0x1bf))return console[_0x46f5d0(0x1cd)]('🔄\x20重新生成默认\x20preload.js:\x20'+_0x2010b9),_0x3d427b(_0x2a8b33),!![];else{if(_0x462acf===_0x46f5d0(0x1ea)||_0x462acf===_0x46f5d0(0x1d0))return console[_0x46f5d0(0x1cd)](_0x46f5d0(0x1e7)+_0x2010b9),_0x4620d4(_0x2a8b33),!![];}}return![];}watchManager[_0x2864aa(0x1ce)](!![]);const _0x524539=chokidar[_0x2864aa(0x1ed)]([path[_0x2864aa(0x1c1)](_0x5c39bb,_0x2864aa(0x1cb)),path[_0x2864aa(0x1c1)](_0x5c39bb,'**/*.vue'),path[_0x2864aa(0x1c1)](_0x5c39bb,_0x2864aa(0x1d5)),path[_0x2864aa(0x1c1)](_0x5c39bb,_0x2864aa(0x1d9))],createWatchConfig());return _0x524539['on'](_0x2864aa(0x1ea),_0x2ebb40=>{const _0x487276=_0x2864aa;console[_0x487276(0x1cd)](_0x487276(0x1c8)+_0x2ebb40),!_0x43e705(_0x2ebb40,_0x487276(0x1ea))&&(_0x4620d4(_0x2ebb40),_0x3d427b(_0x2ebb40));}),_0x524539['on'](_0x2864aa(0x1d0),_0x20bdb1=>{const _0x2069b5=_0x2864aa;console[_0x2069b5(0x1cd)](_0x2069b5(0x1f4)+_0x20bdb1),!_0x43e705(_0x20bdb1,_0x2069b5(0x1d0))&&(_0x4620d4(_0x20bdb1),_0x3d427b(_0x20bdb1));}),_0x524539['on'](_0x2864aa(0x1d1),_0x1383bf=>{const _0x4e52cd=_0x2864aa;try{console['log'](_0x4e52cd(0x1d7)+_0x1383bf);if(!_0x43e705(_0x1383bf,_0x4e52cd(0x1bf))){const _0x245a4d=path[_0x4e52cd(0x1db)](_0x5c39bb,_0x1383bf),_0x4cdbce=path[_0x4e52cd(0x1c1)](_0x54c779,_0x245a4d);fs[_0x4e52cd(0x1c4)](_0x4cdbce)&&(fs[_0x4e52cd(0x1eb)](_0x4cdbce),console['log'](_0x4e52cd(0x1e1)+_0x245a4d));const _0x3f327c=path[_0x4e52cd(0x1e4)](_0x4cdbce);fs['existsSync'](_0x3f327c)&&fs[_0x4e52cd(0x1f8)](_0x3f327c)[_0x4e52cd(0x1c0)]===0x0&&(fs[_0x4e52cd(0x1c2)](_0x3f327c),console[_0x4e52cd(0x1cd)](_0x4e52cd(0x1d4)+path[_0x4e52cd(0x1db)](_0x5c39bb,_0x3f327c)));}}catch(_0x376678){console[_0x4e52cd(0x1f3)](_0x4e52cd(0x1c9)+_0x376678[_0x4e52cd(0x1cc)]);}}),_0x524539['on'](_0x2864aa(0x1fa),_0x3cddcb=>{const _0x10c7ea=_0x2864aa;try{console[_0x10c7ea(0x1cd)](_0x10c7ea(0x1bd)+_0x3cddcb);const _0x134a03=path['relative'](_0x5c39bb,_0x3cddcb),_0x261d26=path[_0x10c7ea(0x1c1)](_0x54c779,_0x134a03);fs[_0x10c7ea(0x1c4)](_0x261d26)&&(fs[_0x10c7ea(0x1f5)](_0x261d26,{'recursive':!![]}),console[_0x10c7ea(0x1cd)](_0x10c7ea(0x1fb)+_0x134a03));}catch(_0x3cac7d){console[_0x10c7ea(0x1f3)](_0x10c7ea(0x1dc)+_0x3cac7d[_0x10c7ea(0x1cc)]);}}),process['on'](_0x2864aa(0x1f6),()=>{const _0x3b8d70=_0x2864aa;console[_0x3b8d70(0x1cd)]('👋\x20关闭文件监听'),_0x524539['close'](),watchManager[_0x3b8d70(0x1ce)](![]),process['exit'](0x0);}),_0x524539;}function setupServerWatcher(_0x388c8a){const _0x55ec33=_0x1ea33f;console['log'](_0x55ec33(0x1d6));const _0x2c63fe=process[_0x55ec33(0x1f1)](),_0x378df4=path[_0x55ec33(0x1ef)](_0x2c63fe,_0x55ec33(0x1dd));function _0x5a210e(_0x17b3b4,_0x133f44){const _0x5380e5=_0x55ec33,_0x393ef1=path[_0x5380e5(0x1db)](_0x2c63fe,_0x17b3b4);if(_0x393ef1[_0x5380e5(0x1b9)](_0x5380e5(0x1f7)+path['sep'])&&path[_0x5380e5(0x1ca)](_0x17b3b4)===_0x5380e5(0x1e9)){console[_0x5380e5(0x1cd)](_0x5380e5(0x1c7)+_0x393ef1);if(_0x133f44==='delete')return spawnSync(_0x5380e5(0x1da),[_0x5380e5(0x1f9),_0x5380e5(0x1bc),_0x17b3b4,_0x5380e5(0x1f0)],{'stdio':'inherit'}),!![];else{if(_0x133f44===_0x5380e5(0x1ea)||_0x133f44==='add')return spawnSync('node',['scripts/compile.js',_0x5380e5(0x1bc),_0x17b3b4],{'stdio':_0x5380e5(0x1c5)}),!![];}}return![];}const _0x618835=chokidar[_0x55ec33(0x1ed)]([path[_0x55ec33(0x1ef)](_0x2c63fe,'**/*.js'),path[_0x55ec33(0x1ef)](_0x2c63fe,_0x55ec33(0x1be)),path[_0x55ec33(0x1ef)](_0x2c63fe,_0x55ec33(0x1d5)),path[_0x55ec33(0x1ef)](_0x2c63fe,_0x55ec33(0x1d9))],createWatchConfig()),_0x2255e1=_0x49be39=>{const _0x2d3742=_0x55ec33;spawnSync(_0x2d3742(0x1da),['scripts/compile.js',_0x2d3742(0x1bc),_0x49be39],{'stdio':_0x2d3742(0x1c5)});};return _0x618835['on'](_0x55ec33(0x1ea),_0x4c5fbb=>{const _0x216505=_0x55ec33;console[_0x216505(0x1cd)](_0x216505(0x1c8)+_0x4c5fbb),!_0x5a210e(_0x4c5fbb,_0x216505(0x1ea))&&_0x2255e1(_0x4c5fbb);}),_0x618835['on'](_0x55ec33(0x1d0),_0x56e3db=>{const _0x4a1c62=_0x55ec33;console[_0x4a1c62(0x1cd)](_0x4a1c62(0x1f4)+_0x56e3db),!_0x5a210e(_0x56e3db,'add')&&_0x2255e1(_0x56e3db);}),_0x618835['on'](_0x55ec33(0x1d1),_0x260aa1=>{const _0xe7c102=_0x55ec33;try{console['log'](_0xe7c102(0x1d7)+_0x260aa1);if(!_0x5a210e(_0x260aa1,_0xe7c102(0x1bf))){const _0x4dd3cb=path[_0xe7c102(0x1db)](_0x2c63fe,_0x260aa1),_0x123449=path['join'](_0x378df4,_0x4dd3cb);fs['existsSync'](_0x123449)&&(fs[_0xe7c102(0x1eb)](_0x123449),console[_0xe7c102(0x1cd)](_0xe7c102(0x1e1)+_0x4dd3cb));const _0x2024df=path[_0xe7c102(0x1e4)](_0x123449);fs[_0xe7c102(0x1c4)](_0x2024df)&&fs['readdirSync'](_0x2024df)['length']===0x0&&(fs['rmdirSync'](_0x2024df),console[_0xe7c102(0x1cd)](_0xe7c102(0x1d4)+path['relative'](_0x2c63fe,_0x2024df)));}}catch(_0x3ba9d9){console['error'](_0xe7c102(0x1c9)+_0x3ba9d9['message']);}}),_0x618835['on'](_0x55ec33(0x1fa),_0x5f1cf5=>{const _0x565a68=_0x55ec33;try{console[_0x565a68(0x1cd)](_0x565a68(0x1bd)+_0x5f1cf5);const _0x161803=path['relative'](_0x2c63fe,_0x5f1cf5),_0x42d8e8=path[_0x565a68(0x1c1)](_0x378df4,_0x161803);fs[_0x565a68(0x1c4)](_0x42d8e8)&&(fs[_0x565a68(0x1f5)](_0x42d8e8,{'recursive':!![]}),console[_0x565a68(0x1cd)](_0x565a68(0x1fb)+_0x161803));}catch(_0x10ad8e){console[_0x565a68(0x1f3)]('❌\x20删除输出目录失败:\x20'+_0x10ad8e[_0x565a68(0x1cc)]);}}),_0x388c8a[_0x55ec33(0x1e2)]['on'](_0x55ec33(0x1c3),()=>{const _0xc7316a=_0x55ec33;console[_0xc7316a(0x1cd)](_0xc7316a(0x1e3)),_0x618835[_0xc7316a(0x1c3)]();}),_0x618835;}module[_0x1ea33f(0x1e6)]={'setupCompileWatcher':setupCompileWatcher,'setupServerWatcher':setupServerWatcher};