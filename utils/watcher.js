const _0x5e3767=_0x5756;(function(_0x41c696,_0x400ee0){const _0x21e571=_0x5756,_0x25e0f4=_0x41c696();while(!![]){try{const _0xdf41a0=-parseInt(_0x21e571(0x13e))/0x1+-parseInt(_0x21e571(0x113))/0x2*(parseInt(_0x21e571(0x11f))/0x3)+-parseInt(_0x21e571(0x111))/0x4+parseInt(_0x21e571(0x106))/0x5+parseInt(_0x21e571(0x11c))/0x6*(-parseInt(_0x21e571(0x103))/0x7)+-parseInt(_0x21e571(0x126))/0x8+parseInt(_0x21e571(0x109))/0x9*(parseInt(_0x21e571(0x102))/0xa);if(_0xdf41a0===_0x400ee0)break;else _0x25e0f4['push'](_0x25e0f4['shift']());}catch(_0x58f116){_0x25e0f4['push'](_0x25e0f4['shift']());}}}(_0x3ce3,0x630f5));function _0x5756(_0x4463b7,_0x4620ae){const _0x3ce3bf=_0x3ce3();return _0x5756=function(_0x575637,_0x241e1b){_0x575637=_0x575637-0xfd;let _0x228e19=_0x3ce3bf[_0x575637];return _0x228e19;},_0x5756(_0x4463b7,_0x4620ae);}function _0x3ce3(){const _0x361721=['delete','**/*.html','**/package-lock.json','rmdirSync','✅\x20已删除对应的输出目录:\x20','windows','1358904mnNFGK','add','split','preload.js','👀\x20开始监听文件变化(编译模式)...','child_process','🔄\x20重新编译\x20preload.js:\x20','out','close','watch','readdirSync','➕\x20新增文件:\x20','🔄\x20处理窗口\x20preload.js:\x20','unlink','sep','resolve','scripts/compile.js','inherit','chokidar','basename','**/node_modules/**','**/*.js','rmSync','relative','593436xmUunH','✅\x20已删除对应的输出文件:\x20','**/out/**','👀\x20开始监听文件变化(服务器模式)...','existsSync','length','🔄\x20重新生成默认\x20preload.js:\x20','**/*.css','exports','cwd','windows/','--generate-preload','log','140630wVkjEz','14049VkfiNC','dirname','change','945740IWXpMJ','👋\x20关闭文件监听','🗑️\x20检测到目录删除:\x20','1431sbrxKS','setWatchingStatus','❌\x20删除输出目录失败:\x20','❌\x20删除输出文件失败:\x20','**/*.vue','📝\x20文件变化:\x20','unlinkDir','error','1468304QtgCXC','✅\x20已删除空的输出目录:\x20','48GYMSvr','SIGINT','**/scripts/**','**/package.json','node','--file','message','🗑️\x20检测到文件删除:\x20','join','1914KohDKH','exit','unlinkSync','31101OGmrVx'];_0x3ce3=function(){return _0x361721;};return _0x3ce3();}const chokidar=require(_0x5e3767(0x138)),path=require('path'),{spawnSync}=require(_0x5e3767(0x12b)),watchManager=require('../shared/watch-manager'),fs=require('fs');function createWatchConfig(){const _0x5a8d53=_0x5e3767;return{'ignored':[_0x5a8d53(0x13a),_0x5a8d53(0x140),_0x5a8d53(0x115),'**/vite.config.js',_0x5a8d53(0x116),_0x5a8d53(0x122),'**/.git/**'],'persistent':!![],'ignoreInitial':!![]};}function setupCompileWatcher(_0x408152,_0x17946f){const _0x4603db=_0x5e3767;console[_0x4603db(0x101)](_0x4603db(0x12a));const _0x4ab238=process['cwd'](),_0xe02c87=path[_0x4603db(0x135)](_0x4ab238,_0x4603db(0x12d));function _0x35dfeb(_0x1ae6d3,_0x359d13){const _0x121ef5=_0x4603db,_0x4832c7=path[_0x121ef5(0x13d)](_0x4ab238,_0x1ae6d3);if(_0x4832c7['includes'](_0x121ef5(0xff))&&path[_0x121ef5(0x139)](_0x1ae6d3)===_0x121ef5(0x129)){const _0x50408b=path[_0x121ef5(0x104)](_0x4832c7)[_0x121ef5(0x128)](_0x121ef5(0xff))[0x1],_0x43648b=path['join'](_0xe02c87,_0x121ef5(0x125),_0x50408b);if(_0x359d13===_0x121ef5(0x120))return console['log'](_0x121ef5(0x144)+_0x4832c7),_0x17946f(_0x1ae6d3),!![];else{if(_0x359d13===_0x121ef5(0x105)||_0x359d13===_0x121ef5(0x127))return console[_0x121ef5(0x101)](_0x121ef5(0x12c)+_0x4832c7),_0x408152(_0x1ae6d3),!![];}}return![];}watchManager[_0x4603db(0x10a)](!![]);const _0x5b4e59=chokidar[_0x4603db(0x12f)]([path[_0x4603db(0x11b)](_0x4ab238,_0x4603db(0x13b)),path[_0x4603db(0x11b)](_0x4ab238,_0x4603db(0x10d)),path[_0x4603db(0x11b)](_0x4ab238,_0x4603db(0x121)),path[_0x4603db(0x11b)](_0x4ab238,_0x4603db(0x145))],createWatchConfig());return _0x5b4e59['on'](_0x4603db(0x105),_0x275230=>{const _0x77e287=_0x4603db;console['log'](_0x77e287(0x10e)+_0x275230),!_0x35dfeb(_0x275230,_0x77e287(0x105))&&(_0x408152(_0x275230),_0x17946f(_0x275230));}),_0x5b4e59['on'](_0x4603db(0x127),_0x4fa48c=>{const _0x5680d5=_0x4603db;console[_0x5680d5(0x101)](_0x5680d5(0x131)+_0x4fa48c),!_0x35dfeb(_0x4fa48c,_0x5680d5(0x127))&&(_0x408152(_0x4fa48c),_0x17946f(_0x4fa48c));}),_0x5b4e59['on'](_0x4603db(0x133),_0x40fdff=>{const _0x3a1f4b=_0x4603db;try{console[_0x3a1f4b(0x101)](_0x3a1f4b(0x11a)+_0x40fdff);if(!_0x35dfeb(_0x40fdff,'delete')){const _0x240a09=path[_0x3a1f4b(0x13d)](_0x4ab238,_0x40fdff),_0x5e9a4e=path[_0x3a1f4b(0x11b)](_0xe02c87,_0x240a09);fs[_0x3a1f4b(0x142)](_0x5e9a4e)&&(fs[_0x3a1f4b(0x11e)](_0x5e9a4e),console[_0x3a1f4b(0x101)](_0x3a1f4b(0x13f)+_0x240a09));const _0x26d2dd=path[_0x3a1f4b(0x104)](_0x5e9a4e);fs[_0x3a1f4b(0x142)](_0x26d2dd)&&fs['readdirSync'](_0x26d2dd)[_0x3a1f4b(0x143)]===0x0&&(fs[_0x3a1f4b(0x123)](_0x26d2dd),console['log'](_0x3a1f4b(0x112)+path['relative'](_0x4ab238,_0x26d2dd)));}}catch(_0x32b6c0){console['error'](_0x3a1f4b(0x10c)+_0x32b6c0[_0x3a1f4b(0x119)]);}}),_0x5b4e59['on'](_0x4603db(0x10f),_0x131fa1=>{const _0x427b4f=_0x4603db;try{console['log'](_0x427b4f(0x108)+_0x131fa1);const _0x341562=path[_0x427b4f(0x13d)](_0x4ab238,_0x131fa1),_0x56a1d5=path[_0x427b4f(0x11b)](_0xe02c87,_0x341562);fs[_0x427b4f(0x142)](_0x56a1d5)&&(fs[_0x427b4f(0x13c)](_0x56a1d5,{'recursive':!![]}),console['log'](_0x427b4f(0x124)+_0x341562));}catch(_0x19c81f){console[_0x427b4f(0x110)]('❌\x20删除输出目录失败:\x20'+_0x19c81f[_0x427b4f(0x119)]);}}),process['on'](_0x4603db(0x114),()=>{const _0x1fb58a=_0x4603db;console[_0x1fb58a(0x101)](_0x1fb58a(0x107)),_0x5b4e59['close'](),watchManager[_0x1fb58a(0x10a)](![]),process[_0x1fb58a(0x11d)](0x0);}),_0x5b4e59;}function setupServerWatcher(_0xc09eca){const _0x288064=_0x5e3767;console[_0x288064(0x101)](_0x288064(0x141));const _0x423e51=process[_0x288064(0xfe)](),_0x353682=path[_0x288064(0x135)](_0x423e51,_0x288064(0x12d));function _0x1e8f3f(_0x8604ba,_0x285447){const _0x375ccf=_0x288064,_0x527b0c=path['relative'](_0x423e51,_0x8604ba);if(_0x527b0c['includes'](_0x375ccf(0x125)+path[_0x375ccf(0x134)])&&path[_0x375ccf(0x139)](_0x8604ba)===_0x375ccf(0x129)){console['log'](_0x375ccf(0x132)+_0x527b0c);if(_0x285447===_0x375ccf(0x120))return spawnSync(_0x375ccf(0x117),['scripts/compile.js',_0x375ccf(0x118),_0x8604ba,_0x375ccf(0x100)],{'stdio':_0x375ccf(0x137)}),!![];else{if(_0x285447==='change'||_0x285447==='add')return spawnSync(_0x375ccf(0x117),[_0x375ccf(0x136),_0x375ccf(0x118),_0x8604ba],{'stdio':'inherit'}),!![];}}return![];}const _0x105e24=chokidar['watch']([path[_0x288064(0x135)](_0x423e51,_0x288064(0x13b)),path[_0x288064(0x135)](_0x423e51,'**/*.vue'),path[_0x288064(0x135)](_0x423e51,_0x288064(0x121)),path[_0x288064(0x135)](_0x423e51,_0x288064(0x145))],createWatchConfig()),_0x2199f5=_0x27348a=>{const _0x1266f8=_0x288064;spawnSync('node',[_0x1266f8(0x136),'--file',_0x27348a],{'stdio':_0x1266f8(0x137)});};return _0x105e24['on'](_0x288064(0x105),_0x343b71=>{const _0x4ee2fa=_0x288064;console['log'](_0x4ee2fa(0x10e)+_0x343b71),!_0x1e8f3f(_0x343b71,_0x4ee2fa(0x105))&&_0x2199f5(_0x343b71);}),_0x105e24['on'](_0x288064(0x127),_0x282840=>{const _0x226106=_0x288064;console[_0x226106(0x101)](_0x226106(0x131)+_0x282840),!_0x1e8f3f(_0x282840,_0x226106(0x127))&&_0x2199f5(_0x282840);}),_0x105e24['on']('unlink',_0x54fd4b=>{const _0x42badb=_0x288064;try{console[_0x42badb(0x101)]('🗑️\x20检测到文件删除:\x20'+_0x54fd4b);if(!_0x1e8f3f(_0x54fd4b,_0x42badb(0x120))){const _0x305c7c=path[_0x42badb(0x13d)](_0x423e51,_0x54fd4b),_0x36b261=path['join'](_0x353682,_0x305c7c);fs['existsSync'](_0x36b261)&&(fs['unlinkSync'](_0x36b261),console[_0x42badb(0x101)](_0x42badb(0x13f)+_0x305c7c));const _0x324a84=path[_0x42badb(0x104)](_0x36b261);fs[_0x42badb(0x142)](_0x324a84)&&fs[_0x42badb(0x130)](_0x324a84)[_0x42badb(0x143)]===0x0&&(fs['rmdirSync'](_0x324a84),console[_0x42badb(0x101)](_0x42badb(0x112)+path[_0x42badb(0x13d)](_0x423e51,_0x324a84)));}}catch(_0x4617c8){console['error'](_0x42badb(0x10c)+_0x4617c8[_0x42badb(0x119)]);}}),_0x105e24['on']('unlinkDir',_0x21b9d9=>{const _0x1333c9=_0x288064;try{console[_0x1333c9(0x101)](_0x1333c9(0x108)+_0x21b9d9);const _0x42d13d=path[_0x1333c9(0x13d)](_0x423e51,_0x21b9d9),_0x3be9cd=path[_0x1333c9(0x11b)](_0x353682,_0x42d13d);fs[_0x1333c9(0x142)](_0x3be9cd)&&(fs['rmSync'](_0x3be9cd,{'recursive':!![]}),console[_0x1333c9(0x101)]('✅\x20已删除对应的输出目录:\x20'+_0x42d13d));}catch(_0x28de6f){console[_0x1333c9(0x110)](_0x1333c9(0x10b)+_0x28de6f['message']);}}),_0xc09eca['httpServer']['on'](_0x288064(0x12e),()=>{const _0x329006=_0x288064;console['log'](_0x329006(0x107)),_0x105e24['close']();}),_0x105e24;}module[_0x5e3767(0xfd)]={'setupCompileWatcher':setupCompileWatcher,'setupServerWatcher':setupServerWatcher};