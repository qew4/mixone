const _0x4cec03=_0x3c0e;(function(_0x418281,_0x4e90fc){const _0x17c3a6=_0x3c0e,_0x25dc51=_0x418281();while(!![]){try{const _0x4d8d74=-parseInt(_0x17c3a6(0x117))/0x1+-parseInt(_0x17c3a6(0x133))/0x2+parseInt(_0x17c3a6(0x141))/0x3+parseInt(_0x17c3a6(0x13b))/0x4*(-parseInt(_0x17c3a6(0x13f))/0x5)+parseInt(_0x17c3a6(0x147))/0x6*(-parseInt(_0x17c3a6(0x112))/0x7)+parseInt(_0x17c3a6(0x121))/0x8+parseInt(_0x17c3a6(0x115))/0x9*(parseInt(_0x17c3a6(0x14e))/0xa);if(_0x4d8d74===_0x4e90fc)break;else _0x25dc51['push'](_0x25dc51['shift']());}catch(_0x11d60d){_0x25dc51['push'](_0x25dc51['shift']());}}}(_0x1528,0x49ce5));const chokidar=require('chokidar'),path=require('path'),{spawnSync}=require(_0x4cec03(0x12e)),watchManager=require(_0x4cec03(0x11d)),fs=require('fs');function createWatchConfig(){const _0x5f4324=_0x4cec03;return{'ignored':[_0x5f4324(0x14a),'**/out/**','**/scripts/**','**/vite.config.js',_0x5f4324(0x14d),_0x5f4324(0x14b),_0x5f4324(0x13d)],'persistent':!![],'ignoreInitial':!![]};}function setupCompileWatcher(_0x4d74b2,_0x3b61f6){const _0x4026be=_0x4cec03;console[_0x4026be(0x126)](_0x4026be(0x139));const _0xbc55fe=process['cwd'](),_0x197884=path[_0x4026be(0x144)](_0xbc55fe,'out');function _0x314749(_0x40d316,_0x3e702d){const _0x47fdc1=_0x4026be,_0x4a326a=path[_0x47fdc1(0x123)](_0xbc55fe,_0x40d316);if(_0x4a326a[_0x47fdc1(0x113)](_0x47fdc1(0x136))&&path[_0x47fdc1(0x119)](_0x40d316)===_0x47fdc1(0x150)){const _0x5cb063=path[_0x47fdc1(0x135)](_0x4a326a)[_0x47fdc1(0x131)](_0x47fdc1(0x136))[0x1],_0x523ee0=path[_0x47fdc1(0x152)](_0x197884,'windows',_0x5cb063);if(_0x3e702d===_0x47fdc1(0x116))return console[_0x47fdc1(0x126)]('🔄\x20重新生成默认\x20preload.js:\x20'+_0x4a326a),_0x3b61f6(_0x40d316),!![];else{if(_0x3e702d==='change'||_0x3e702d===_0x47fdc1(0x111))return console[_0x47fdc1(0x126)](_0x47fdc1(0x11c)+_0x4a326a),_0x4d74b2(_0x40d316),!![];}}return![];}watchManager['setWatchingStatus'](!![]);const _0x4e6f4c=chokidar[_0x4026be(0x12f)]([path['join'](_0xbc55fe,_0x4026be(0x142)),path[_0x4026be(0x152)](_0xbc55fe,'**/*.vue'),path['join'](_0xbc55fe,_0x4026be(0x125)),path['join'](_0xbc55fe,_0x4026be(0x12d))],createWatchConfig());return _0x4e6f4c['on'](_0x4026be(0x11f),_0x3d7b41=>{const _0x4a0653=_0x4026be;console[_0x4a0653(0x126)](_0x4a0653(0x13a)+_0x3d7b41),!_0x314749(_0x3d7b41,_0x4a0653(0x11f))&&(_0x4d74b2(_0x3d7b41),_0x3b61f6(_0x3d7b41));}),_0x4e6f4c['on'](_0x4026be(0x111),_0x1e9fb6=>{const _0x31c32e=_0x4026be;console[_0x31c32e(0x126)](_0x31c32e(0x122)+_0x1e9fb6),!_0x314749(_0x1e9fb6,'add')&&(_0x4d74b2(_0x1e9fb6),_0x3b61f6(_0x1e9fb6));}),_0x4e6f4c['on'](_0x4026be(0x11a),_0x443d98=>{const _0x124e1f=_0x4026be;try{console[_0x124e1f(0x126)](_0x124e1f(0x151)+_0x443d98);if(!_0x314749(_0x443d98,'delete')){const _0x18af85=path[_0x124e1f(0x123)](_0xbc55fe,_0x443d98),_0x547e12=path[_0x124e1f(0x152)](_0x197884,_0x18af85);fs[_0x124e1f(0x143)](_0x547e12)&&(fs[_0x124e1f(0x110)](_0x547e12),console['log'](_0x124e1f(0x13e)+_0x18af85));const _0x3658b5=path[_0x124e1f(0x135)](_0x547e12);fs[_0x124e1f(0x143)](_0x3658b5)&&fs['readdirSync'](_0x3658b5)[_0x124e1f(0x130)]===0x0&&(fs[_0x124e1f(0x12a)](_0x3658b5),console['log'](_0x124e1f(0x134)+path['relative'](_0xbc55fe,_0x3658b5)));}}catch(_0x172aa7){console[_0x124e1f(0x12c)]('❌\x20删除输出文件失败:\x20'+_0x172aa7[_0x124e1f(0x12b)]);}}),_0x4e6f4c['on'](_0x4026be(0x132),_0x1d52e5=>{const _0x4414f4=_0x4026be;try{console[_0x4414f4(0x126)](_0x4414f4(0x153)+_0x1d52e5);const _0x49f898=path[_0x4414f4(0x123)](_0xbc55fe,_0x1d52e5),_0x30e395=path[_0x4414f4(0x152)](_0x197884,_0x49f898);fs[_0x4414f4(0x143)](_0x30e395)&&(fs[_0x4414f4(0x137)](_0x30e395,{'recursive':!![]}),console[_0x4414f4(0x126)](_0x4414f4(0x128)+_0x49f898));}catch(_0x780aeb){console[_0x4414f4(0x12c)]('❌\x20删除输出目录失败:\x20'+_0x780aeb[_0x4414f4(0x12b)]);}}),process['on'](_0x4026be(0x145),()=>{const _0x1a228d=_0x4026be;console[_0x1a228d(0x126)](_0x1a228d(0x146)),_0x4e6f4c[_0x1a228d(0x11b)](),watchManager[_0x1a228d(0x118)](![]),process[_0x1a228d(0x138)](0x0);}),_0x4e6f4c;}function _0x3c0e(_0x1fe423,_0x4a1e61){const _0x15281b=_0x1528();return _0x3c0e=function(_0x3c0e79,_0x10733d){_0x3c0e79=_0x3c0e79-0x110;let _0x5e181f=_0x15281b[_0x3c0e79];return _0x5e181f;},_0x3c0e(_0x1fe423,_0x4a1e61);}function _0x1528(){const _0x33e8e9=['join','🗑️\x20检测到目录删除:\x20','sep','unlinkSync','add','7AIPhoK','includes','node','697473vRauCZ','delete','552547abfOhs','setWatchingStatus','basename','unlink','close','🔄\x20重新编译\x20preload.js:\x20','../shared/watch-manager','❌\x20删除输出文件失败:\x20','change','cwd','3001120EjATcM','➕\x20新增文件:\x20','relative','exports','**/*.html','log','inherit','✅\x20已删除对应的输出目录:\x20','--file','rmdirSync','message','error','**/*.css','child_process','watch','length','split','unlinkDir','341468BJkYoN','✅\x20已删除空的输出目录:\x20','dirname','windows/','rmSync','exit','👀\x20开始监听文件变化(编译模式)...','📝\x20文件变化:\x20','225464HwTjey','👀\x20开始监听文件变化(服务器模式)...','**/.git/**','✅\x20已删除对应的输出文件:\x20','5TEkEun','windows','1505160HBqILz','**/*.js','existsSync','resolve','SIGINT','👋\x20关闭文件监听','2954262AYGDio','🔄\x20处理窗口\x20preload.js:\x20','**/*.vue','**/node_modules/**','**/package-lock.json','readdirSync','**/package.json','90DIDDJK','httpServer','preload.js','🗑️\x20检测到文件删除:\x20'];_0x1528=function(){return _0x33e8e9;};return _0x1528();}function setupServerWatcher(_0x1ce90d){const _0x4f5a90=_0x4cec03;console[_0x4f5a90(0x126)](_0x4f5a90(0x13c));const _0x3015a8=process[_0x4f5a90(0x120)](),_0x9af65b=path['resolve'](_0x3015a8,'out');function _0xa0720(_0x3d1c45,_0x13cd58){const _0x1beb92=_0x4f5a90,_0x171fd=path[_0x1beb92(0x123)](_0x3015a8,_0x3d1c45);if(_0x171fd['includes'](_0x1beb92(0x140)+path[_0x1beb92(0x154)])&&path[_0x1beb92(0x119)](_0x3d1c45)==='preload.js'){console[_0x1beb92(0x126)](_0x1beb92(0x148)+_0x171fd);if(_0x13cd58==='delete')return spawnSync(_0x1beb92(0x114),['scripts/compile.js','--file',_0x3d1c45,'--generate-preload'],{'stdio':_0x1beb92(0x127)}),!![];else{if(_0x13cd58===_0x1beb92(0x11f)||_0x13cd58==='add')return spawnSync(_0x1beb92(0x114),['scripts/compile.js','--file',_0x3d1c45],{'stdio':'inherit'}),!![];}}return![];}const _0x1213bb=chokidar[_0x4f5a90(0x12f)]([path[_0x4f5a90(0x144)](_0x3015a8,_0x4f5a90(0x142)),path[_0x4f5a90(0x144)](_0x3015a8,_0x4f5a90(0x149)),path['resolve'](_0x3015a8,'**/*.html'),path[_0x4f5a90(0x144)](_0x3015a8,_0x4f5a90(0x12d))],createWatchConfig()),_0x2aa577=_0x132cab=>{const _0xc773a5=_0x4f5a90;spawnSync('node',['scripts/compile.js',_0xc773a5(0x129),_0x132cab],{'stdio':_0xc773a5(0x127)});};return _0x1213bb['on'](_0x4f5a90(0x11f),_0xea50bc=>{const _0x132e80=_0x4f5a90;console['log'](_0x132e80(0x13a)+_0xea50bc),!_0xa0720(_0xea50bc,'change')&&_0x2aa577(_0xea50bc);}),_0x1213bb['on'](_0x4f5a90(0x111),_0x133d5d=>{const _0x4837de=_0x4f5a90;console[_0x4837de(0x126)](_0x4837de(0x122)+_0x133d5d),!_0xa0720(_0x133d5d,_0x4837de(0x111))&&_0x2aa577(_0x133d5d);}),_0x1213bb['on'](_0x4f5a90(0x11a),_0x590d6d=>{const _0x22e382=_0x4f5a90;try{console[_0x22e382(0x126)]('🗑️\x20检测到文件删除:\x20'+_0x590d6d);if(!_0xa0720(_0x590d6d,_0x22e382(0x116))){const _0x8aba6f=path[_0x22e382(0x123)](_0x3015a8,_0x590d6d),_0x380469=path[_0x22e382(0x152)](_0x9af65b,_0x8aba6f);fs[_0x22e382(0x143)](_0x380469)&&(fs[_0x22e382(0x110)](_0x380469),console['log']('✅\x20已删除对应的输出文件:\x20'+_0x8aba6f));const _0x4f437a=path[_0x22e382(0x135)](_0x380469);fs[_0x22e382(0x143)](_0x4f437a)&&fs[_0x22e382(0x14c)](_0x4f437a)[_0x22e382(0x130)]===0x0&&(fs[_0x22e382(0x12a)](_0x4f437a),console[_0x22e382(0x126)](_0x22e382(0x134)+path[_0x22e382(0x123)](_0x3015a8,_0x4f437a)));}}catch(_0x5634d4){console[_0x22e382(0x12c)](_0x22e382(0x11e)+_0x5634d4[_0x22e382(0x12b)]);}}),_0x1213bb['on'](_0x4f5a90(0x132),_0x406c14=>{const _0x315e88=_0x4f5a90;try{console[_0x315e88(0x126)](_0x315e88(0x153)+_0x406c14);const _0x4b962a=path[_0x315e88(0x123)](_0x3015a8,_0x406c14),_0x370e99=path['join'](_0x9af65b,_0x4b962a);fs[_0x315e88(0x143)](_0x370e99)&&(fs['rmSync'](_0x370e99,{'recursive':!![]}),console['log'](_0x315e88(0x128)+_0x4b962a));}catch(_0x58277d){console['error']('❌\x20删除输出目录失败:\x20'+_0x58277d[_0x315e88(0x12b)]);}}),_0x1ce90d[_0x4f5a90(0x14f)]['on'](_0x4f5a90(0x11b),()=>{const _0xf7c8fd=_0x4f5a90;console[_0xf7c8fd(0x126)](_0xf7c8fd(0x146)),_0x1213bb['close']();}),_0x1213bb;}module[_0x4cec03(0x124)]={'setupCompileWatcher':setupCompileWatcher,'setupServerWatcher':setupServerWatcher};