const _0x3afedf=_0x3d70;(function(_0x1356cf,_0x5e013b){const _0x27ffdd=_0x3d70,_0x5e5006=_0x1356cf();while(!![]){try{const _0x3b3c75=-parseInt(_0x27ffdd(0xde))/0x1*(parseInt(_0x27ffdd(0xe6))/0x2)+-parseInt(_0x27ffdd(0xe2))/0x3*(parseInt(_0x27ffdd(0xf7))/0x4)+parseInt(_0x27ffdd(0xdb))/0x5*(-parseInt(_0x27ffdd(0xf6))/0x6)+-parseInt(_0x27ffdd(0xd9))/0x7+parseInt(_0x27ffdd(0xea))/0x8+parseInt(_0x27ffdd(0xeb))/0x9+-parseInt(_0x27ffdd(0xfb))/0xa*(-parseInt(_0x27ffdd(0xef))/0xb);if(_0x3b3c75===_0x5e013b)break;else _0x5e5006['push'](_0x5e5006['shift']());}catch(_0x200aab){_0x5e5006['push'](_0x5e5006['shift']());}}}(_0x53b2,0xef017));const fs=require('fs'),path=require('path'),{generateDefaultPreloadScript}=require(_0x3afedf(0xe3)),{generateMergedPreload}=require(_0x3afedf(0xf3));function checkWindowPreloadAndCopy(_0x5bfc55,_0x179ef8,_0x16d103,_0x54cd32=!![]){const _0x51cda1=_0x3afedf;_0x54cd32&&console[_0x51cda1(0xf2)](_0x51cda1(0xe8));const _0x48acef=path['join'](_0x5bfc55,_0x51cda1(0xf0)),_0xa164c=path[_0x51cda1(0xdc)](_0x5bfc55,'windows');if(fs['existsSync'](_0xa164c)){const _0x5e9333=fs[_0x51cda1(0xe5)](_0xa164c);for(const _0x1944da of _0x5e9333){const _0x346e5a=path[_0x51cda1(0xdc)](_0xa164c,_0x1944da);if(_0x1944da['includes']('.'))continue;if(fs['statSync'](_0x346e5a)[_0x51cda1(0xe7)]()){const _0x5caadc=path['join'](_0x346e5a,'preload.js'),_0x3dcf9c=getNormalizedOutPath(_0x5bfc55,_0x179ef8,_0x51cda1(0xed)+_0x1944da),_0x472305=path[_0x51cda1(0xdc)](_0x3dcf9c,_0x51cda1(0xf0));if(!fs[_0x51cda1(0xdd)](_0x5caadc)){!fs['existsSync'](_0x3dcf9c)&&fs[_0x51cda1(0xda)](_0x3dcf9c,{'recursive':!![]});let _0x6547fb=generateDefaultPreloadScript(_0x16d103,_0x179ef8),_0x57500d;if(fs[_0x51cda1(0xdd)](_0x48acef)){const _0x2f9666=fs[_0x51cda1(0xdf)](_0x48acef,_0x51cda1(0xf5));_0x57500d=generateMergedPreload(_0x6547fb,_0x2f9666);}else _0x57500d=_0x6547fb;fs[_0x51cda1(0xfd)](_0x472305,_0x57500d);const _0x1007c7=path['join'](_0x16d103,_0x51cda1(0xe9),_0x51cda1(0xfa)),_0x4f9474=path[_0x51cda1(0xdc)](_0x3dcf9c,'window-controller.js');fs[_0x51cda1(0xdd)](_0x1007c7)&&(fs[_0x51cda1(0xfc)](_0x1007c7,_0x4f9474),console['log']('📋\x20复制\x20window-controller.js\x20到窗口目录:\x20'+path[_0x51cda1(0xf1)](_0x5bfc55,_0x4f9474))),_0x54cd32&&console[_0x51cda1(0xf2)]('✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20'+path[_0x51cda1(0xf1)](_0x5bfc55,_0x472305));}}}}}function getNormalizedOutPath(_0x29528d,_0x64fc08,_0x5e8f82){const _0x440ddb=_0x3afedf;if(_0x5e8f82[_0x440ddb(0xd7)](_0x440ddb(0xec))||_0x5e8f82[_0x440ddb(0xd7)](_0x440ddb(0xe4)))return path['join'](_0x29528d,_0x5e8f82);return path[_0x440ddb(0xdc)](_0x64fc08,_0x5e8f82);}function writeDefaultPreloadFileWhenDeleted(_0x6466f2,_0x1b0f47,_0x2f80d3,_0x18b945){const _0x2a40ad=_0x3afedf,_0x41a278=generateDefaultPreloadScript(_0x6466f2,_0x1b0f47);fs[_0x2a40ad(0xfd)](_0x2f80d3,_0x41a278),console[_0x2a40ad(0xf2)]('✅\x20成功处理已存在的\x20preload.js:\x20'+_0x18b945);}function isWindowDirectory(_0x122df4,_0x18ed1b){const _0x270614=_0x3afedf;return _0x18ed1b==='windows'||_0x18ed1b['endsWith'](_0x270614(0xe1));}function _0x53b2(){const _0x203ffd=['readdirSync','2leYboQ','isDirectory','🔍\x20检查窗口目录是否需要\x20preload.js\x20文件...','code','1921560WcMnCz','14932476yjitEO','out/','windows/','windows','5291uWVumO','preload.js','relative','log','./preload-merger','exports','utf-8','1716EYTTEf','113624LoTknv','✅\x20成功处理\x20preload.js:\x20','statSync','window-controller.js','16950NjJUZC','copyFileSync','writeFileSync','startsWith','📋\x20复制\x20window-controller.js\x20到窗口目录:\x20','2946258YEeGkJ','mkdirSync','6340OIxbpV','join','existsSync','298807vBVbOK','readFileSync','✅\x20已完成窗口目录处理:\x20','-window','69sbMBIC','./static-file-copier','out\x5c'];_0x53b2=function(){return _0x203ffd;};return _0x53b2();}function processWindowDirectory(_0x55eda7,_0x2fa922,_0x5d39e4,_0x4ee3b4,_0x1fdced){const _0x59b7d5=_0x3afedf,_0x3871a1=path[_0x59b7d5(0xdc)](_0x55eda7,_0x59b7d5(0xf0)),_0x2ea525=path[_0x59b7d5(0xf1)](_0x55eda7,_0x4ee3b4),_0x531340=getNormalizedOutPath(_0x55eda7,_0x2fa922,_0x2ea525),_0x3bb244=path['join'](_0x4ee3b4,_0x59b7d5(0xf0)),_0x347193=path[_0x59b7d5(0xdc)](_0x531340,_0x59b7d5(0xf0)),_0x3d1f2d=generateDefaultPreloadScript(_0x5d39e4,_0x2fa922);let _0x101219=_0x3d1f2d;if(fs[_0x59b7d5(0xdd)](_0x3bb244)){const _0x563289=fs[_0x59b7d5(0xdf)](_0x3bb244,'utf-8');_0x101219=generateMergedPreload(_0x3d1f2d,_0x563289);}if(fs[_0x59b7d5(0xdd)](_0x3871a1)){const _0x3dd35e=fs['readFileSync'](_0x3871a1,_0x59b7d5(0xf5));_0x101219=generateMergedPreload(_0x101219,_0x3dd35e);}fs[_0x59b7d5(0xfd)](_0x347193,_0x101219),console[_0x59b7d5(0xf2)](_0x59b7d5(0xf8)+_0x2ea525);const _0x50676b=path[_0x59b7d5(0xdc)](_0x5d39e4,_0x59b7d5(0xe9),_0x59b7d5(0xfa)),_0x2e7bb2=path[_0x59b7d5(0xdc)](_0x531340,_0x59b7d5(0xfa));fs['existsSync'](_0x50676b)&&(fs[_0x59b7d5(0xfc)](_0x50676b,_0x2e7bb2),console[_0x59b7d5(0xf2)](_0x59b7d5(0xd8)+path[_0x59b7d5(0xf1)](_0x55eda7,_0x2e7bb2))),_0x1fdced&&console[_0x59b7d5(0xf2)](_0x59b7d5(0xe0)+_0x2ea525);}function findAndProcessWindowDirs(_0x32c6d6,_0x356d69,_0x3bf1aa,_0x27b5db,_0x25b4e9){const _0x4e66bb=_0x3afedf,_0x3bf2d3=fs[_0x4e66bb(0xe5)](_0x27b5db);for(const _0x29c490 of _0x3bf2d3){const _0x43539a=path[_0x4e66bb(0xdc)](_0x27b5db,_0x29c490);if(!fs[_0x4e66bb(0xf9)](_0x43539a)['isDirectory']()||_0x29c490[_0x4e66bb(0xd7)]('.'))continue;isWindowDirectory(_0x43539a,_0x29c490)&&processWindowDirectory(_0x32c6d6,_0x356d69,_0x3bf1aa,_0x43539a,_0x25b4e9),findAndProcessWindowDirs(_0x32c6d6,_0x356d69,_0x3bf1aa,_0x43539a,_0x25b4e9);}}function checkWindowPreloadAndCopy(_0x379384,_0x3867d2,_0x1eaea2,_0x44bbbc=!![]){const _0x426d33=_0x3afedf;_0x44bbbc&&console['log']('🔍\x20检查窗口目录是否需要\x20preload.js\x20文件...');const _0x48a1b4=path[_0x426d33(0xdc)](_0x379384,_0x426d33(0xee));fs[_0x426d33(0xdd)](_0x48a1b4)&&(processWindowDirectory(_0x379384,_0x3867d2,_0x1eaea2,_0x48a1b4,_0x44bbbc),findAndProcessWindowDirs(_0x379384,_0x3867d2,_0x1eaea2,_0x48a1b4,_0x44bbbc));}function _0x3d70(_0x3fb8d8,_0x8973c2){const _0x53b274=_0x53b2();return _0x3d70=function(_0x3d7055,_0x50b5c5){_0x3d7055=_0x3d7055-0xd7;let _0x8f9d5e=_0x53b274[_0x3d7055];return _0x8f9d5e;},_0x3d70(_0x3fb8d8,_0x8973c2);}module[_0x3afedf(0xf4)]={'checkWindowPreloadAndCopy':checkWindowPreloadAndCopy,'writeDefaultPreloadFileWhenDeleted':writeDefaultPreloadFileWhenDeleted};