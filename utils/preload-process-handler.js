const _0x40f069=_0x2d3e;(function(_0x41c9fd,_0x2f114c){const _0x2e4c34=_0x2d3e,_0x1fbc1a=_0x41c9fd();while(!![]){try{const _0x33f00d=-parseInt(_0x2e4c34(0x1f3))/0x1*(parseInt(_0x2e4c34(0x201))/0x2)+-parseInt(_0x2e4c34(0x200))/0x3*(-parseInt(_0x2e4c34(0x1ff))/0x4)+parseInt(_0x2e4c34(0x206))/0x5*(parseInt(_0x2e4c34(0x1ed))/0x6)+-parseInt(_0x2e4c34(0x1e6))/0x7*(-parseInt(_0x2e4c34(0x1f4))/0x8)+-parseInt(_0x2e4c34(0x1f0))/0x9*(-parseInt(_0x2e4c34(0x1f5))/0xa)+-parseInt(_0x2e4c34(0x1fe))/0xb+-parseInt(_0x2e4c34(0x1e0))/0xc*(parseInt(_0x2e4c34(0x1fc))/0xd);if(_0x33f00d===_0x2f114c)break;else _0x1fbc1a['push'](_0x1fbc1a['shift']());}catch(_0x1393c9){_0x1fbc1a['push'](_0x1fbc1a['shift']());}}}(_0x5b14,0x58316));const fs=require('fs'),path=require(_0x40f069(0x1e9)),{generateDefaultPreloadScript}=require('./static-file-copier'),{generateMergedPreload}=require(_0x40f069(0x1fb));function checkWindowPreloadAndCopy(_0x4773d3,_0x2d9bd8,_0x48fc42,_0x2046ae=!![]){const _0x5036de=_0x40f069;_0x2046ae&&console[_0x5036de(0x1f8)]('🔍\x20检查窗口目录是否需要\x20preload.js\x20文件...');const _0x5bbfc9=path[_0x5036de(0x202)](_0x4773d3,'preload.js'),_0x50c70=path[_0x5036de(0x202)](_0x4773d3,'windows');if(fs[_0x5036de(0x205)](_0x50c70)){const _0x49dfd4=fs[_0x5036de(0x1fa)](_0x50c70);for(const _0x8936df of _0x49dfd4){const _0x138362=path[_0x5036de(0x202)](_0x50c70,_0x8936df);if(_0x8936df[_0x5036de(0x1df)]('.'))continue;if(fs['statSync'](_0x138362)[_0x5036de(0x1f2)]()){const _0x5ad298=path[_0x5036de(0x202)](_0x138362,_0x5036de(0x1e5)),_0x4c011f=getNormalizedOutPath(_0x4773d3,_0x2d9bd8,_0x5036de(0x1e7)+_0x8936df),_0x3d5879=path[_0x5036de(0x202)](_0x4c011f,_0x5036de(0x1e5));if(!fs['existsSync'](_0x5ad298)){!fs[_0x5036de(0x205)](_0x4c011f)&&fs[_0x5036de(0x1f9)](_0x4c011f,{'recursive':!![]});let _0x487c1f=generateDefaultPreloadScript(_0x48fc42,_0x2d9bd8),_0x133330;if(fs[_0x5036de(0x205)](_0x5bbfc9)){const _0x124859=fs[_0x5036de(0x1f1)](_0x5bbfc9,'utf-8');_0x133330=generateMergedPreload(_0x487c1f,_0x124859);}else _0x133330=_0x487c1f;fs['writeFileSync'](_0x3d5879,_0x133330);const _0x5dbb3c=path[_0x5036de(0x202)](_0x48fc42,_0x5036de(0x1ee),'window-controller.js'),_0x16403a=path[_0x5036de(0x202)](_0x4c011f,_0x5036de(0x208));fs[_0x5036de(0x205)](_0x5dbb3c)&&(fs[_0x5036de(0x1ea)](_0x5dbb3c,_0x16403a),console['log'](_0x5036de(0x1f7)+path[_0x5036de(0x1eb)](_0x4773d3,_0x16403a))),_0x2046ae&&console['log'](_0x5036de(0x207)+path[_0x5036de(0x1eb)](_0x4773d3,_0x3d5879));}}}}}function getNormalizedOutPath(_0x761565,_0x4f7936,_0x2258c4){const _0x1b0932=_0x40f069;if(_0x2258c4[_0x1b0932(0x20a)](_0x1b0932(0x1e2))||_0x2258c4['startsWith'](_0x1b0932(0x204)))return path['join'](_0x761565,_0x2258c4);return path[_0x1b0932(0x202)](_0x4f7936,_0x2258c4);}function writeDefaultPreloadFileWhenDeleted(_0x2ea0e5,_0x281174,_0x225463,_0xe45068){const _0x4fb628=_0x40f069,_0x32f3b8=generateDefaultPreloadScript(_0x2ea0e5,_0x281174);fs[_0x4fb628(0x1e1)](_0x225463,_0x32f3b8),console[_0x4fb628(0x1f8)](_0x4fb628(0x1ec)+_0xe45068);}function isWindowDirectory(_0x40bb82,_0x2af7a3){const _0x358793=_0x40f069;return _0x2af7a3===_0x358793(0x1e8)||_0x2af7a3[_0x358793(0x1ef)](_0x358793(0x209));}function _0x2d3e(_0x1d5ebe,_0x989a74){const _0x5b14c2=_0x5b14();return _0x2d3e=function(_0x2d3e42,_0x462952){_0x2d3e42=_0x2d3e42-0x1df;let _0x1cf788=_0x5b14c2[_0x2d3e42];return _0x1cf788;},_0x2d3e(_0x1d5ebe,_0x989a74);}function _0x5b14(){const _0x236cbb=['isDirectory','7uLAQaM','72Uqvoqf','30Pfphbs','✅\x20成功处理\x20preload.js:\x20','📋\x20复制\x20window-controller.js\x20到窗口目录:\x20','log','mkdirSync','readdirSync','./preload-merger','13dSBNPD','utf-8','3250060pfTEKK','8rjWQKM','486807bKRkgm','167158njjnwx','join','🔍\x20检查窗口目录是否需要\x20preload.js\x20文件...','out\x5c','existsSync','367825XDcbLI','✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20','window-controller.js','-window','startsWith','includes','3140736WrUuYi','writeFileSync','out/','✅\x20已完成窗口目录处理:\x20','exports','preload.js','422387HjiBpg','windows/','windows','path','copyFileSync','relative','✅\x20成功处理已存在的\x20preload.js:\x20','12mTDdOR','code','endsWith','1466226dfzOuW','readFileSync'];_0x5b14=function(){return _0x236cbb;};return _0x5b14();}function processWindowDirectory(_0x412736,_0x297d00,_0x4c8c30,_0x48732f,_0x250aa8){const _0xae32e2=_0x40f069,_0x5411e5=path['join'](_0x412736,_0xae32e2(0x1e5)),_0xc68233=path[_0xae32e2(0x1eb)](_0x412736,_0x48732f),_0x461610=getNormalizedOutPath(_0x412736,_0x297d00,_0xc68233),_0x4759b6=path[_0xae32e2(0x202)](_0x48732f,_0xae32e2(0x1e5)),_0x588561=path[_0xae32e2(0x202)](_0x461610,_0xae32e2(0x1e5)),_0x100081=generateDefaultPreloadScript(_0x4c8c30,_0x297d00);let _0x97c231=_0x100081;if(fs[_0xae32e2(0x205)](_0x4759b6)){const _0x5a938c=fs['readFileSync'](_0x4759b6,_0xae32e2(0x1fd));_0x97c231=generateMergedPreload(_0x100081,_0x5a938c);}if(fs[_0xae32e2(0x205)](_0x5411e5)){const _0x121562=fs[_0xae32e2(0x1f1)](_0x5411e5,_0xae32e2(0x1fd));_0x97c231=generateMergedPreload(_0x97c231,_0x121562);}fs['writeFileSync'](_0x588561,_0x97c231),console[_0xae32e2(0x1f8)](_0xae32e2(0x1f6)+_0xc68233);const _0x1110c3=path[_0xae32e2(0x202)](_0x4c8c30,'code',_0xae32e2(0x208)),_0x58533f=path[_0xae32e2(0x202)](_0x461610,_0xae32e2(0x208));fs[_0xae32e2(0x205)](_0x1110c3)&&(fs['copyFileSync'](_0x1110c3,_0x58533f),console[_0xae32e2(0x1f8)](_0xae32e2(0x1f7)+path[_0xae32e2(0x1eb)](_0x412736,_0x58533f))),_0x250aa8&&console[_0xae32e2(0x1f8)](_0xae32e2(0x1e3)+_0xc68233);}function findAndProcessWindowDirs(_0x1458ea,_0x527567,_0x2384ea,_0x18e7a2,_0x48bdf3){const _0x269bcd=_0x40f069,_0x456115=fs[_0x269bcd(0x1fa)](_0x18e7a2);for(const _0x4b78ab of _0x456115){const _0x88114f=path[_0x269bcd(0x202)](_0x18e7a2,_0x4b78ab);if(!fs['statSync'](_0x88114f)[_0x269bcd(0x1f2)]()||_0x4b78ab[_0x269bcd(0x20a)]('.'))continue;isWindowDirectory(_0x88114f,_0x4b78ab)&&processWindowDirectory(_0x1458ea,_0x527567,_0x2384ea,_0x88114f,_0x48bdf3),findAndProcessWindowDirs(_0x1458ea,_0x527567,_0x2384ea,_0x88114f,_0x48bdf3);}}function checkWindowPreloadAndCopy(_0x48193d,_0x1a53e9,_0x8ad79,_0x1e9ff4=!![]){const _0x38687f=_0x40f069;_0x1e9ff4&&console[_0x38687f(0x1f8)](_0x38687f(0x203));const _0x3a84d1=path['join'](_0x48193d,_0x38687f(0x1e8));fs[_0x38687f(0x205)](_0x3a84d1)&&(processWindowDirectory(_0x48193d,_0x1a53e9,_0x8ad79,_0x3a84d1,_0x1e9ff4),findAndProcessWindowDirs(_0x48193d,_0x1a53e9,_0x8ad79,_0x3a84d1,_0x1e9ff4));}module[_0x40f069(0x1e4)]={'checkWindowPreloadAndCopy':checkWindowPreloadAndCopy,'writeDefaultPreloadFileWhenDeleted':writeDefaultPreloadFileWhenDeleted};