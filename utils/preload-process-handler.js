const _0x59d5c8=_0x7197;(function(_0x35091e,_0x1c31bc){const _0x2253f1=_0x7197,_0x3721dc=_0x35091e();while(!![]){try{const _0xc14759=-parseInt(_0x2253f1(0xc5))/0x1+-parseInt(_0x2253f1(0xc4))/0x2+parseInt(_0x2253f1(0xd2))/0x3+parseInt(_0x2253f1(0xc1))/0x4*(-parseInt(_0x2253f1(0xca))/0x5)+-parseInt(_0x2253f1(0xce))/0x6+parseInt(_0x2253f1(0xb8))/0x7+parseInt(_0x2253f1(0xc7))/0x8;if(_0xc14759===_0x1c31bc)break;else _0x3721dc['push'](_0x3721dc['shift']());}catch(_0x107195){_0x3721dc['push'](_0x3721dc['shift']());}}}(_0x4772,0xdf536));const fs=require('fs'),path=require('path'),{generateDefaultPreloadScript}=require(_0x59d5c8(0xbb)),{generateMergedPreload}=require(_0x59d5c8(0xb7));function checkWindowPreloadAndCopy(_0x1575b0,_0x322e5a,_0x11944e,_0x2a545a=!![]){const _0x5d0655=_0x59d5c8;_0x2a545a&&console[_0x5d0655(0xb9)]('🔍\x20检查窗口目录是否需要\x20preload.js\x20文件...');const _0x2b8d44=path[_0x5d0655(0xcc)](_0x1575b0,_0x5d0655(0xaf)),_0x587cbb=path[_0x5d0655(0xcc)](_0x1575b0,_0x5d0655(0xc3));if(fs[_0x5d0655(0xd0)](_0x587cbb)){const _0x3910d7=fs[_0x5d0655(0xc2)](_0x587cbb);for(const _0x26f736 of _0x3910d7){const _0x921c8f=path[_0x5d0655(0xcc)](_0x587cbb,_0x26f736);if(_0x26f736[_0x5d0655(0xb2)]('.'))continue;if(fs[_0x5d0655(0xcd)](_0x921c8f)[_0x5d0655(0xb1)]()){const _0xb284f4=path[_0x5d0655(0xcc)](_0x921c8f,'preload.js'),_0x1407b8=getNormalizedOutPath(_0x1575b0,_0x322e5a,_0x5d0655(0xb0)+_0x26f736),_0x28beeb=path[_0x5d0655(0xcc)](_0x1407b8,_0x5d0655(0xaf));if(!fs[_0x5d0655(0xd0)](_0xb284f4)){!fs[_0x5d0655(0xd0)](_0x1407b8)&&fs[_0x5d0655(0xc0)](_0x1407b8,{'recursive':!![]});let _0x39b6f8=generateDefaultPreloadScript(_0x11944e,_0x322e5a),_0xc8801e;if(fs['existsSync'](_0x2b8d44)){const _0xc4d6f2=fs[_0x5d0655(0xbf)](_0x2b8d44,'utf-8');_0xc8801e=generateMergedPreload(_0x39b6f8,_0xc4d6f2);}else _0xc8801e=_0x39b6f8;fs[_0x5d0655(0xbe)](_0x28beeb,_0xc8801e);const _0x5c981c=path[_0x5d0655(0xcc)](_0x11944e,'code',_0x5d0655(0xae)),_0x5a7a64=path[_0x5d0655(0xcc)](_0x1407b8,_0x5d0655(0xae));fs['existsSync'](_0x5c981c)&&(fs[_0x5d0655(0xb6)](_0x5c981c,_0x5a7a64),console[_0x5d0655(0xb9)](_0x5d0655(0xcf)+path[_0x5d0655(0xc6)](_0x1575b0,_0x5a7a64))),_0x2a545a&&console[_0x5d0655(0xb9)](_0x5d0655(0xbd)+path[_0x5d0655(0xc6)](_0x1575b0,_0x28beeb));}}}}}function getNormalizedOutPath(_0x21f05a,_0x36810e,_0x386dd7){const _0x2022f7=_0x59d5c8;if(_0x386dd7[_0x2022f7(0xb3)](_0x2022f7(0xb5))||_0x386dd7[_0x2022f7(0xb3)](_0x2022f7(0xba)))return path[_0x2022f7(0xcc)](_0x21f05a,_0x386dd7);return path['join'](_0x36810e,_0x386dd7);}function _0x4772(){const _0xbcb2db=['startsWith','-window','out/','copyFileSync','./preload-merger','11054561mHfcav','log','out\x5c','./static-file-copier','exports','✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20','writeFileSync','readFileSync','mkdirSync','2716KMUZCo','readdirSync','windows','659078PRGoSo','1036951pGijft','relative','6182744dOZmoi','utf-8','✅\x20成功处理\x20preload.js:\x20','8600MFfGSg','✅\x20已完成窗口目录处理:\x20','join','statSync','1815522NfVCPH','📋\x20复制\x20window-controller.js\x20到窗口目录:\x20','existsSync','code','4198899HKnEny','window-controller.js','preload.js','windows/','isDirectory','includes'];_0x4772=function(){return _0xbcb2db;};return _0x4772();}function writeDefaultPreloadFileWhenDeleted(_0x42bdf6,_0x561ad0,_0x4ecc06,_0x3ee3c2){const _0x2344b5=_0x59d5c8,_0x5969b4=generateDefaultPreloadScript(_0x42bdf6,_0x561ad0);fs[_0x2344b5(0xbe)](_0x4ecc06,_0x5969b4),console['log']('✅\x20成功处理已存在的\x20preload.js:\x20'+_0x3ee3c2);}function isWindowDirectory(_0x3ac111,_0x761205){const _0x44dab4=_0x59d5c8;return _0x761205==='windows'||_0x761205['endsWith'](_0x44dab4(0xb4));}function processWindowDirectory(_0x2c7c36,_0x1b3eb4,_0x17412a,_0x567011,_0x4f42a2){const _0x2f902b=_0x59d5c8,_0x1e8478=path[_0x2f902b(0xcc)](_0x2c7c36,_0x2f902b(0xaf)),_0x15e553=path[_0x2f902b(0xc6)](_0x2c7c36,_0x567011),_0x1c3380=getNormalizedOutPath(_0x2c7c36,_0x1b3eb4,_0x15e553),_0x606230=path['join'](_0x567011,'preload.js'),_0x8212cd=path['join'](_0x1c3380,_0x2f902b(0xaf)),_0x57caa6=generateDefaultPreloadScript(_0x17412a,_0x1b3eb4);let _0x163b2c=_0x57caa6;if(fs['existsSync'](_0x606230)){const _0x23d3a7=fs[_0x2f902b(0xbf)](_0x606230,'utf-8');_0x163b2c=generateMergedPreload(_0x57caa6,_0x23d3a7);}if(fs[_0x2f902b(0xd0)](_0x1e8478)){const _0xed3de1=fs[_0x2f902b(0xbf)](_0x1e8478,_0x2f902b(0xc8));_0x163b2c=generateMergedPreload(_0x163b2c,_0xed3de1);}fs[_0x2f902b(0xbe)](_0x8212cd,_0x163b2c),console['log'](_0x2f902b(0xc9)+_0x15e553);const _0x133c34=path[_0x2f902b(0xcc)](_0x17412a,_0x2f902b(0xd1),_0x2f902b(0xae)),_0x44b877=path[_0x2f902b(0xcc)](_0x1c3380,_0x2f902b(0xae));fs[_0x2f902b(0xd0)](_0x133c34)&&(fs[_0x2f902b(0xb6)](_0x133c34,_0x44b877),console['log']('📋\x20复制\x20window-controller.js\x20到窗口目录:\x20'+path[_0x2f902b(0xc6)](_0x2c7c36,_0x44b877))),_0x4f42a2&&console[_0x2f902b(0xb9)](_0x2f902b(0xcb)+_0x15e553);}function findAndProcessWindowDirs(_0x153172,_0x1ee633,_0x146e95,_0x18259a,_0x37e7fd){const _0x20ec76=_0x59d5c8,_0x3ec42b=fs['readdirSync'](_0x18259a);for(const _0x212f86 of _0x3ec42b){const _0x715337=path[_0x20ec76(0xcc)](_0x18259a,_0x212f86);if(!fs[_0x20ec76(0xcd)](_0x715337)[_0x20ec76(0xb1)]()||_0x212f86[_0x20ec76(0xb3)]('.'))continue;isWindowDirectory(_0x715337,_0x212f86)&&processWindowDirectory(_0x153172,_0x1ee633,_0x146e95,_0x715337,_0x37e7fd),findAndProcessWindowDirs(_0x153172,_0x1ee633,_0x146e95,_0x715337,_0x37e7fd);}}function checkWindowPreloadAndCopy(_0x41dba8,_0x2e35d6,_0x5e3278,_0x20be83=!![]){const _0x1692de=_0x59d5c8;_0x20be83&&console[_0x1692de(0xb9)]('🔍\x20检查窗口目录是否需要\x20preload.js\x20文件...');const _0x339ed2=path[_0x1692de(0xcc)](_0x41dba8,_0x1692de(0xc3));fs[_0x1692de(0xd0)](_0x339ed2)&&(processWindowDirectory(_0x41dba8,_0x2e35d6,_0x5e3278,_0x339ed2,_0x20be83),findAndProcessWindowDirs(_0x41dba8,_0x2e35d6,_0x5e3278,_0x339ed2,_0x20be83));}function _0x7197(_0x446fc5,_0x5b65f8){const _0x47720a=_0x4772();return _0x7197=function(_0x8e8065,_0x55f075){_0x8e8065=_0x8e8065-0xae;let _0x1956e3=_0x47720a[_0x8e8065];return _0x1956e3;},_0x7197(_0x446fc5,_0x5b65f8);}module[_0x59d5c8(0xbc)]={'checkWindowPreloadAndCopy':checkWindowPreloadAndCopy,'writeDefaultPreloadFileWhenDeleted':writeDefaultPreloadFileWhenDeleted};