const _0x616c43=_0x18d9;function _0x18d9(_0x339fd6,_0x288f5a){const _0x4d60f4=_0x4d60();return _0x18d9=function(_0x18d999,_0x52f381){_0x18d999=_0x18d999-0xdc;let _0x1aea4e=_0x4d60f4[_0x18d999];return _0x1aea4e;},_0x18d9(_0x339fd6,_0x288f5a);}(function(_0x1e6ccb,_0x20af6f){const _0x45d03=_0x18d9,_0x189c4e=_0x1e6ccb();while(!![]){try{const _0x66dd3e=parseInt(_0x45d03(0xe3))/0x1+-parseInt(_0x45d03(0xfd))/0x2*(-parseInt(_0x45d03(0x105))/0x3)+parseInt(_0x45d03(0xde))/0x4+-parseInt(_0x45d03(0xfe))/0x5+parseInt(_0x45d03(0xdd))/0x6+-parseInt(_0x45d03(0xf7))/0x7+-parseInt(_0x45d03(0xdf))/0x8*(-parseInt(_0x45d03(0x10c))/0x9);if(_0x66dd3e===_0x20af6f)break;else _0x189c4e['push'](_0x189c4e['shift']());}catch(_0x3de4ce){_0x189c4e['push'](_0x189c4e['shift']());}}}(_0x4d60,0x8fb5b));const fs=require('fs'),path=require(_0x616c43(0xe8)),parser=require(_0x616c43(0x107)),generate=require('@babel/generator')['default'],{obfuscatorJS}=require(_0x616c43(0xea));function parseFileContent(_0x3fad14){const _0x41a494=_0x616c43;try{const _0x1e27f7=parser['parse'](_0x3fad14,{'sourceType':_0x41a494(0xff),'plugins':[_0x41a494(0xf3),_0x41a494(0x102)]}),_0x1b3369=_0x1e27f7[_0x41a494(0xf4)]['body'][_0x41a494(0x109)](_0x5dcfb9=>_0x5dcfb9[_0x41a494(0xec)]===_0x41a494(0x106)&&_0x5dcfb9[_0x41a494(0xe6)]['some'](_0x599e5a=>_0x599e5a['id'][_0x41a494(0x10b)]==='fn'));if(!_0x1b3369)return console[_0x41a494(0xf5)](_0x41a494(0xee)),{'template':_0x3fad14,'fnContent':'{}'};const _0x4d4632=_0x1b3369['declarations'][0x0]['init'],_0x5cbe3a=generate(_0x4d4632,{'retainLines':!![],'compact':![],'quotes':'single'})[_0x41a494(0xf9)],_0x361210=_0x1b3369[_0x41a494(0xe6)][0x0][_0x41a494(0x104)]['start'],_0x298e04=_0x1b3369[_0x41a494(0xe6)][0x0][_0x41a494(0x104)]['end'],_0x1a5358=_0x3fad14[_0x41a494(0x10d)](0x0,_0x361210)+_0x41a494(0xeb)+_0x3fad14[_0x41a494(0x10d)](_0x298e04);return{'template':_0x1a5358,'fnContent':_0x5cbe3a};}catch(_0x1ce4a4){return console[_0x41a494(0x10f)]('❌\x20解析文件失败:',_0x1ce4a4),{'template':'','fnContent':'{}'};}}function objectToString(_0x5ec34b){const _0x48e836=_0x616c43,_0x52cf8d=Object[_0x48e836(0x101)](_0x5ec34b)[_0x48e836(0xfc)](([_0x27e09c,_0x2d183d])=>{const _0x4feb60=_0x48e836,_0x5a9e92=_0x2d183d[_0x4feb60(0xf2)]()[_0x4feb60(0xdc)](/\/\/ .*\n/),_0x154bd0=_0x5a9e92?_0x5a9e92[0x0]:'';return'\x20\x20'+_0x154bd0+'\x20\x20'+_0x27e09c+':\x20'+_0x2d183d;});return'{\x0a'+_0x52cf8d['join'](_0x48e836(0xf0))+_0x48e836(0xe2);}function updateFnFile(_0x1f6246,_0x490bda,_0x4a6edc,_0xe36624){const _0x409d74=_0x616c43,_0x157010=path[_0x409d74(0xe9)](_0x1f6246,_0x409d74(0xe4),'fn.js');!fs[_0x409d74(0xfa)](path[_0x409d74(0xfb)](_0x157010))&&fs[_0x409d74(0xed)](path[_0x409d74(0xfb)](_0x157010),{'recursive':!![]});let _0x5214a4='',_0x3904eb='{}';if(fs[_0x409d74(0xfa)](_0x157010)){const _0x17c579=fs[_0x409d74(0xf6)](_0x157010,_0x409d74(0xf8)),{template:_0x59a6d3,fnContent:_0x4f37ee}=parseFileContent(_0x17c579);_0x5214a4=_0x59a6d3,_0x3904eb=_0x4f37ee;}else _0x5214a4=_0x409d74(0xe7);const {fnContent:_0x35f02f}=parseFileContent(_0xe36624),_0x169a9a=_0x4a6edc[_0x409d74(0xe0)](_0x490bda,'')[_0x409d74(0xe0)](/^[\/\\]/,'')['replace'](/^src[\/\\]/,'')[_0x409d74(0xe0)](/\\/g,'/'),_0x27405c='__FUNCTION_'+_0x169a9a[_0x409d74(0xe0)](/[\/\.]/g,'_')+'_',_0x1e81a9=eval('('+_0x3904eb+')'),_0x194b33=eval('('+_0x35f02f+')'),_0x4d9313={..._0x1e81a9};let _0x5df2b3=0x0;Object[_0x409d74(0x100)](_0x4d9313)[_0x409d74(0xe1)](_0x42c4f5=>{const _0x444356=_0x409d74;_0x42c4f5[_0x444356(0x103)](_0x27405c)&&(console[_0x444356(0x108)](_0x444356(0x10a)+_0x42c4f5),delete _0x4d9313[_0x42c4f5],_0x5df2b3++);});let _0x225bba=0x0,_0x3b7035=0x0;Object[_0x409d74(0x101)](_0x194b33)['forEach'](([_0x149a6e,_0x1d9eed])=>{const _0x212748=_0x409d74;_0x149a6e in _0x4d9313?(console['log'](_0x212748(0x10e)+_0x149a6e),_0x3b7035++):(console[_0x212748(0x108)](_0x212748(0xe5)+_0x149a6e),_0x225bba++),_0x4d9313[_0x149a6e]=_0x1d9eed;});const _0x571593=_0x5214a4[_0x409d74(0xe0)]('____fn_place____',objectToString(_0x4d9313));fs['writeFileSync'](_0x157010,obfuscatorJS(_0x571593)),console['log'](_0x409d74(0xf1)+path['relative'](_0x490bda,_0x157010)),console[_0x409d74(0x108)](_0x409d74(0x110),{'total':Object[_0x409d74(0x100)](_0x4d9313)[_0x409d74(0xef)],'added':_0x225bba,'updated':_0x3b7035,'removed':_0x5df2b3,'preserved':Object['keys'](_0x4d9313)['length']-(_0x225bba+_0x3b7035)});}module['exports']={'updateFnFile':updateFnFile};function _0x4d60(){const _0x20e8f9=['dirname','map','17728moyTGT','4269535fPSKNc','module','keys','entries','typescript','startsWith','init','120ZiRxGW','VariableDeclaration','@babel/parser','log','find','🗑️\x20移除旧函数:\x20','name','9DnTNzq','slice','🔄\x20更新函数:\x20','error','📊\x20函数统计:','match','1013256GeLHlw','2182952RlSomq','2136784WrVvyE','replace','forEach','\x0a};','675656jzgqXo','main','➕\x20添加函数:\x20','declarations','const\x20{\x20ipcMain,\x20dialog\x20}\x20=\x20require(\x27electron\x27);\x0aconst\x20fs\x20=\x20require(\x27fs\x27);\x0aconst\x20os\x20=\x20require(\x27os\x27);\x0a\x0aconst\x20fn\x20=\x20____fn_place____;\x0a\x0afunction\x20registerMainFunctions()\x20{\x0a\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20\x20\x20}\x0a\x20\x20});\x0a}\x0a\x0amodule.exports\x20=\x20{\x20registerMainFunctions\x20};','path','join','./saveJs','____fn_place____','type','mkdirSync','⚠️\x20未找到\x20fn\x20对象定义','length',',\x0a\x0a','✅\x20更新\x20fn.js:\x20','toString','jsx','program','warn','readFileSync','3985702sAyeKW','utf-8','code','existsSync'];_0x4d60=function(){return _0x20e8f9;};return _0x4d60();}