const _0x2fcb3e=_0x58ac;(function(_0x1953b3,_0x280009){const _0x13cb09=_0x58ac,_0x3ad7f2=_0x1953b3();while(!![]){try{const _0x581d23=-parseInt(_0x13cb09(0xf6))/0x1*(parseInt(_0x13cb09(0xfe))/0x2)+parseInt(_0x13cb09(0x104))/0x3+-parseInt(_0x13cb09(0xdd))/0x4+parseInt(_0x13cb09(0xe0))/0x5*(parseInt(_0x13cb09(0xee))/0x6)+parseInt(_0x13cb09(0xf8))/0x7+-parseInt(_0x13cb09(0xd6))/0x8+-parseInt(_0x13cb09(0x105))/0x9;if(_0x581d23===_0x280009)break;else _0x3ad7f2['push'](_0x3ad7f2['shift']());}catch(_0x1c59ca){_0x3ad7f2['push'](_0x3ad7f2['shift']());}}}(_0x1523,0xb4822));function _0x58ac(_0x44a4f5,_0x454967){const _0x152396=_0x1523();return _0x58ac=function(_0x58acce,_0x16e6b7){_0x58acce=_0x58acce-0xd0;let _0x51f765=_0x152396[_0x58acce];return _0x51f765;},_0x58ac(_0x44a4f5,_0x454967);}const fs=require('fs'),path=require(_0x2fcb3e(0xd0)),parser=require(_0x2fcb3e(0xe1)),generate=require('@babel/generator')['default'],{obfuscatorJS}=require(_0x2fcb3e(0xf1));function parseFileContent(_0x4997b9){const _0x49bc06=_0x2fcb3e;try{const _0x36f798=parser[_0x49bc06(0xed)](_0x4997b9,{'sourceType':_0x49bc06(0x100),'plugins':[_0x49bc06(0xd1),'typescript']}),_0x23cc1f=_0x36f798[_0x49bc06(0xe2)][_0x49bc06(0xd9)][_0x49bc06(0xf3)](_0x27d4bf=>_0x27d4bf[_0x49bc06(0xd2)]==='VariableDeclaration'&&_0x27d4bf[_0x49bc06(0xf9)]['some'](_0x17c423=>_0x17c423['id'][_0x49bc06(0xea)]==='fn'));if(!_0x23cc1f)return console[_0x49bc06(0xf4)](_0x49bc06(0x101)),{'template':_0x4997b9,'fnContent':'{}'};const _0x21830c=_0x23cc1f['declarations'][0x0][_0x49bc06(0xfc)],_0x1d7664=generate(_0x21830c,{'retainLines':!![],'compact':![],'quotes':'single'})[_0x49bc06(0xd4)],_0x92f6b0=_0x23cc1f[_0x49bc06(0xf9)][0x0][_0x49bc06(0xfc)][_0x49bc06(0xd7)],_0x36d2d0=_0x23cc1f[_0x49bc06(0xf9)][0x0][_0x49bc06(0xfc)][_0x49bc06(0xf5)],_0x1a5977=_0x4997b9[_0x49bc06(0xde)](0x0,_0x92f6b0)+'____fn_place____'+_0x4997b9[_0x49bc06(0xde)](_0x36d2d0);return{'template':_0x1a5977,'fnContent':_0x1d7664};}catch(_0xd512a0){return console[_0x49bc06(0xd5)](_0x49bc06(0xec),_0xd512a0),{'template':'','fnContent':'{}'};}}function objectToString(_0x2c4ead){const _0x40917a=_0x2fcb3e,_0x45b7c3=Object[_0x40917a(0xe5)](_0x2c4ead)[_0x40917a(0xf2)](([_0xf804f6,_0x4b83bc])=>{const _0x13a7a4=_0x40917a,_0x3b31c6=_0x4b83bc[_0x13a7a4(0xeb)]()[_0x13a7a4(0xe3)](/\/\/ .*\n/),_0x142a56=_0x3b31c6?_0x3b31c6[0x0]:'';return'\x20\x20'+_0x142a56+'\x20\x20'+_0xf804f6+':\x20'+_0x4b83bc;});return'{\x0a'+_0x45b7c3[_0x40917a(0xdf)](_0x40917a(0xe4))+_0x40917a(0xfa);}function updateFnFile(_0x1fcb4d,_0x783b02,_0x4e241b,_0x5c88c0){const _0x310e64=_0x2fcb3e,_0x348d83=path[_0x310e64(0xdf)](_0x1fcb4d,_0x310e64(0xe7),_0x310e64(0xfb));!fs[_0x310e64(0xe8)](path['dirname'](_0x348d83))&&fs[_0x310e64(0xda)](path[_0x310e64(0xf0)](_0x348d83),{'recursive':!![]});let _0x22fa31='',_0x5cf893='{}';if(fs['existsSync'](_0x348d83)){const _0x196871=fs[_0x310e64(0xd8)](_0x348d83,_0x310e64(0xe6)),{template:_0x1683ac,fnContent:_0x3d41b6}=parseFileContent(_0x196871);_0x22fa31=_0x1683ac,_0x5cf893=_0x3d41b6;}else _0x22fa31='const\x20{\x20ipcMain,\x20dialog\x20}\x20=\x20require(\x27electron\x27);\x0aconst\x20fs\x20=\x20require(\x27fs\x27);\x0aconst\x20os\x20=\x20require(\x27os\x27);\x0a\x0aconst\x20fn\x20=\x20____fn_place____;\x0a\x0afunction\x20registerMainFunctions()\x20{\x0a\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20\x20\x20}\x0a\x20\x20});\x0a}\x0a\x0amodule.exports\x20=\x20{\x20registerMainFunctions\x20};';const {fnContent:_0x4791f0}=parseFileContent(_0x5c88c0),_0x397ad0=_0x4e241b['replace'](_0x783b02,'')[_0x310e64(0xd3)](/^[\/\\]/,'')['replace'](/^src[\/\\]/,'')[_0x310e64(0xd3)](/\\/g,'/'),_0x132d83=_0x310e64(0x109)+_0x397ad0[_0x310e64(0xd3)](/[\/\.]/g,'_')+'_',_0x57a11b=eval('('+_0x5cf893+')'),_0x354f36=eval('('+_0x4791f0+')'),_0x13fec6={..._0x57a11b};let _0x5bf7e6=0x0;Object[_0x310e64(0xf7)](_0x13fec6)[_0x310e64(0x103)](_0x22701c=>{const _0x40ea1f=_0x310e64;_0x22701c[_0x40ea1f(0x102)](_0x132d83)&&(console['log']('🗑️\x20移除旧函数:\x20'+_0x22701c),delete _0x13fec6[_0x22701c],_0x5bf7e6++);});let _0x4731d9=0x0,_0x1d6062=0x0;Object[_0x310e64(0xe5)](_0x354f36)['forEach'](([_0x37a984,_0xfe4c0b])=>{const _0x49f306=_0x310e64;_0x37a984 in _0x13fec6?(console[_0x49f306(0xdb)]('🔄\x20更新函数:\x20'+_0x37a984),_0x1d6062++):(console[_0x49f306(0xdb)](_0x49f306(0xfd)+_0x37a984),_0x4731d9++),_0x13fec6[_0x37a984]=_0xfe4c0b;});const _0x41d6b1=_0x22fa31['replace'](_0x310e64(0x106),objectToString(_0x13fec6));fs[_0x310e64(0xdc)](_0x348d83,obfuscatorJS(_0x41d6b1)),console[_0x310e64(0xdb)](_0x310e64(0x107)+path[_0x310e64(0xe9)](_0x783b02,_0x348d83)),console[_0x310e64(0xdb)](_0x310e64(0x108),{'total':Object[_0x310e64(0xf7)](_0x13fec6)[_0x310e64(0xff)],'added':_0x4731d9,'updated':_0x1d6062,'removed':_0x5bf7e6,'preserved':Object['keys'](_0x13fec6)['length']-(_0x4731d9+_0x1d6062)});}function _0x1523(){const _0x4abca6=['declarations','\x0a};','fn.js','init','➕\x20添加函数:\x20','866562KKvkwK','length','module','⚠️\x20未找到\x20fn\x20对象定义','startsWith','forEach','2681031LYwkRv','10765791zXzZKD','____fn_place____','✅\x20更新\x20fn.js:\x20','📊\x20函数统计:','__FUNCTION_','path','jsx','type','replace','code','error','1266656tFvlTR','start','readFileSync','body','mkdirSync','log','writeFileSync','4259892vYgZwL','slice','join','5kQjNNT','@babel/parser','program','match',',\x0a\x0a','entries','utf-8','main','existsSync','relative','name','toString','❌\x20解析文件失败:','parse','7823262cOFFLv','exports','dirname','./saveJs','map','find','warn','end','1ZyrXBb','keys','9762151lZwDJD'];_0x1523=function(){return _0x4abca6;};return _0x1523();}module[_0x2fcb3e(0xef)]={'updateFnFile':updateFnFile};