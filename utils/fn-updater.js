const _0x166384=_0x5c8f;(function(_0x5bed39,_0x569ee8){const _0x340d09=_0x5c8f,_0x5abb9e=_0x5bed39();while(!![]){try{const _0x3a4772=-parseInt(_0x340d09(0x16b))/0x1+parseInt(_0x340d09(0x158))/0x2+parseInt(_0x340d09(0x170))/0x3*(parseInt(_0x340d09(0x16a))/0x4)+parseInt(_0x340d09(0x14a))/0x5+-parseInt(_0x340d09(0x13e))/0x6+-parseInt(_0x340d09(0x145))/0x7*(-parseInt(_0x340d09(0x172))/0x8)+parseInt(_0x340d09(0x15b))/0x9*(-parseInt(_0x340d09(0x147))/0xa);if(_0x3a4772===_0x569ee8)break;else _0x5abb9e['push'](_0x5abb9e['shift']());}catch(_0x39bd80){_0x5abb9e['push'](_0x5abb9e['shift']());}}}(_0xfae2,0xd5544));function _0x5c8f(_0x8f6047,_0x30870b){const _0xfae235=_0xfae2();return _0x5c8f=function(_0x5c8f0d,_0xfe4fd1){_0x5c8f0d=_0x5c8f0d-0x13c;let _0x11c199=_0xfae235[_0x5c8f0d];return _0x11c199;},_0x5c8f(_0x8f6047,_0x30870b);}const fs=require('fs'),path=require(_0x166384(0x142)),parser=require(_0x166384(0x175)),generate=require('@babel/generator')[_0x166384(0x164)],{obfuscatorJS}=require('./saveJs');function _0xfae2(){const _0x1a2d74=['24QlnJVY','match','8TSCyNa','body','declarations','@babel/parser','program',',\x0a\x0a','2951238Vrwphp','slice','start','📊\x20函数统计:','path','VariableDeclaration','init','9479750mPxJti','type','10faADNQ','readFileSync','end','771910TExPeb','single','join','__FUNCTION_','entries','warn','name','find','typescript','forEach','toString','⚠️\x20未找到\x20fn\x20对象定义','✅\x20更新\x20fn.js:\x20','map','2346640UZGSJp','dirname','fn.js','13284135ioCiFB','startsWith','existsSync','log','____fn_place____','keys','exports','replace','writeFileSync','default','utf-8','module','length','main','some','626284LhyoPQ','1092836gdKNoe','relative','❌\x20解析文件失败:','const\x20{\x20ipcMain,\x20dialog\x20}\x20=\x20require(\x27electron\x27);\x0aconst\x20fs\x20=\x20require(\x27fs\x27);\x0aconst\x20os\x20=\x20require(\x27os\x27);\x0a\x0aconst\x20fn\x20=\x20____fn_place____;\x0a\x0afunction\x20registerMainFunctions()\x20{\x0a\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20\x20\x20}\x0a\x20\x20});\x0a}\x0a\x0amodule.exports\x20=\x20{\x20registerMainFunctions\x20};','jsx'];_0xfae2=function(){return _0x1a2d74;};return _0xfae2();}function parseFileContent(_0x482a5f){const _0x4821fb=_0x166384;try{const _0x3b6791=parser['parse'](_0x482a5f,{'sourceType':_0x4821fb(0x166),'plugins':[_0x4821fb(0x16f),_0x4821fb(0x152)]}),_0x27573d=_0x3b6791[_0x4821fb(0x13c)][_0x4821fb(0x173)][_0x4821fb(0x151)](_0x21b743=>_0x21b743[_0x4821fb(0x146)]===_0x4821fb(0x143)&&_0x21b743[_0x4821fb(0x174)][_0x4821fb(0x169)](_0x30eec1=>_0x30eec1['id'][_0x4821fb(0x150)]==='fn'));if(!_0x27573d)return console[_0x4821fb(0x14f)](_0x4821fb(0x155)),{'template':_0x482a5f,'fnContent':'{}'};const _0x50e258=_0x27573d[_0x4821fb(0x174)][0x0][_0x4821fb(0x144)],_0x447a73=generate(_0x50e258,{'retainLines':!![],'compact':![],'quotes':_0x4821fb(0x14b)})['code'],_0x729369=_0x27573d[_0x4821fb(0x174)][0x0]['init'][_0x4821fb(0x140)],_0x39eb0e=_0x27573d['declarations'][0x0][_0x4821fb(0x144)][_0x4821fb(0x149)],_0x3801c2=_0x482a5f[_0x4821fb(0x13f)](0x0,_0x729369)+'____fn_place____'+_0x482a5f[_0x4821fb(0x13f)](_0x39eb0e);return{'template':_0x3801c2,'fnContent':_0x447a73};}catch(_0x578f28){return console['error'](_0x4821fb(0x16d),_0x578f28),{'template':'','fnContent':'{}'};}}function objectToString(_0x1ab85c){const _0x27e25c=_0x166384,_0x1924c1=Object[_0x27e25c(0x14e)](_0x1ab85c)[_0x27e25c(0x157)](([_0x17d44e,_0x1560d2])=>{const _0x3c319d=_0x27e25c,_0x4d9161=_0x1560d2[_0x3c319d(0x154)]()[_0x3c319d(0x171)](/\/\/ .*\n/),_0x1f93cc=_0x4d9161?_0x4d9161[0x0]:'';return'\x20\x20'+_0x1f93cc+'\x20\x20'+_0x17d44e+':\x20'+_0x1560d2;});return'{\x0a'+_0x1924c1[_0x27e25c(0x14c)](_0x27e25c(0x13d))+'\x0a};';}function updateFnFile(_0xcb1886,_0x31e7b1,_0x43cc34,_0x51880d){const _0x3dc5a5=_0x166384,_0x3c15bc=path[_0x3dc5a5(0x14c)](_0xcb1886,_0x3dc5a5(0x168),_0x3dc5a5(0x15a));!fs[_0x3dc5a5(0x15d)](path[_0x3dc5a5(0x159)](_0x3c15bc))&&fs['mkdirSync'](path[_0x3dc5a5(0x159)](_0x3c15bc),{'recursive':!![]});let _0x5fb595='',_0x5a5bdf='{}';if(fs[_0x3dc5a5(0x15d)](_0x3c15bc)){const _0x173e60=fs[_0x3dc5a5(0x148)](_0x3c15bc,_0x3dc5a5(0x165)),{template:_0x41fb1c,fnContent:_0x281421}=parseFileContent(_0x173e60);_0x5fb595=_0x41fb1c,_0x5a5bdf=_0x281421;}else _0x5fb595=_0x3dc5a5(0x16e);const {fnContent:_0x236670}=parseFileContent(_0x51880d),_0x2c138f=_0x43cc34['replace'](_0x31e7b1,'')[_0x3dc5a5(0x162)](/^[\/\\]/,'')[_0x3dc5a5(0x162)](/^src[\/\\]/,'')[_0x3dc5a5(0x162)](/\\/g,'/'),_0x441219=_0x3dc5a5(0x14d)+_0x2c138f[_0x3dc5a5(0x162)](/[\/\.]/g,'_')+'_',_0x5dda4e=eval('('+_0x5a5bdf+')'),_0x4ed5b6=eval('('+_0x236670+')'),_0x3f47f4={..._0x5dda4e};let _0x5954bd=0x0;Object['keys'](_0x3f47f4)[_0x3dc5a5(0x153)](_0x15904e=>{const _0x2cfe3a=_0x3dc5a5;_0x15904e[_0x2cfe3a(0x15c)](_0x441219)&&(console[_0x2cfe3a(0x15e)]('🗑️\x20移除旧函数:\x20'+_0x15904e),delete _0x3f47f4[_0x15904e],_0x5954bd++);});let _0x1a5625=0x0,_0x46bf39=0x0;Object[_0x3dc5a5(0x14e)](_0x4ed5b6)[_0x3dc5a5(0x153)](([_0x5a2a6d,_0x53431a])=>{const _0x496212=_0x3dc5a5;_0x5a2a6d in _0x3f47f4?(console[_0x496212(0x15e)]('🔄\x20更新函数:\x20'+_0x5a2a6d),_0x46bf39++):(console[_0x496212(0x15e)]('➕\x20添加函数:\x20'+_0x5a2a6d),_0x1a5625++),_0x3f47f4[_0x5a2a6d]=_0x53431a;});const _0x596d07=_0x5fb595['replace'](_0x3dc5a5(0x15f),objectToString(_0x3f47f4));fs[_0x3dc5a5(0x163)](_0x3c15bc,obfuscatorJS(_0x596d07)),console[_0x3dc5a5(0x15e)](_0x3dc5a5(0x156)+path[_0x3dc5a5(0x16c)](_0x31e7b1,_0x3c15bc)),console[_0x3dc5a5(0x15e)](_0x3dc5a5(0x141),{'total':Object[_0x3dc5a5(0x160)](_0x3f47f4)[_0x3dc5a5(0x167)],'added':_0x1a5625,'updated':_0x46bf39,'removed':_0x5954bd,'preserved':Object[_0x3dc5a5(0x160)](_0x3f47f4)[_0x3dc5a5(0x167)]-(_0x1a5625+_0x46bf39)});}module[_0x166384(0x161)]={'updateFnFile':updateFnFile};