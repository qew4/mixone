const _0x26c717=_0x23d4;(function(_0x400621,_0x4ffe7a){const _0x1600c7=_0x23d4,_0xc8ff9f=_0x400621();while(!![]){try{const _0x362896=-parseInt(_0x1600c7(0x219))/0x1*(parseInt(_0x1600c7(0x209))/0x2)+parseInt(_0x1600c7(0x1fe))/0x3+-parseInt(_0x1600c7(0x20c))/0x4*(parseInt(_0x1600c7(0x20b))/0x5)+-parseInt(_0x1600c7(0x1f9))/0x6+parseInt(_0x1600c7(0x20d))/0x7*(parseInt(_0x1600c7(0x203))/0x8)+-parseInt(_0x1600c7(0x1f8))/0x9*(-parseInt(_0x1600c7(0x1f5))/0xa)+parseInt(_0x1600c7(0x21c))/0xb;if(_0x362896===_0x4ffe7a)break;else _0xc8ff9f['push'](_0xc8ff9f['shift']());}catch(_0x32f8bf){_0xc8ff9f['push'](_0xc8ff9f['shift']());}}}(_0x9ba7,0x191ad));const fs=require('fs'),path=require(_0x26c717(0x1f0)),parser=require(_0x26c717(0x1fd)),generate=require(_0x26c717(0x1f3))[_0x26c717(0x21a)],{obfuscatorJS}=require('./saveJs');function parseFileContent(_0x53e021){const _0x5aae39=_0x26c717;try{const _0xedccaa=parser[_0x5aae39(0x201)](_0x53e021,{'sourceType':_0x5aae39(0x213),'plugins':['jsx',_0x5aae39(0x1e8)]}),_0x488e1e=_0xedccaa[_0x5aae39(0x1ed)][_0x5aae39(0x1fa)]['find'](_0x31ebc3=>_0x31ebc3[_0x5aae39(0x1ef)]==='VariableDeclaration'&&_0x31ebc3['declarations']['some'](_0xe147ff=>_0xe147ff['id'][_0x5aae39(0x1eb)]==='fn'));if(!_0x488e1e)return console[_0x5aae39(0x208)](_0x5aae39(0x200)),{'template':_0x53e021,'fnContent':'{}'};const _0x115aba=_0x488e1e[_0x5aae39(0x212)][0x0][_0x5aae39(0x207)],_0x1ed9cb=generate(_0x115aba,{'retainLines':!![],'compact':![],'quotes':'single'})[_0x5aae39(0x21b)],_0x16b77e=_0x488e1e['declarations'][0x0][_0x5aae39(0x207)][_0x5aae39(0x21e)],_0x3091a6=_0x488e1e['declarations'][0x0][_0x5aae39(0x207)][_0x5aae39(0x1f7)],_0x16a326=_0x53e021[_0x5aae39(0x1f4)](0x0,_0x16b77e)+'____fn_place____'+_0x53e021[_0x5aae39(0x1f4)](_0x3091a6);return{'template':_0x16a326,'fnContent':_0x1ed9cb};}catch(_0x7f348){return console[_0x5aae39(0x205)](_0x5aae39(0x1fc),_0x7f348),{'template':'','fnContent':'{}'};}}function objectToString(_0x5c081a){const _0x5bf4f9=_0x26c717,_0x26777a=Object[_0x5bf4f9(0x20f)](_0x5c081a)[_0x5bf4f9(0x218)](([_0x4c89fe,_0xa7954b])=>{const _0x1cab50=_0x5bf4f9,_0x3cc319=_0xa7954b[_0x1cab50(0x204)]()[_0x1cab50(0x217)](/\/\/ .*\n/),_0x21d5f2=_0x3cc319?_0x3cc319[0x0]:'';return'\x20\x20'+_0x21d5f2+'\x20\x20'+_0x4c89fe+':\x20'+_0xa7954b;});return'{\x0a'+_0x26777a[_0x5bf4f9(0x1e9)](_0x5bf4f9(0x211))+_0x5bf4f9(0x20e);}function _0x23d4(_0x30e226,_0x6bdd87){const _0x9ba730=_0x9ba7();return _0x23d4=function(_0x23d489,_0x22497b){_0x23d489=_0x23d489-0x1e7;let _0x579f90=_0x9ba730[_0x23d489];return _0x579f90;},_0x23d4(_0x30e226,_0x6bdd87);}function updateFnFile(_0x461433,_0x1e2e66,_0x341c82,_0x3087cb){const _0x523bdb=_0x26c717,_0x4f77cc=path[_0x523bdb(0x1e9)](_0x461433,_0x523bdb(0x206),_0x523bdb(0x202));!fs[_0x523bdb(0x216)](path[_0x523bdb(0x1ea)](_0x4f77cc))&&fs[_0x523bdb(0x1ff)](path['dirname'](_0x4f77cc),{'recursive':!![]});let _0x300545='',_0xb7711f='{}';if(fs['existsSync'](_0x4f77cc)){const _0x213a0f=fs['readFileSync'](_0x4f77cc,'utf-8'),{template:_0x4630a7,fnContent:_0x224c64}=parseFileContent(_0x213a0f);_0x300545=_0x4630a7,_0xb7711f=_0x224c64;}else _0x300545='const\x20{\x20ipcMain,\x20dialog\x20}\x20=\x20require(\x27electron\x27);\x0aconst\x20fs\x20=\x20require(\x27fs\x27);\x0aconst\x20os\x20=\x20require(\x27os\x27);\x0a\x0aconst\x20fn\x20=\x20____fn_place____;\x0a\x0afunction\x20registerMainFunctions()\x20{\x0a\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a\x20\x20\x20\x20}\x0a\x20\x20});\x0a}\x0a\x0amodule.exports\x20=\x20{\x20registerMainFunctions\x20};';const {fnContent:_0x83fb6f}=parseFileContent(_0x3087cb),_0x401d96=_0x341c82[_0x523bdb(0x21d)](_0x1e2e66,'')[_0x523bdb(0x21d)](/^[\/\\]/,'')[_0x523bdb(0x21d)](/^src[\/\\]/,'')['replace'](/\\/g,'/'),_0x50c1c3=_0x523bdb(0x1f1)+_0x401d96[_0x523bdb(0x21d)](/[\/\.]/g,'_')+'_',_0x4e84d8=eval('('+_0xb7711f+')'),_0x3b6f57=eval('('+_0x83fb6f+')'),_0x4b02b8={..._0x4e84d8};let _0x32f234=0x0;Object['keys'](_0x4b02b8)[_0x523bdb(0x215)](_0x37a1ca=>{const _0x2a061f=_0x523bdb;_0x37a1ca[_0x2a061f(0x214)](_0x50c1c3)&&(console[_0x2a061f(0x210)]('🗑️\x20移除旧函数:\x20'+_0x37a1ca),delete _0x4b02b8[_0x37a1ca],_0x32f234++);});let _0x2ece7b=0x0,_0x3e64b7=0x0;Object['entries'](_0x3b6f57)['forEach'](([_0x353791,_0x35e2a4])=>{const _0x30d927=_0x523bdb;_0x353791 in _0x4b02b8?(console[_0x30d927(0x210)]('🔄\x20更新函数:\x20'+_0x353791),_0x3e64b7++):(console[_0x30d927(0x210)](_0x30d927(0x1ec)+_0x353791),_0x2ece7b++),_0x4b02b8[_0x353791]=_0x35e2a4;});const _0x2fb47c=_0x300545[_0x523bdb(0x21d)]('____fn_place____',objectToString(_0x4b02b8));fs[_0x523bdb(0x1fb)](_0x4f77cc,obfuscatorJS(_0x2fb47c)),console[_0x523bdb(0x210)](_0x523bdb(0x1ee)+path[_0x523bdb(0x1f2)](_0x1e2e66,_0x4f77cc)),console[_0x523bdb(0x210)](_0x523bdb(0x1f6),{'total':Object['keys'](_0x4b02b8)[_0x523bdb(0x20a)],'added':_0x2ece7b,'updated':_0x3e64b7,'removed':_0x32f234,'preserved':Object['keys'](_0x4b02b8)[_0x523bdb(0x20a)]-(_0x2ece7b+_0x3e64b7)});}function _0x9ba7(){const _0x1a4a67=['509868sBmTHv','body','writeFileSync','❌\x20解析文件失败:','@babel/parser','597720axsHXW','mkdirSync','⚠️\x20未找到\x20fn\x20对象定义','parse','fn.js','195784ATBKqn','toString','error','main','init','warn','36976FojHtg','length','10KVHNjE','286904kemwnn','21vENGVX','\x0a};','entries','log',',\x0a\x0a','declarations','module','startsWith','forEach','existsSync','match','map','8Sfpuiz','default','code','1162689PtQQUG','replace','start','exports','typescript','join','dirname','name','➕\x20添加函数:\x20','program','✅\x20更新\x20fn.js:\x20','type','path','__FUNCTION_','relative','@babel/generator','slice','10riMNMy','📊\x20函数统计:','end','907245AxWzIT'];_0x9ba7=function(){return _0x1a4a67;};return _0x9ba7();}module[_0x26c717(0x1e7)]={'updateFnFile':updateFnFile};