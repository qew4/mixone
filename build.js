function _0x55a6(){const _0x3fcc8e=['path','1361020FictdM','forEach','🏗️\x20开始构建窗口:\x20','--web','out','dist','child_process','replace','error','code/static_file/package.json','copyFileSync','26150BaRgxQ','package.json','-window','version','✅\x20已生成文件到:\x20','❌\x20构建失败:','windows','log','parse','readFileSync','web-dist','🔍\x20开始扫描窗口目录...','4504paLQTy','154opxrpm','✅\x20已复制窗口构建产物:\x20','❌\x20错误:','📂\x20创建\x20Web\x20构建目录:\x20','mkdirSync','relative','isDirectory','build:web','📂\x20找到\x20','372060efhtId','222368agBeCa','✨\x20所有窗口构建完成','push','join','existsSync','catch','utf-8','endsWith','run','5OXQbuA','cwd','basename','8370abPTtQ','code/static_file/vite.config.js','3651078PYWMoY','7sqVrjP','构建失败:\x20','build','exit','vite.config.js','statSync','🔄\x20处理窗口:\x20','npm','argv','length','includes','1411194HzCQYP','writeFileSync','inherit','🏗️\x20开始构建窗口web:\x20','web','readdirSync','slice','viteConfig','42JxmtYM','\x20个窗口目录','❌\x20请指定构建模式','status'];_0x55a6=function(){return _0x3fcc8e;};return _0x55a6();}const _0x4ee4a3=_0x2e19;(function(_0x205540,_0x1cdc39){const _0x4dc90f=_0x2e19,_0x4fc2f1=_0x205540();while(!![]){try{const _0x46481f=parseInt(_0x4dc90f(0x19f))/0x1*(-parseInt(_0x4dc90f(0x1af))/0x2)+parseInt(_0x4dc90f(0x197))/0x3+parseInt(_0x4dc90f(0x1c6))/0x4*(-parseInt(_0x4dc90f(0x1cf))/0x5)+parseInt(_0x4dc90f(0x18b))/0x6*(parseInt(_0x4dc90f(0x18c))/0x7)+-parseInt(_0x4dc90f(0x1bb))/0x8*(parseInt(_0x4dc90f(0x189))/0x9)+parseInt(_0x4dc90f(0x1a4))/0xa+-parseInt(_0x4dc90f(0x1bc))/0xb*(-parseInt(_0x4dc90f(0x1c5))/0xc);if(_0x46481f===_0x1cdc39)break;else _0x4fc2f1['push'](_0x4fc2f1['shift']());}catch(_0x218f9b){_0x4fc2f1['push'](_0x4fc2f1['shift']());}}}(_0x55a6,0x7f22f));const {spawnSync}=require(_0x4ee4a3(0x1aa)),fs=require('fs'),path=require(_0x4ee4a3(0x1a3));function _0x2e19(_0x335702,_0x2a6e05){const _0x55a672=_0x55a6();return _0x2e19=function(_0x2e19d7,_0x32a135){_0x2e19d7=_0x2e19d7-0x187;let _0x10d25c=_0x55a672[_0x2e19d7];return _0x10d25c;},_0x2e19(_0x335702,_0x2a6e05);}function findWindowDirs(_0x25fb7){const _0x3da73a=[];function _0x2ca029(_0x444d07){const _0x4c2f8d=_0x2e19;(_0x444d07[_0x4c2f8d(0x1cd)](_0x4c2f8d(0x1b1))||path[_0x4c2f8d(0x188)](_0x444d07)===_0x4c2f8d(0x1b5))&&_0x3da73a[_0x4c2f8d(0x1c8)](_0x444d07);const _0x5c7e42=fs[_0x4c2f8d(0x19c)](_0x444d07);_0x5c7e42[_0x4c2f8d(0x1a5)](_0x179b75=>{const _0x3ba644=_0x4c2f8d,_0x1cd80=path[_0x3ba644(0x1c9)](_0x444d07,_0x179b75);fs[_0x3ba644(0x191)](_0x1cd80)[_0x3ba644(0x1c2)]()&&_0x2ca029(_0x1cd80);});}return _0x2ca029(_0x25fb7),_0x3da73a;}function processStaticFiles(_0x45ba14){const _0x156384=_0x4ee4a3,_0x4890b6=fs[_0x156384(0x1b8)](path['join'](__dirname,_0x156384(0x1ad)),_0x156384(0x1cc)),_0xee1a2c=fs[_0x156384(0x1b8)](path['join'](__dirname,_0x156384(0x18a)),_0x156384(0x1cc)),_0x2b874e=JSON[_0x156384(0x1b7)](fs[_0x156384(0x1b8)](path[_0x156384(0x1c9)](process[_0x156384(0x187)](),_0x156384(0x1b0)),_0x156384(0x1cc))),_0x4add55=path[_0x156384(0x188)](_0x45ba14),_0x32b644=_0x4890b6[_0x156384(0x1ab)](/____name____/g,_0x4add55)[_0x156384(0x1ab)](/____version____/g,_0x2b874e[_0x156384(0x1b2)]),_0x1e30a8=_0xee1a2c['replace'](/____outputDir____/g,path[_0x156384(0x1c9)](process['cwd'](),_0x156384(0x1a8))['replace'](/\\/g,'/'));return{'packageJson':_0x32b644,'viteConfig':_0x1e30a8};}function generateFiles(_0x1a0c2e,_0x4312d4){const _0x1cae3c=_0x4ee4a3,_0x253814=path['relative'](path['join'](process[_0x1cae3c(0x187)](),_0x1cae3c(0x1b5)),_0x1a0c2e),_0xb65e47=path[_0x1cae3c(0x1c9)](process[_0x1cae3c(0x187)](),_0x1cae3c(0x1a8),_0x1cae3c(0x1b5),_0x253814);!fs[_0x1cae3c(0x1ca)](_0xb65e47)&&fs[_0x1cae3c(0x1c0)](_0xb65e47,{'recursive':!![]}),fs[_0x1cae3c(0x198)](path[_0x1cae3c(0x1c9)](_0xb65e47,_0x1cae3c(0x1b0)),_0x4312d4['packageJson']),fs[_0x1cae3c(0x198)](path[_0x1cae3c(0x1c9)](_0xb65e47,_0x1cae3c(0x190)),_0x4312d4[_0x1cae3c(0x19e)]),console[_0x1cae3c(0x1b6)](_0x1cae3c(0x1b3)+_0xb65e47);}async function buildWindow(_0x3725fa){const _0x56972c=_0x4ee4a3;console[_0x56972c(0x1b6)](_0x56972c(0x1a6)+path[_0x56972c(0x188)](_0x3725fa));const _0x27a965=spawnSync(_0x56972c(0x193),[_0x56972c(0x1ce),_0x56972c(0x18e)],{'cwd':_0x3725fa,'stdio':_0x56972c(0x199),'shell':!![]});if(_0x27a965[_0x56972c(0x1a2)]!==0x0)throw new Error(_0x56972c(0x18d)+path[_0x56972c(0x188)](_0x3725fa));}async function buildWindowWeb(_0x46cd08){const _0x2262cf=_0x4ee4a3;console['log'](_0x2262cf(0x19a)+path[_0x2262cf(0x188)](_0x46cd08));const _0x36a854=spawnSync(_0x2262cf(0x193),[_0x2262cf(0x1ce),_0x2262cf(0x1c3)],{'cwd':_0x46cd08,'stdio':_0x2262cf(0x199),'shell':!![]});if(_0x36a854[_0x2262cf(0x1a2)]!==0x0)throw new Error('构建失败:\x20'+path[_0x2262cf(0x188)](_0x46cd08));}function buildWeb(){const _0x228557=_0x4ee4a3;console[_0x228557(0x1b6)]('🚀\x20开始\x20Web\x20构建...');const _0x3ddf1d=JSON['parse'](fs[_0x228557(0x1b8)](path['join'](__dirname,'..',_0x228557(0x1b0)),_0x228557(0x1cc))),_0x2b2059='v'+_0x3ddf1d[_0x228557(0x1b2)],_0x32e498=path[_0x228557(0x1c9)](__dirname,'..',_0x228557(0x1a9),_0x228557(0x19b),_0x2b2059);console[_0x228557(0x1b6)](_0x228557(0x1bf)+_0x32e498);!fs['existsSync'](_0x32e498)&&fs[_0x228557(0x1c0)](_0x32e498,{'recursive':!![]});const _0x528fd7=path[_0x228557(0x1c9)](__dirname,'..',_0x228557(0x1a8),'windows'),_0x1398e1=path[_0x228557(0x1c9)](_0x528fd7,'web-dist');fs[_0x228557(0x1ca)](_0x1398e1)&&(!fs[_0x228557(0x1ca)](_0x32e498)&&fs[_0x228557(0x1c0)](_0x32e498,{'recursive':!![]}),_0x139ac0(_0x1398e1,_0x32e498),console['log'](_0x228557(0x1bd)+_0x32e498));function _0x59dffa(_0x2167d6,_0x41f2cb){const _0x49a8c1=_0x228557,_0x12a17e=fs['readdirSync'](_0x2167d6);for(const _0x250b3a of _0x12a17e){const _0x2528a7=path[_0x49a8c1(0x1c9)](_0x2167d6,_0x250b3a),_0xf767c0=fs['statSync'](_0x2528a7);if(_0xf767c0['isDirectory']()){if(_0x250b3a['endsWith'](_0x49a8c1(0x1b1))){const _0x41b657=path[_0x49a8c1(0x1c9)](_0x2528a7,_0x49a8c1(0x1b9));if(fs['existsSync'](_0x41b657)){const _0x4134c7=path[_0x49a8c1(0x1c9)](_0x41f2cb,_0x250b3a);!fs['existsSync'](_0x4134c7)&&fs[_0x49a8c1(0x1c0)](_0x4134c7,{'recursive':!![]}),_0x139ac0(_0x41b657,_0x4134c7),console[_0x49a8c1(0x1b6)](_0x49a8c1(0x1bd)+_0x250b3a);}}_0x59dffa(_0x2528a7,path[_0x49a8c1(0x1c9)](_0x41f2cb,_0x250b3a));}}}function _0x139ac0(_0x5e056d,_0x1579c0){const _0x2da24a=_0x228557,_0x4a7f5e=fs[_0x2da24a(0x19c)](_0x5e056d);for(const _0x26444f of _0x4a7f5e){const _0x34e512=path[_0x2da24a(0x1c9)](_0x5e056d,_0x26444f),_0x3fcda8=path[_0x2da24a(0x1c9)](_0x1579c0,_0x26444f),_0x5dd642=fs[_0x2da24a(0x191)](_0x34e512);_0x5dd642[_0x2da24a(0x1c2)]()?(fs['mkdirSync'](_0x3fcda8,{'recursive':!![]}),_0x139ac0(_0x34e512,_0x3fcda8)):fs[_0x2da24a(0x1ae)](_0x34e512,_0x3fcda8);}}_0x59dffa(_0x528fd7,_0x32e498),console[_0x228557(0x1b6)]('✅\x20Web\x20构建完成，输出目录:\x20'+_0x32e498);}async function main(){const _0x4ac4c9=_0x4ee4a3,_0x464dba=process[_0x4ac4c9(0x194)][_0x4ac4c9(0x19d)](0x2),_0x79047=_0x464dba[_0x4ac4c9(0x196)]('--build'),_0x39947b=_0x464dba[_0x4ac4c9(0x196)](_0x4ac4c9(0x1a7));if(_0x79047)try{console[_0x4ac4c9(0x1b6)](_0x4ac4c9(0x1ba));const _0x2834b7=path[_0x4ac4c9(0x1c9)](process[_0x4ac4c9(0x187)](),_0x4ac4c9(0x1b5)),_0x55bb22=findWindowDirs(_0x2834b7);console[_0x4ac4c9(0x1b6)](_0x4ac4c9(0x1c4)+_0x55bb22[_0x4ac4c9(0x195)]+_0x4ac4c9(0x1a0));for(const _0x57597b of _0x55bb22){console[_0x4ac4c9(0x1b6)](_0x4ac4c9(0x192)+path[_0x4ac4c9(0x188)](_0x57597b));const _0x5bd76a=processStaticFiles(_0x57597b),_0x4774c7=path[_0x4ac4c9(0x1c9)](process[_0x4ac4c9(0x187)](),'out',path[_0x4ac4c9(0x1c1)](process['cwd'](),_0x57597b));generateFiles(_0x57597b,_0x5bd76a),await buildWindow(_0x4774c7);}console[_0x4ac4c9(0x1b6)](_0x4ac4c9(0x1c7));}catch(_0x16d8ed){console[_0x4ac4c9(0x1ac)](_0x4ac4c9(0x1be),_0x16d8ed),process[_0x4ac4c9(0x18f)](0x1);}if(_0x39947b){try{console['log'](_0x4ac4c9(0x1ba));const _0x122de8=path[_0x4ac4c9(0x1c9)](process['cwd'](),_0x4ac4c9(0x1b5)),_0x51cbf2=findWindowDirs(_0x122de8);console[_0x4ac4c9(0x1b6)]('📂\x20找到\x20'+_0x51cbf2[_0x4ac4c9(0x195)]+_0x4ac4c9(0x1a0));for(const _0x138ffd of _0x51cbf2){console[_0x4ac4c9(0x1b6)](_0x4ac4c9(0x192)+path[_0x4ac4c9(0x188)](_0x138ffd));const _0x375ff5=processStaticFiles(_0x138ffd),_0x29269a=path['join'](process[_0x4ac4c9(0x187)](),_0x4ac4c9(0x1a8),path[_0x4ac4c9(0x1c1)](process[_0x4ac4c9(0x187)](),_0x138ffd));generateFiles(_0x138ffd,_0x375ff5),await buildWindowWeb(_0x29269a);}console[_0x4ac4c9(0x1b6)](_0x4ac4c9(0x1c7));}catch(_0x1edb02){console[_0x4ac4c9(0x1ac)](_0x4ac4c9(0x1be),_0x1edb02),process[_0x4ac4c9(0x18f)](0x1);}buildWeb();}!_0x79047&&!_0x39947b&&(console[_0x4ac4c9(0x1ac)](_0x4ac4c9(0x1a1)),process[_0x4ac4c9(0x18f)](0x1));}main()[_0x4ee4a3(0x1cb)](_0x3e8dcd=>{const _0x3af63a=_0x4ee4a3;console['error'](_0x3af63a(0x1b4),_0x3e8dcd),process[_0x3af63a(0x18f)](0x1);});