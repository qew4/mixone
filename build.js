function _0x40d6(){const _0x5a89c4=['🔄\x20处理窗口:\x20','status','argv','cwd','path','23282ShLsjB','🏗️\x20开始构建窗口:\x20','readFileSync','mkdirSync','21212WELTYk','out','statSync','--build','utf-8','relative','✅\x20已复制窗口构建产物:\x20','构建失败:\x20','error','📂\x20找到\x20','✨\x20所有窗口构建完成','🚀\x20开始\x20Web\x20构建...','17730VLvLEf','code/static_file/package.json','packageJson','🏗️\x20开始构建窗口web:\x20','❌\x20请指定构建模式','build:web','parse','windows','endsWith','push','--web','basename','replace','14552970aaIkrl','version','isDirectory','existsSync','code/static_file/vite.config.js','package.json','62LppTrR','✅\x20Web\x20构建完成，输出目录:\x20','npm','web-dist','❌\x20构建失败:','writeFileSync','-window','build','exit','web','3755076ghARgt','🔍\x20开始扫描窗口目录...','✅\x20已生成文件到:\x20','join','📂\x20创建\x20Web\x20构建目录:\x20','\x20个窗口目录','158585pYXUJn','run','315819iPwhUY','readdirSync','dist','1504nqPBbk','6zXYggv','slice','length','log','inherit'];_0x40d6=function(){return _0x5a89c4;};return _0x40d6();}const _0x45e455=_0x3b55;(function(_0x2116d5,_0x212233){const _0x4097c7=_0x3b55,_0x2bff76=_0x2116d5();while(!![]){try{const _0xe06082=-parseInt(_0x4097c7(0xc4))/0x1*(-parseInt(_0x4097c7(0xf4))/0x2)+parseInt(_0x4097c7(0xda))/0x3*(-parseInt(_0x4097c7(0xe8))/0x4)+parseInt(_0x4097c7(0xd4))/0x5+parseInt(_0x4097c7(0xce))/0x6+parseInt(_0x4097c7(0xe4))/0x7*(parseInt(_0x4097c7(0xd9))/0x8)+parseInt(_0x4097c7(0xd6))/0x9+-parseInt(_0x4097c7(0xbe))/0xa;if(_0xe06082===_0x212233)break;else _0x2bff76['push'](_0x2bff76['shift']());}catch(_0x1dc0ad){_0x2bff76['push'](_0x2bff76['shift']());}}}(_0x40d6,0x62105));const {spawnSync}=require('child_process'),fs=require('fs'),path=require(_0x45e455(0xe3));function _0x3b55(_0x3dc62f,_0x29270f){const _0x40d685=_0x40d6();return _0x3b55=function(_0x3b5543,_0x549a54){_0x3b5543=_0x3b5543-0xb3;let _0x4d99e2=_0x40d685[_0x3b5543];return _0x4d99e2;},_0x3b55(_0x3dc62f,_0x29270f);}function findWindowDirs(_0x15b74f){const _0x314b21=[];function _0x316aed(_0x181e48){const _0x5b43ec=_0x3b55;(_0x181e48[_0x5b43ec(0xb9)](_0x5b43ec(0xca))||path[_0x5b43ec(0xbc)](_0x181e48)===_0x5b43ec(0xb8))&&_0x314b21[_0x5b43ec(0xba)](_0x181e48);const _0x100073=fs['readdirSync'](_0x181e48);_0x100073['forEach'](_0x4f9590=>{const _0x55e2b4=_0x5b43ec,_0x40d35c=path[_0x55e2b4(0xd1)](_0x181e48,_0x4f9590);fs['statSync'](_0x40d35c)['isDirectory']()&&_0x316aed(_0x40d35c);});}return _0x316aed(_0x15b74f),_0x314b21;}function processStaticFiles(_0x164b7b){const _0x4f96d3=_0x45e455,_0x5f25d3=fs['readFileSync'](path['join'](__dirname,_0x4f96d3(0xf5)),'utf-8'),_0x3e5ae6=fs[_0x4f96d3(0xe6)](path[_0x4f96d3(0xd1)](__dirname,_0x4f96d3(0xc2)),_0x4f96d3(0xec)),_0x153d49=JSON[_0x4f96d3(0xb7)](fs['readFileSync'](path[_0x4f96d3(0xd1)](process['cwd'](),_0x4f96d3(0xc3)),'utf-8')),_0x4e95f1=path[_0x4f96d3(0xbc)](_0x164b7b),_0x5431b1=_0x5f25d3[_0x4f96d3(0xbd)](/____name____/g,_0x4e95f1)[_0x4f96d3(0xbd)](/____version____/g,_0x153d49[_0x4f96d3(0xbf)]),_0x24e8f4=_0x3e5ae6['replace'](/____outputDir____/g,path[_0x4f96d3(0xd1)](process[_0x4f96d3(0xe2)](),_0x4f96d3(0xe9))[_0x4f96d3(0xbd)](/\\/g,'/'));return{'packageJson':_0x5431b1,'viteConfig':_0x24e8f4};}function generateFiles(_0x3aa8f8,_0x345162){const _0x50403a=_0x45e455,_0xcc8ab9=path[_0x50403a(0xed)](path[_0x50403a(0xd1)](process['cwd'](),_0x50403a(0xb8)),_0x3aa8f8),_0x45de22=path[_0x50403a(0xd1)](process[_0x50403a(0xe2)](),'out',_0x50403a(0xb8),_0xcc8ab9);!fs['existsSync'](_0x45de22)&&fs['mkdirSync'](_0x45de22,{'recursive':!![]}),fs[_0x50403a(0xc9)](path[_0x50403a(0xd1)](_0x45de22,_0x50403a(0xc3)),_0x345162[_0x50403a(0xb3)]),fs[_0x50403a(0xc9)](path[_0x50403a(0xd1)](_0x45de22,'vite.config.js'),_0x345162['viteConfig']),console[_0x50403a(0xdd)](_0x50403a(0xd0)+_0x45de22);}async function buildWindow(_0x41e372){const _0x2111b0=_0x45e455;console[_0x2111b0(0xdd)](_0x2111b0(0xe5)+path[_0x2111b0(0xbc)](_0x41e372));const _0x20faf6=spawnSync(_0x2111b0(0xc6),[_0x2111b0(0xd5),_0x2111b0(0xcb)],{'cwd':_0x41e372,'stdio':_0x2111b0(0xde),'shell':!![]});if(_0x20faf6[_0x2111b0(0xe0)]!==0x0)throw new Error(_0x2111b0(0xef)+path[_0x2111b0(0xbc)](_0x41e372));}async function buildWindowWeb(_0x5bc6e4){const _0x103c94=_0x45e455;console[_0x103c94(0xdd)](_0x103c94(0xb4)+path[_0x103c94(0xbc)](_0x5bc6e4));const _0x7d941e=spawnSync(_0x103c94(0xc6),[_0x103c94(0xd5),_0x103c94(0xb6)],{'cwd':_0x5bc6e4,'stdio':'inherit','shell':!![]});if(_0x7d941e[_0x103c94(0xe0)]!==0x0)throw new Error(_0x103c94(0xef)+path[_0x103c94(0xbc)](_0x5bc6e4));}function buildWeb(){const _0x5030f5=_0x45e455;console[_0x5030f5(0xdd)](_0x5030f5(0xf3));const _0x15b7c1=JSON['parse'](fs[_0x5030f5(0xe6)](path[_0x5030f5(0xd1)](__dirname,'..',_0x5030f5(0xc3)),_0x5030f5(0xec))),_0x58b736='v'+_0x15b7c1[_0x5030f5(0xbf)],_0x1f87c2=path[_0x5030f5(0xd1)](__dirname,'..',_0x5030f5(0xd8),_0x5030f5(0xcd),_0x58b736);console['log'](_0x5030f5(0xd2)+_0x1f87c2);!fs[_0x5030f5(0xc1)](_0x1f87c2)&&fs['mkdirSync'](_0x1f87c2,{'recursive':!![]});const _0x66986d=path[_0x5030f5(0xd1)](__dirname,'..','out',_0x5030f5(0xb8)),_0xc407c7=path[_0x5030f5(0xd1)](_0x66986d,_0x5030f5(0xc7));fs['existsSync'](_0xc407c7)&&(!fs[_0x5030f5(0xc1)](_0x1f87c2)&&fs[_0x5030f5(0xe7)](_0x1f87c2,{'recursive':!![]}),_0x5f1801(_0xc407c7,_0x1f87c2),console[_0x5030f5(0xdd)](_0x5030f5(0xee)+_0x1f87c2));function _0x573613(_0x515ffb,_0x7faa4b){const _0x5cb6d8=_0x5030f5,_0x40d2c5=fs[_0x5cb6d8(0xd7)](_0x515ffb);for(const _0x5f1173 of _0x40d2c5){const _0x3a9405=path[_0x5cb6d8(0xd1)](_0x515ffb,_0x5f1173),_0x98d1ed=fs['statSync'](_0x3a9405);if(_0x98d1ed[_0x5cb6d8(0xc0)]()){if(_0x5f1173[_0x5cb6d8(0xb9)](_0x5cb6d8(0xca))){const _0x16630e=path[_0x5cb6d8(0xd1)](_0x3a9405,_0x5cb6d8(0xc7));if(fs[_0x5cb6d8(0xc1)](_0x16630e)){const _0x39833a=path[_0x5cb6d8(0xd1)](_0x7faa4b,_0x5f1173);!fs['existsSync'](_0x39833a)&&fs[_0x5cb6d8(0xe7)](_0x39833a,{'recursive':!![]}),_0x5f1801(_0x16630e,_0x39833a),console[_0x5cb6d8(0xdd)](_0x5cb6d8(0xee)+_0x5f1173);}}_0x573613(_0x3a9405,path[_0x5cb6d8(0xd1)](_0x7faa4b,_0x5f1173));}}}function _0x5f1801(_0x2a4c36,_0x94244e){const _0x8c08c0=_0x5030f5,_0x1221a9=fs['readdirSync'](_0x2a4c36);for(const _0x20e100 of _0x1221a9){const _0x23cbda=path['join'](_0x2a4c36,_0x20e100),_0x25c75d=path['join'](_0x94244e,_0x20e100),_0x4471c8=fs[_0x8c08c0(0xea)](_0x23cbda);_0x4471c8['isDirectory']()?(fs['mkdirSync'](_0x25c75d,{'recursive':!![]}),_0x5f1801(_0x23cbda,_0x25c75d)):fs['copyFileSync'](_0x23cbda,_0x25c75d);}}_0x573613(_0x66986d,_0x1f87c2),console[_0x5030f5(0xdd)](_0x5030f5(0xc5)+_0x1f87c2);}async function main(){const _0x24556f=_0x45e455,_0x470474=process[_0x24556f(0xe1)][_0x24556f(0xdb)](0x2),_0x42d584=_0x470474['includes'](_0x24556f(0xeb)),_0x29d035=_0x470474['includes'](_0x24556f(0xbb));if(_0x42d584)try{console[_0x24556f(0xdd)]('🔍\x20开始扫描窗口目录...');const _0x143575=path[_0x24556f(0xd1)](process['cwd'](),'windows'),_0x52704e=findWindowDirs(_0x143575);console['log'](_0x24556f(0xf1)+_0x52704e[_0x24556f(0xdc)]+_0x24556f(0xd3));for(const _0x3614b3 of _0x52704e){console[_0x24556f(0xdd)]('🔄\x20处理窗口:\x20'+path[_0x24556f(0xbc)](_0x3614b3));const _0x13b616=processStaticFiles(_0x3614b3),_0x5a9466=path[_0x24556f(0xd1)](process[_0x24556f(0xe2)](),_0x24556f(0xe9),path['relative'](process[_0x24556f(0xe2)](),_0x3614b3));generateFiles(_0x3614b3,_0x13b616),await buildWindow(_0x5a9466);}console['log']('✨\x20所有窗口构建完成');}catch(_0x5d89e2){console[_0x24556f(0xf0)]('❌\x20错误:',_0x5d89e2),process[_0x24556f(0xcc)](0x1);}if(_0x29d035){try{console[_0x24556f(0xdd)](_0x24556f(0xcf));const _0x185a7c=path['join'](process[_0x24556f(0xe2)](),'windows'),_0x355510=findWindowDirs(_0x185a7c);console[_0x24556f(0xdd)](_0x24556f(0xf1)+_0x355510[_0x24556f(0xdc)]+_0x24556f(0xd3));for(const _0x160dc9 of _0x355510){console['log'](_0x24556f(0xdf)+path[_0x24556f(0xbc)](_0x160dc9));const _0x7736d1=processStaticFiles(_0x160dc9),_0x4a5df4=path[_0x24556f(0xd1)](process[_0x24556f(0xe2)](),_0x24556f(0xe9),path[_0x24556f(0xed)](process[_0x24556f(0xe2)](),_0x160dc9));generateFiles(_0x160dc9,_0x7736d1),await buildWindowWeb(_0x4a5df4);}console[_0x24556f(0xdd)](_0x24556f(0xf2));}catch(_0x39cfbe){console[_0x24556f(0xf0)]('❌\x20错误:',_0x39cfbe),process[_0x24556f(0xcc)](0x1);}buildWeb();}!_0x42d584&&!_0x29d035&&(console[_0x24556f(0xf0)](_0x24556f(0xb5)),process[_0x24556f(0xcc)](0x1));}main()['catch'](_0x1a3300=>{const _0x1166b9=_0x45e455;console['error'](_0x1166b9(0xc8),_0x1a3300),process[_0x1166b9(0xcc)](0x1);});