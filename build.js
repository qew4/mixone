const _0x549220=_0x429b;(function(_0x551194,_0x4f57e6){const _0x2949e8=_0x429b,_0x2bb02b=_0x551194();while(!![]){try{const _0x204817=-parseInt(_0x2949e8(0xcc))/0x1*(-parseInt(_0x2949e8(0xe6))/0x2)+-parseInt(_0x2949e8(0x10a))/0x3*(parseInt(_0x2949e8(0xe5))/0x4)+parseInt(_0x2949e8(0xdd))/0x5+parseInt(_0x2949e8(0xde))/0x6+parseInt(_0x2949e8(0xf0))/0x7+-parseInt(_0x2949e8(0x108))/0x8*(-parseInt(_0x2949e8(0xcd))/0x9)+-parseInt(_0x2949e8(0xcf))/0xa;if(_0x204817===_0x4f57e6)break;else _0x2bb02b['push'](_0x2bb02b['shift']());}catch(_0x19598a){_0x2bb02b['push'](_0x2bb02b['shift']());}}}(_0x33f9,0x53788));const {spawnSync}=require(_0x549220(0xf6)),fs=require('fs'),path=require(_0x549220(0xf2));function findWindowDirs(_0x1bf844){const _0x5973=[];function _0x22edf9(_0x3eec5f){const _0x44938c=_0x429b;(_0x3eec5f[_0x44938c(0x109)]('-window')||path[_0x44938c(0xd9)](_0x3eec5f)===_0x44938c(0x102))&&_0x5973[_0x44938c(0xfe)](_0x3eec5f);const _0x52621e=fs[_0x44938c(0xd2)](_0x3eec5f);_0x52621e['forEach'](_0x5964bc=>{const _0x29f379=_0x44938c,_0x47d89b=path[_0x29f379(0x107)](_0x3eec5f,_0x5964bc);fs[_0x29f379(0xd4)](_0x47d89b)[_0x29f379(0xe9)]()&&_0x22edf9(_0x47d89b);});}return _0x22edf9(_0x1bf844),_0x5973;}function processStaticFiles(_0x2e6570){const _0x2b8578=_0x549220,_0x18c8c0=fs[_0x2b8578(0xe4)](path[_0x2b8578(0x107)](__dirname,_0x2b8578(0xef)),_0x2b8578(0xfd)),_0x2a97a7=fs[_0x2b8578(0xe4)](path[_0x2b8578(0x107)](__dirname,'code/static_file/vite.config.js'),'utf-8'),_0x4ac6bc=JSON[_0x2b8578(0xd8)](fs[_0x2b8578(0xe4)](path[_0x2b8578(0x107)](process[_0x2b8578(0xd7)](),'package.json'),'utf-8')),_0x46ff90=path[_0x2b8578(0xd9)](_0x2e6570),_0x125c58=_0x18c8c0[_0x2b8578(0xd3)](/____name____/g,_0x46ff90)[_0x2b8578(0xd3)](/____version____/g,_0x4ac6bc[_0x2b8578(0xf3)]),_0x34469e=_0x2a97a7[_0x2b8578(0xd3)](/____outputDir____/g,path[_0x2b8578(0x107)](process[_0x2b8578(0xd7)](),_0x2b8578(0xed))['replace'](/\\/g,'/'));return{'packageJson':_0x125c58,'viteConfig':_0x34469e};}function generateFiles(_0x230b32,_0x328174){const _0x3dfdb9=_0x549220,_0x5911b2=path[_0x3dfdb9(0xf4)](path[_0x3dfdb9(0x107)](process[_0x3dfdb9(0xd7)](),'windows'),_0x230b32),_0x239452=path[_0x3dfdb9(0x107)](process[_0x3dfdb9(0xd7)](),_0x3dfdb9(0xed),_0x3dfdb9(0x102),_0x5911b2);!fs[_0x3dfdb9(0xd6)](_0x239452)&&fs[_0x3dfdb9(0xea)](_0x239452,{'recursive':!![]}),fs[_0x3dfdb9(0x10e)](path[_0x3dfdb9(0x107)](_0x239452,_0x3dfdb9(0x104)),_0x328174[_0x3dfdb9(0xff)]),fs['writeFileSync'](path[_0x3dfdb9(0x107)](_0x239452,_0x3dfdb9(0xf7)),_0x328174[_0x3dfdb9(0xe0)]),console[_0x3dfdb9(0x101)](_0x3dfdb9(0xe8)+_0x239452);}async function buildWindow(_0x2289de){const _0x56359a=_0x549220;console[_0x56359a(0x101)](_0x56359a(0x103)+path[_0x56359a(0xd9)](_0x2289de));const _0x1f89c7=spawnSync(_0x56359a(0xda),[_0x56359a(0xe2),_0x56359a(0xd1)],{'cwd':_0x2289de,'stdio':_0x56359a(0xec),'shell':!![]});if(_0x1f89c7[_0x56359a(0xe3)]!==0x0)throw new Error(_0x56359a(0xdf)+path[_0x56359a(0xd9)](_0x2289de));}async function buildWindowWeb(_0x1ec50c){const _0x187095=_0x549220;console['log'](_0x187095(0x105)+path[_0x187095(0xd9)](_0x1ec50c));const _0x35c4f5=spawnSync(_0x187095(0xda),[_0x187095(0xe2),_0x187095(0xdc)],{'cwd':_0x1ec50c,'stdio':'inherit','shell':!![]});if(_0x35c4f5['status']!==0x0)throw new Error(_0x187095(0xdf)+path['basename'](_0x1ec50c));}function buildWeb(){const _0xbaa021=_0x549220;console[_0xbaa021(0x101)](_0xbaa021(0xdb));const _0x5b295e=JSON['parse'](fs[_0xbaa021(0xe4)](path[_0xbaa021(0x107)](__dirname,'..',_0xbaa021(0x104)),_0xbaa021(0xfd))),_0x53c80d='v'+_0x5b295e[_0xbaa021(0xf3)],_0x4dd271=path[_0xbaa021(0x107)](__dirname,'..',_0xbaa021(0x10c),_0xbaa021(0xf9),_0x53c80d);console[_0xbaa021(0x101)]('📂\x20创建\x20Web\x20构建目录:\x20'+_0x4dd271);!fs[_0xbaa021(0xd6)](_0x4dd271)&&fs[_0xbaa021(0xea)](_0x4dd271,{'recursive':!![]});const _0xd9a300=path[_0xbaa021(0x107)](__dirname,'..',_0xbaa021(0xed),'windows'),_0x4c925a=path[_0xbaa021(0x107)](_0xd9a300,_0xbaa021(0xe1));fs[_0xbaa021(0xd6)](_0x4c925a)&&(!fs[_0xbaa021(0xd6)](_0x4dd271)&&fs[_0xbaa021(0xea)](_0x4dd271,{'recursive':!![]}),_0x3902e5(_0x4c925a,_0x4dd271),console[_0xbaa021(0x101)]('✅\x20已复制窗口构建产物:\x20'+_0x4dd271));function _0x4bfd9d(_0x2a0f18,_0x51854e){const _0x8677b7=_0xbaa021,_0x28bfae=fs[_0x8677b7(0xd2)](_0x2a0f18);for(const _0x3f61b2 of _0x28bfae){const _0x3480f4=path['join'](_0x2a0f18,_0x3f61b2),_0x3b9bba=fs['statSync'](_0x3480f4);if(_0x3b9bba[_0x8677b7(0xe9)]()){if(_0x3f61b2[_0x8677b7(0x109)]('-window')){const _0x33930d=path[_0x8677b7(0x107)](_0x3480f4,_0x8677b7(0xe1));if(fs['existsSync'](_0x33930d)){const _0x28b2c3=path[_0x8677b7(0x107)](_0x51854e,_0x3f61b2);!fs[_0x8677b7(0xd6)](_0x28b2c3)&&fs[_0x8677b7(0xea)](_0x28b2c3,{'recursive':!![]}),_0x3902e5(_0x33930d,_0x28b2c3),console[_0x8677b7(0x101)](_0x8677b7(0x10b)+_0x3f61b2);}}_0x4bfd9d(_0x3480f4,path[_0x8677b7(0x107)](_0x51854e,_0x3f61b2));}}}function _0x3902e5(_0x32c38d,_0x27a8a9){const _0x38a838=_0xbaa021,_0x561478=fs[_0x38a838(0xd2)](_0x32c38d);for(const _0xd440be of _0x561478){const _0x4e439f=path[_0x38a838(0x107)](_0x32c38d,_0xd440be),_0xc66c17=path['join'](_0x27a8a9,_0xd440be),_0x3a72fb=fs[_0x38a838(0xd4)](_0x4e439f);_0x3a72fb[_0x38a838(0xe9)]()?(fs[_0x38a838(0xea)](_0xc66c17,{'recursive':!![]}),_0x3902e5(_0x4e439f,_0xc66c17)):fs[_0x38a838(0xce)](_0x4e439f,_0xc66c17);}}_0x4bfd9d(_0xd9a300,_0x4dd271),console['log']('✅\x20Web\x20构建完成，输出目录:\x20'+_0x4dd271);}async function main(){const _0x4497d7=_0x549220,_0x1e28e5=process[_0x4497d7(0x10d)]['slice'](0x2),_0x1e8efb=_0x1e28e5[_0x4497d7(0xf8)]('--build'),_0x5d0ce3=_0x1e28e5[_0x4497d7(0xf8)](_0x4497d7(0xee));if(_0x1e8efb)try{console[_0x4497d7(0x101)](_0x4497d7(0x106));const _0x4a3eb3=path[_0x4497d7(0x107)](process['cwd'](),'windows'),_0x462c11=findWindowDirs(_0x4a3eb3);console['log'](_0x4497d7(0xeb)+_0x462c11['length']+_0x4497d7(0xfb));for(const _0x26b927 of _0x462c11){console['log'](_0x4497d7(0xd0)+path[_0x4497d7(0xd9)](_0x26b927));const _0x5779c8=processStaticFiles(_0x26b927),_0x1857ef=path[_0x4497d7(0x107)](process[_0x4497d7(0xd7)](),_0x4497d7(0xed),path[_0x4497d7(0xf4)](process['cwd'](),_0x26b927));generateFiles(_0x26b927,_0x5779c8),await buildWindow(_0x1857ef);}console[_0x4497d7(0x101)](_0x4497d7(0xfc));}catch(_0x2ff3f3){console[_0x4497d7(0xe7)](_0x4497d7(0xf5),_0x2ff3f3),process['exit'](0x1);}if(_0x5d0ce3){try{console['log']('🔍\x20开始扫描窗口目录...');const _0x35e18b=path[_0x4497d7(0x107)](process[_0x4497d7(0xd7)](),_0x4497d7(0x102)),_0x5813ca=findWindowDirs(_0x35e18b);console[_0x4497d7(0x101)](_0x4497d7(0xeb)+_0x5813ca[_0x4497d7(0xf1)]+_0x4497d7(0xfb));for(const _0x4c023e of _0x5813ca){console[_0x4497d7(0x101)]('🔄\x20处理窗口:\x20'+path[_0x4497d7(0xd9)](_0x4c023e));const _0x12606f=processStaticFiles(_0x4c023e),_0x3f7007=path[_0x4497d7(0x107)](process[_0x4497d7(0xd7)](),_0x4497d7(0xed),path['relative'](process[_0x4497d7(0xd7)](),_0x4c023e));generateFiles(_0x4c023e,_0x12606f),await buildWindowWeb(_0x3f7007);}console[_0x4497d7(0x101)]('✨\x20所有窗口构建完成');}catch(_0x2a8a96){console[_0x4497d7(0xe7)]('❌\x20错误:',_0x2a8a96),process['exit'](0x1);}buildWeb();}!_0x1e8efb&&!_0x5d0ce3&&(console[_0x4497d7(0xe7)]('❌\x20请指定构建模式'),process[_0x4497d7(0x100)](0x1));}function _0x429b(_0x4d391c,_0x5acffb){const _0x33f9fb=_0x33f9();return _0x429b=function(_0x429b37,_0x492858){_0x429b37=_0x429b37-0xcc;let _0x5366b4=_0x33f9fb[_0x429b37];return _0x5366b4;},_0x429b(_0x4d391c,_0x5acffb);}main()[_0x549220(0xd5)](_0x4cda73=>{const _0x4f5d8c=_0x549220;console['error'](_0x4f5d8c(0xfa),_0x4cda73),process[_0x4f5d8c(0x100)](0x1);});function _0x33f9(){const _0x40c8cf=['🏗️\x20开始构建窗口:\x20','package.json','🏗️\x20开始构建窗口web:\x20','🔍\x20开始扫描窗口目录...','join','16burxQJ','endsWith','164112ipFulJ','✅\x20已复制窗口构建产物:\x20','dist','argv','writeFileSync','4nItKZi','1869669avhStD','copyFileSync','16344430vLruAT','🔄\x20处理窗口:\x20','build','readdirSync','replace','statSync','catch','existsSync','cwd','parse','basename','npm','🚀\x20开始\x20Web\x20构建...','build:web','1913005XZgvvK','1144842bmTbvx','构建失败:\x20','viteConfig','web-dist','run','status','readFileSync','4AnsuQt','205346dAsxvG','error','✅\x20已生成文件到:\x20','isDirectory','mkdirSync','📂\x20找到\x20','inherit','out','--web','code/static_file/package.json','4420227ndCeaJ','length','path','version','relative','❌\x20错误:','child_process','vite.config.js','includes','web','❌\x20构建失败:','\x20个窗口目录','✨\x20所有窗口构建完成','utf-8','push','packageJson','exit','log','windows'];_0x33f9=function(){return _0x40c8cf;};return _0x33f9();}