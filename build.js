const _0x4ccf57=_0x2828;(function(_0x111888,_0x12f04c){const _0x1b7df6=_0x2828,_0x118b8a=_0x111888();while(!![]){try{const _0x16d302=-parseInt(_0x1b7df6(0x1bc))/0x1*(-parseInt(_0x1b7df6(0x1d0))/0x2)+-parseInt(_0x1b7df6(0x1a8))/0x3*(parseInt(_0x1b7df6(0x1bd))/0x4)+-parseInt(_0x1b7df6(0x1b2))/0x5+parseInt(_0x1b7df6(0x1be))/0x6*(-parseInt(_0x1b7df6(0x1c2))/0x7)+-parseInt(_0x1b7df6(0x1bb))/0x8*(-parseInt(_0x1b7df6(0x1a1))/0x9)+parseInt(_0x1b7df6(0x19e))/0xa+parseInt(_0x1b7df6(0x1d5))/0xb;if(_0x16d302===_0x12f04c)break;else _0x118b8a['push'](_0x118b8a['shift']());}catch(_0x30a206){_0x118b8a['push'](_0x118b8a['shift']());}}}(_0x2d3d,0xc89c3));const {spawnSync}=require(_0x4ccf57(0x1a7)),fs=require('fs'),path=require(_0x4ccf57(0x1a2));function findWindowDirs(_0x5f3a2d){const _0xc4ade0=[];function _0x4a230b(_0x3ca672){const _0x46224f=_0x2828;(_0x3ca672[_0x46224f(0x1c8)]('-window')||path[_0x46224f(0x1d1)](_0x3ca672)===_0x46224f(0x1c9))&&_0xc4ade0['push'](_0x3ca672);const _0x2ae338=fs[_0x46224f(0x1c6)](_0x3ca672);_0x2ae338['forEach'](_0x101e7b=>{const _0x25f65c=_0x46224f,_0x247312=path['join'](_0x3ca672,_0x101e7b);fs[_0x25f65c(0x1dc)](_0x247312)[_0x25f65c(0x1c3)]()&&_0x4a230b(_0x247312);});}return _0x4a230b(_0x5f3a2d),_0xc4ade0;}function _0x2828(_0x3d7c99,_0x3e6a5c){const _0x2d3dce=_0x2d3d();return _0x2828=function(_0x282884,_0x565877){_0x282884=_0x282884-0x19b;let _0x24980c=_0x2d3dce[_0x282884];return _0x24980c;},_0x2828(_0x3d7c99,_0x3e6a5c);}function processStaticFiles(_0x1972e8){const _0x4177fe=_0x4ccf57,_0x20fd8e=fs[_0x4177fe(0x1c4)](path[_0x4177fe(0x1b4)](__dirname,_0x4177fe(0x1b7)),_0x4177fe(0x1b3)),_0x334a50=fs[_0x4177fe(0x1c4)](path[_0x4177fe(0x1b4)](__dirname,_0x4177fe(0x1cc)),_0x4177fe(0x1b3)),_0x105960=JSON['parse'](fs['readFileSync'](path[_0x4177fe(0x1b4)](process[_0x4177fe(0x1a6)](),_0x4177fe(0x1a4)),_0x4177fe(0x1b3))),_0x5888c4=path[_0x4177fe(0x1d1)](_0x1972e8),_0x1d4990=_0x20fd8e[_0x4177fe(0x1d6)](/____name____/g,_0x5888c4)[_0x4177fe(0x1d6)](/____version____/g,_0x105960[_0x4177fe(0x19c)]),_0x3d9750=_0x334a50[_0x4177fe(0x1d6)](/____outputDir____/g,path[_0x4177fe(0x1b4)](process['cwd'](),_0x4177fe(0x1b8))[_0x4177fe(0x1d6)](/\\/g,'/'));return{'packageJson':_0x1d4990,'viteConfig':_0x3d9750};}function generateFiles(_0x21dede,_0x3ad146){const _0x4ee270=_0x4ccf57,_0x3e717e=path[_0x4ee270(0x1a0)](path[_0x4ee270(0x1b4)](process[_0x4ee270(0x1a6)](),_0x4ee270(0x1c9)),_0x21dede),_0x29b58c=path[_0x4ee270(0x1b4)](process[_0x4ee270(0x1a6)](),'out','windows',_0x3e717e);!fs[_0x4ee270(0x1ba)](_0x29b58c)&&fs[_0x4ee270(0x1a9)](_0x29b58c,{'recursive':!![]}),fs[_0x4ee270(0x1b9)](path[_0x4ee270(0x1b4)](_0x29b58c,_0x4ee270(0x1a4)),_0x3ad146[_0x4ee270(0x1b1)]),fs[_0x4ee270(0x1b9)](path[_0x4ee270(0x1b4)](_0x29b58c,'vite.config.js'),_0x3ad146[_0x4ee270(0x1ca)]),console[_0x4ee270(0x1da)]('✅\x20已生成文件到:\x20'+_0x29b58c);}async function buildWindow(_0x89f417){const _0x76c890=_0x4ccf57;console['log'](_0x76c890(0x1b0)+path[_0x76c890(0x1d1)](_0x89f417));const _0x306311=spawnSync(_0x76c890(0x1a5),[_0x76c890(0x1d9),_0x76c890(0x1aa)],{'cwd':_0x89f417,'stdio':_0x76c890(0x1b6),'shell':!![]});if(_0x306311[_0x76c890(0x19f)]!==0x0)throw new Error(_0x76c890(0x1d2)+path[_0x76c890(0x1d1)](_0x89f417));}async function buildWindowWeb(_0x1e46d1){const _0x2e4854=_0x4ccf57;console[_0x2e4854(0x1da)](_0x2e4854(0x1ce)+path['basename'](_0x1e46d1));const _0x438d9f=spawnSync(_0x2e4854(0x1a5),[_0x2e4854(0x1d9),_0x2e4854(0x1cf)],{'cwd':_0x1e46d1,'stdio':'inherit','shell':!![]});if(_0x438d9f[_0x2e4854(0x19f)]!==0x0)throw new Error(_0x2e4854(0x1d2)+path['basename'](_0x1e46d1));}function buildWeb(){const _0x352b9a=_0x4ccf57;console[_0x352b9a(0x1da)](_0x352b9a(0x1ae));const _0xef1fdb=JSON['parse'](fs[_0x352b9a(0x1c4)](path[_0x352b9a(0x1b4)](__dirname,'..','package.json'),_0x352b9a(0x1b3))),_0x50699f='v'+_0xef1fdb[_0x352b9a(0x19c)],_0x35058f=path[_0x352b9a(0x1b4)](__dirname,'..',_0x352b9a(0x1cb),'web',_0x50699f);console[_0x352b9a(0x1da)]('📂\x20创建\x20Web\x20构建目录:\x20'+_0x35058f);!fs[_0x352b9a(0x1ba)](_0x35058f)&&fs['mkdirSync'](_0x35058f,{'recursive':!![]});const _0x100ae8=path[_0x352b9a(0x1b4)](__dirname,'..',_0x352b9a(0x1b8),_0x352b9a(0x1c9)),_0xa17acb=path[_0x352b9a(0x1b4)](_0x100ae8,'web-dist');fs[_0x352b9a(0x1ba)](_0xa17acb)&&(!fs[_0x352b9a(0x1ba)](_0x35058f)&&fs[_0x352b9a(0x1a9)](_0x35058f,{'recursive':!![]}),_0x42bd27(_0xa17acb,_0x35058f),console[_0x352b9a(0x1da)]('✅\x20已复制窗口构建产物:\x20'+_0x35058f));function _0x176b23(_0x2dd1ee,_0x128501){const _0x58f4f5=_0x352b9a,_0x58f01f=fs[_0x58f4f5(0x1c6)](_0x2dd1ee);for(const _0x9ced5a of _0x58f01f){const _0x28d2c2=path[_0x58f4f5(0x1b4)](_0x2dd1ee,_0x9ced5a),_0x5951aa=fs[_0x58f4f5(0x1dc)](_0x28d2c2);if(_0x5951aa[_0x58f4f5(0x1c3)]()){if(_0x9ced5a[_0x58f4f5(0x1c8)]('-window')){const _0x1550bc=path[_0x58f4f5(0x1b4)](_0x28d2c2,_0x58f4f5(0x1d3));if(fs[_0x58f4f5(0x1ba)](_0x1550bc)){const _0x589616=path[_0x58f4f5(0x1b4)](_0x128501,_0x9ced5a);!fs['existsSync'](_0x589616)&&fs['mkdirSync'](_0x589616,{'recursive':!![]}),_0x42bd27(_0x1550bc,_0x589616),console[_0x58f4f5(0x1da)](_0x58f4f5(0x1c7)+_0x9ced5a);}}_0x176b23(_0x28d2c2,path[_0x58f4f5(0x1b4)](_0x128501,_0x9ced5a));}}}function _0x42bd27(_0x27059b,_0x3263ba){const _0x1f8673=_0x352b9a,_0x39aef9=fs[_0x1f8673(0x1c6)](_0x27059b);for(const _0x5f4bc4 of _0x39aef9){const _0x24821c=path['join'](_0x27059b,_0x5f4bc4),_0x5dd559=path[_0x1f8673(0x1b4)](_0x3263ba,_0x5f4bc4),_0x1e2b86=fs[_0x1f8673(0x1dc)](_0x24821c);_0x1e2b86[_0x1f8673(0x1c3)]()?(fs['mkdirSync'](_0x5dd559,{'recursive':!![]}),_0x42bd27(_0x24821c,_0x5dd559)):fs[_0x1f8673(0x1ac)](_0x24821c,_0x5dd559);}}_0x176b23(_0x100ae8,_0x35058f),console[_0x352b9a(0x1da)](_0x352b9a(0x1ad)+_0x35058f);}async function main(){const _0x2062e6=_0x4ccf57,_0x35647a=process[_0x2062e6(0x19d)][_0x2062e6(0x1db)](0x2),_0x17c5c7=_0x35647a[_0x2062e6(0x1d8)]('--build'),_0x42958b=_0x35647a[_0x2062e6(0x1d8)](_0x2062e6(0x1b5));if(_0x17c5c7)try{console[_0x2062e6(0x1da)]('🔍\x20开始扫描窗口目录...');const _0x321dd7=path[_0x2062e6(0x1b4)](process['cwd'](),_0x2062e6(0x1c9)),_0x5ba340=findWindowDirs(_0x321dd7);console['log'](_0x2062e6(0x1a3)+_0x5ba340[_0x2062e6(0x1cd)]+_0x2062e6(0x19b));for(const _0x18ffdb of _0x5ba340){console[_0x2062e6(0x1da)](_0x2062e6(0x1c5)+path[_0x2062e6(0x1d1)](_0x18ffdb));const _0x19cd15=processStaticFiles(_0x18ffdb),_0x593d99=path[_0x2062e6(0x1b4)](process[_0x2062e6(0x1a6)](),_0x2062e6(0x1b8),path[_0x2062e6(0x1a0)](process[_0x2062e6(0x1a6)](),_0x18ffdb));generateFiles(_0x18ffdb,_0x19cd15),await buildWindow(_0x593d99);}console['log'](_0x2062e6(0x1af));}catch(_0x4d8299){console[_0x2062e6(0x1d7)](_0x2062e6(0x1c1),_0x4d8299),process['exit'](0x1);}if(_0x42958b){try{console['log'](_0x2062e6(0x1ab));const _0x2e8d9d=path[_0x2062e6(0x1b4)](process[_0x2062e6(0x1a6)](),_0x2062e6(0x1c9)),_0x486434=findWindowDirs(_0x2e8d9d);console['log']('📂\x20找到\x20'+_0x486434[_0x2062e6(0x1cd)]+_0x2062e6(0x19b));for(const _0x85a1a3 of _0x486434){console[_0x2062e6(0x1da)](_0x2062e6(0x1c5)+path[_0x2062e6(0x1d1)](_0x85a1a3));const _0x20c053=processStaticFiles(_0x85a1a3),_0x2be941=path[_0x2062e6(0x1b4)](process[_0x2062e6(0x1a6)](),_0x2062e6(0x1b8),path[_0x2062e6(0x1a0)](process[_0x2062e6(0x1a6)](),_0x85a1a3));generateFiles(_0x85a1a3,_0x20c053),await buildWindowWeb(_0x2be941);}console[_0x2062e6(0x1da)](_0x2062e6(0x1af));}catch(_0x41e171){console[_0x2062e6(0x1d7)](_0x2062e6(0x1c1),_0x41e171),process[_0x2062e6(0x1d4)](0x1);}buildWeb();}!_0x17c5c7&&!_0x42958b&&(console[_0x2062e6(0x1d7)](_0x2062e6(0x1c0)),process['exit'](0x1));}function _0x2d3d(){const _0x53dd38=['existsSync','13928aoCFqo','13loidGS','602352SnJHXn','12vwyrZW','catch','❌\x20请指定构建模式','❌\x20错误:','5340377iURcPG','isDirectory','readFileSync','🔄\x20处理窗口:\x20','readdirSync','✅\x20已复制窗口构建产物:\x20','endsWith','windows','viteConfig','dist','code/static_file/vite.config.js','length','🏗️\x20开始构建窗口web:\x20','build:web','91258NYjuWo','basename','构建失败:\x20','web-dist','exit','15877048GNghgf','replace','error','includes','run','log','slice','statSync','\x20个窗口目录','version','argv','11808920fTRmHq','status','relative','1719PzoIht','path','📂\x20找到\x20','package.json','npm','cwd','child_process','6jmuRDD','mkdirSync','build','🔍\x20开始扫描窗口目录...','copyFileSync','✅\x20Web\x20构建完成，输出目录:\x20','🚀\x20开始\x20Web\x20构建...','✨\x20所有窗口构建完成','🏗️\x20开始构建窗口:\x20','packageJson','4506355rqzmYo','utf-8','join','--web','inherit','code/static_file/package.json','out','writeFileSync'];_0x2d3d=function(){return _0x53dd38;};return _0x2d3d();}main()[_0x4ccf57(0x1bf)](_0x4e4956=>{console['error']('❌\x20构建失败:',_0x4e4956),process['exit'](0x1);});