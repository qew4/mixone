const _0x5a33b6=_0x4313;(function(_0x4a67f6,_0x5be11e){const _0x316284=_0x4313,_0x2859ce=_0x4a67f6();while(!![]){try{const _0x2c0c1f=parseInt(_0x316284(0x1fe))/0x1*(parseInt(_0x316284(0x205))/0x2)+parseInt(_0x316284(0x1d5))/0x3*(parseInt(_0x316284(0x20b))/0x4)+-parseInt(_0x316284(0x1d2))/0x5*(-parseInt(_0x316284(0x20a))/0x6)+parseInt(_0x316284(0x208))/0x7*(parseInt(_0x316284(0x1df))/0x8)+parseInt(_0x316284(0x1f5))/0x9+-parseInt(_0x316284(0x216))/0xa*(-parseInt(_0x316284(0x1d9))/0xb)+parseInt(_0x316284(0x214))/0xc*(-parseInt(_0x316284(0x1f6))/0xd);if(_0x2c0c1f===_0x5be11e)break;else _0x2859ce['push'](_0x2859ce['shift']());}catch(_0x1ca84b){_0x2859ce['push'](_0x2859ce['shift']());}}}(_0x2802,0xa4b7b));const {spawnSync}=require(_0x5a33b6(0x1e3)),fs=require('fs'),path=require(_0x5a33b6(0x1ed));function findWindowDirs(_0x55bbb5){const _0x3e9271=[];function _0xa3e4c6(_0x136cf7){const _0x4c47c2=_0x4313;(_0x136cf7[_0x4c47c2(0x1dc)](_0x4c47c2(0x1f3))||path['basename'](_0x136cf7)===_0x4c47c2(0x1ff))&&_0x3e9271[_0x4c47c2(0x1d8)](_0x136cf7);const _0x304399=fs[_0x4c47c2(0x217)](_0x136cf7);_0x304399[_0x4c47c2(0x209)](_0x32cdb5=>{const _0xcb119f=_0x4c47c2,_0x4baf78=path[_0xcb119f(0x219)](_0x136cf7,_0x32cdb5);fs[_0xcb119f(0x1e6)](_0x4baf78)[_0xcb119f(0x1ef)]()&&_0xa3e4c6(_0x4baf78);});}return _0xa3e4c6(_0x55bbb5),_0x3e9271;}function processStaticFiles(_0x90f6a2){const _0x2b515a=_0x5a33b6,_0xb133c2=fs[_0x2b515a(0x1f9)](path['join'](__dirname,_0x2b515a(0x1e1)),'utf-8'),_0x27fa5f=fs[_0x2b515a(0x1f9)](path[_0x2b515a(0x219)](__dirname,_0x2b515a(0x20c)),_0x2b515a(0x1fc)),_0x1e3c88=JSON[_0x2b515a(0x202)](fs['readFileSync'](path[_0x2b515a(0x219)](process[_0x2b515a(0x1f0)](),_0x2b515a(0x1f2)),'utf-8')),_0x40e46b=path[_0x2b515a(0x1e0)](_0x90f6a2),_0x5a8336=_0xb133c2[_0x2b515a(0x206)](/____name____/g,_0x40e46b)[_0x2b515a(0x206)](/____version____/g,_0x1e3c88[_0x2b515a(0x20d)]),_0x1b9dda=_0x27fa5f[_0x2b515a(0x206)](/____outputDir____/g,path[_0x2b515a(0x219)](process[_0x2b515a(0x1f0)](),_0x2b515a(0x21a))[_0x2b515a(0x206)](/\\/g,'/'));return{'packageJson':_0x5a8336,'viteConfig':_0x1b9dda};}function generateFiles(_0x5111f8,_0x4197b4){const _0xcf5bcd=_0x5a33b6,_0x184412=path[_0xcf5bcd(0x1ea)](path[_0xcf5bcd(0x219)](process[_0xcf5bcd(0x1f0)](),_0xcf5bcd(0x1ff)),_0x5111f8),_0x3e86c3=path[_0xcf5bcd(0x219)](process['cwd'](),_0xcf5bcd(0x21a),_0xcf5bcd(0x1ff),_0x184412);!fs[_0xcf5bcd(0x1f7)](_0x3e86c3)&&fs[_0xcf5bcd(0x213)](_0x3e86c3,{'recursive':!![]}),fs[_0xcf5bcd(0x203)](path[_0xcf5bcd(0x219)](_0x3e86c3,_0xcf5bcd(0x1f2)),_0x4197b4[_0xcf5bcd(0x1da)]),fs[_0xcf5bcd(0x203)](path[_0xcf5bcd(0x219)](_0x3e86c3,_0xcf5bcd(0x211)),_0x4197b4[_0xcf5bcd(0x1fb)]),console[_0xcf5bcd(0x1e7)]('✅\x20已生成文件到:\x20'+_0x3e86c3);}async function buildWindow(_0x438b3d){const _0x30579e=_0x5a33b6;console[_0x30579e(0x1e7)](_0x30579e(0x1de)+path['basename'](_0x438b3d));const _0x28bb6b=spawnSync(_0x30579e(0x1d7),[_0x30579e(0x212),_0x30579e(0x1e2)],{'cwd':_0x438b3d,'stdio':'inherit','shell':!![]});if(_0x28bb6b[_0x30579e(0x1d4)]!==0x0)throw new Error(_0x30579e(0x1d1)+path['basename'](_0x438b3d));}function _0x2802(){const _0x19c53a=['322596xUEZAE','2808YTFTMO','existsSync','build:web','readFileSync','dist','viteConfig','utf-8','✅\x20Web\x20构建完成，输出目录:\x20','576243zsOrAI','windows','includes','error','parse','writeFileSync','❌\x20构建失败:','4nlJdmQ','replace','❌\x20错误:','104643eSfpia','forEach','12PNRNTd','1499956iUEESt','code/static_file/vite.config.js','version','length','🚀\x20开始\x20Web\x20构建...','copyFileSync','vite.config.js','run','mkdirSync','166836Yiawdp','web-dist','60sqIKry','readdirSync','inherit','join','out','构建失败:\x20','1348985owxpUt','🔄\x20处理窗口:\x20','status','6rDVCPt','--web','npm','push','911581QNtVkm','packageJson','exit','endsWith','\x20个窗口目录','🏗️\x20开始构建窗口:\x20','376EGERwy','basename','code/static_file/package.json','build','child_process','web','catch','statSync','log','❌\x20请指定构建模式','✨\x20所有窗口构建完成','relative','slice','--build','path','🔍\x20开始扫描窗口目录...','isDirectory','cwd','📂\x20找到\x20','package.json','-window','✅\x20已复制窗口构建产物:\x20'];_0x2802=function(){return _0x19c53a;};return _0x2802();}function _0x4313(_0xae8022,_0x4d1a11){const _0x280201=_0x2802();return _0x4313=function(_0x431340,_0x152f41){_0x431340=_0x431340-0x1d1;let _0xbfe920=_0x280201[_0x431340];return _0xbfe920;},_0x4313(_0xae8022,_0x4d1a11);}async function buildWindowWeb(_0x18ef4f){const _0x33e18f=_0x5a33b6;console[_0x33e18f(0x1e7)]('🏗️\x20开始构建窗口web:\x20'+path[_0x33e18f(0x1e0)](_0x18ef4f));const _0x351dd6=spawnSync(_0x33e18f(0x1d7),[_0x33e18f(0x212),_0x33e18f(0x1f8)],{'cwd':_0x18ef4f,'stdio':_0x33e18f(0x218),'shell':!![]});if(_0x351dd6[_0x33e18f(0x1d4)]!==0x0)throw new Error(_0x33e18f(0x1d1)+path[_0x33e18f(0x1e0)](_0x18ef4f));}function buildWeb(){const _0x288ef4=_0x5a33b6;console[_0x288ef4(0x1e7)](_0x288ef4(0x20f));const _0x4b23a8=JSON[_0x288ef4(0x202)](fs[_0x288ef4(0x1f9)](path[_0x288ef4(0x219)](__dirname,'..',_0x288ef4(0x1f2)),_0x288ef4(0x1fc))),_0x4541d4='v'+_0x4b23a8['version'],_0x1ea26a=path['join'](__dirname,'..',_0x288ef4(0x1fa),_0x288ef4(0x1e4),_0x4541d4);console[_0x288ef4(0x1e7)]('📂\x20创建\x20Web\x20构建目录:\x20'+_0x1ea26a);!fs[_0x288ef4(0x1f7)](_0x1ea26a)&&fs[_0x288ef4(0x213)](_0x1ea26a,{'recursive':!![]});const _0x1d80f3=path[_0x288ef4(0x219)](__dirname,'..',_0x288ef4(0x21a),_0x288ef4(0x1ff)),_0x3d91ff=path[_0x288ef4(0x219)](_0x1d80f3,_0x288ef4(0x215));fs[_0x288ef4(0x1f7)](_0x3d91ff)&&(!fs['existsSync'](_0x1ea26a)&&fs[_0x288ef4(0x213)](_0x1ea26a,{'recursive':!![]}),_0x1656f5(_0x3d91ff,_0x1ea26a),console['log'](_0x288ef4(0x1f4)+_0x1ea26a));function _0x1d720e(_0x23baf6,_0x3734e0){const _0x40cbdb=_0x288ef4,_0x6abf6d=fs[_0x40cbdb(0x217)](_0x23baf6);for(const _0x595fed of _0x6abf6d){const _0x124db5=path['join'](_0x23baf6,_0x595fed),_0x48c866=fs['statSync'](_0x124db5);if(_0x48c866[_0x40cbdb(0x1ef)]()){if(_0x595fed[_0x40cbdb(0x1dc)](_0x40cbdb(0x1f3))){const _0x4e3523=path[_0x40cbdb(0x219)](_0x124db5,_0x40cbdb(0x215));if(fs[_0x40cbdb(0x1f7)](_0x4e3523)){const _0x580c86=path[_0x40cbdb(0x219)](_0x3734e0,_0x595fed);!fs[_0x40cbdb(0x1f7)](_0x580c86)&&fs[_0x40cbdb(0x213)](_0x580c86,{'recursive':!![]}),_0x1656f5(_0x4e3523,_0x580c86),console[_0x40cbdb(0x1e7)](_0x40cbdb(0x1f4)+_0x595fed);}}_0x1d720e(_0x124db5,path[_0x40cbdb(0x219)](_0x3734e0,_0x595fed));}}}function _0x1656f5(_0xab4162,_0x2e4601){const _0x5bd956=_0x288ef4,_0x370c61=fs[_0x5bd956(0x217)](_0xab4162);for(const _0x41cebf of _0x370c61){const _0xab494d=path['join'](_0xab4162,_0x41cebf),_0x3b99f4=path['join'](_0x2e4601,_0x41cebf),_0x426f2b=fs[_0x5bd956(0x1e6)](_0xab494d);_0x426f2b[_0x5bd956(0x1ef)]()?(fs[_0x5bd956(0x213)](_0x3b99f4,{'recursive':!![]}),_0x1656f5(_0xab494d,_0x3b99f4)):fs[_0x5bd956(0x210)](_0xab494d,_0x3b99f4);}}_0x1d720e(_0x1d80f3,_0x1ea26a),console['log'](_0x288ef4(0x1fd)+_0x1ea26a);}async function main(){const _0x5b4ef5=_0x5a33b6,_0x506c76=process['argv'][_0x5b4ef5(0x1eb)](0x2),_0x3f6edd=_0x506c76[_0x5b4ef5(0x200)](_0x5b4ef5(0x1ec)),_0x392fb5=_0x506c76[_0x5b4ef5(0x200)](_0x5b4ef5(0x1d6));if(_0x3f6edd)try{console[_0x5b4ef5(0x1e7)](_0x5b4ef5(0x1ee));const _0x48f614=path[_0x5b4ef5(0x219)](process['cwd'](),_0x5b4ef5(0x1ff)),_0x4ce783=findWindowDirs(_0x48f614);console[_0x5b4ef5(0x1e7)]('📂\x20找到\x20'+_0x4ce783[_0x5b4ef5(0x20e)]+_0x5b4ef5(0x1dd));for(const _0x4b9056 of _0x4ce783){console[_0x5b4ef5(0x1e7)](_0x5b4ef5(0x1d3)+path['basename'](_0x4b9056));const _0x333614=processStaticFiles(_0x4b9056),_0x20410f=path[_0x5b4ef5(0x219)](process['cwd'](),_0x5b4ef5(0x21a),path[_0x5b4ef5(0x1ea)](process[_0x5b4ef5(0x1f0)](),_0x4b9056));generateFiles(_0x4b9056,_0x333614),await buildWindow(_0x20410f);}console[_0x5b4ef5(0x1e7)](_0x5b4ef5(0x1e9));}catch(_0x39cfc5){console['error'](_0x5b4ef5(0x207),_0x39cfc5),process[_0x5b4ef5(0x1db)](0x1);}if(_0x392fb5){try{console['log'](_0x5b4ef5(0x1ee));const _0x3128f4=path['join'](process[_0x5b4ef5(0x1f0)](),_0x5b4ef5(0x1ff)),_0x2425df=findWindowDirs(_0x3128f4);console[_0x5b4ef5(0x1e7)](_0x5b4ef5(0x1f1)+_0x2425df[_0x5b4ef5(0x20e)]+_0x5b4ef5(0x1dd));for(const _0x283c03 of _0x2425df){console[_0x5b4ef5(0x1e7)](_0x5b4ef5(0x1d3)+path[_0x5b4ef5(0x1e0)](_0x283c03));const _0x132e71=processStaticFiles(_0x283c03),_0x40c413=path[_0x5b4ef5(0x219)](process['cwd'](),'out',path[_0x5b4ef5(0x1ea)](process[_0x5b4ef5(0x1f0)](),_0x283c03));generateFiles(_0x283c03,_0x132e71),await buildWindowWeb(_0x40c413);}console['log']('✨\x20所有窗口构建完成');}catch(_0x596cf5){console[_0x5b4ef5(0x201)]('❌\x20错误:',_0x596cf5),process['exit'](0x1);}buildWeb();}!_0x3f6edd&&!_0x392fb5&&(console[_0x5b4ef5(0x201)](_0x5b4ef5(0x1e8)),process[_0x5b4ef5(0x1db)](0x1));}main()[_0x5a33b6(0x1e5)](_0x1fd07b=>{const _0x482145=_0x5a33b6;console[_0x482145(0x201)](_0x482145(0x204),_0x1fd07b),process[_0x482145(0x1db)](0x1);});