const _0x395817=_0x3117;(function(_0x3fdef0,_0x714378){const _0x4d505c=_0x3117,_0x3380ea=_0x3fdef0();while(!![]){try{const _0x291975=parseInt(_0x4d505c(0x10f))/0x1+parseInt(_0x4d505c(0x123))/0x2*(-parseInt(_0x4d505c(0xff))/0x3)+-parseInt(_0x4d505c(0x12c))/0x4*(parseInt(_0x4d505c(0x129))/0x5)+parseInt(_0x4d505c(0x117))/0x6*(parseInt(_0x4d505c(0x101))/0x7)+parseInt(_0x4d505c(0x121))/0x8*(-parseInt(_0x4d505c(0x12d))/0x9)+parseInt(_0x4d505c(0x120))/0xa*(parseInt(_0x4d505c(0x119))/0xb)+parseInt(_0x4d505c(0x136))/0xc*(parseInt(_0x4d505c(0x104))/0xd);if(_0x291975===_0x714378)break;else _0x3380ea['push'](_0x3380ea['shift']());}catch(_0x1c1ffa){_0x3380ea['push'](_0x3380ea['shift']());}}}(_0x8d51,0x5d37f));function _0x8d51(){const _0x18769e=['🏗️\x20开始构建窗口web:\x20','✅\x20Web\x20构建完成，输出目录:\x20','windows','60pNYKqM','✅\x20已生成文件到:\x20','child_process','212016EomCUl','18nrnpce','readFileSync','join','\x20个窗口目录','❌\x20错误:','code/static_file/package.json','--build','run','✅\x20已复制窗口构建产物:\x20','1896cTZjIg','package.json','cwd','📂\x20创建\x20Web\x20构建目录:\x20','length','📂\x20找到\x20','✨\x20所有窗口构建完成','writeFileSync','basename','❌\x20请指定构建模式','version','readdirSync','viteConfig','parse','-window','forEach','catch','path','174duBqeq','argv','119ArgRLa','🏗️\x20开始构建窗口:\x20','out','69238rQXQMa','endsWith','🔄\x20处理窗口:\x20','replace','slice','isDirectory','utf-8','构建失败:\x20','push','build:web','statSync','172967DygdWX','exit','npm','code/static_file/vite.config.js','includes','❌\x20构建失败:','web-dist','error','210534FQarZP','copyFileSync','11SYQsvg','--web','mkdirSync','relative','vite.config.js','🔍\x20开始扫描窗口目录...','web','6519470eAPbRi','3022408lKoTFc','inherit','16878QGMBEm','existsSync','log'];_0x8d51=function(){return _0x18769e;};return _0x8d51();}const {spawnSync}=require(_0x395817(0x12b)),fs=require('fs'),path=require(_0x395817(0xfe));function findWindowDirs(_0x1e26cb){const _0x1123f4=[];function _0x29b91c(_0x2be664){const _0x56d115=_0x3117;(_0x2be664[_0x56d115(0x105)](_0x56d115(0xfb))||path[_0x56d115(0x13e)](_0x2be664)===_0x56d115(0x128))&&_0x1123f4[_0x56d115(0x10c)](_0x2be664);const _0x19809c=fs['readdirSync'](_0x2be664);_0x19809c[_0x56d115(0xfc)](_0x351858=>{const _0x1862e6=_0x56d115,_0x8ecf2e=path[_0x1862e6(0x12f)](_0x2be664,_0x351858);fs['statSync'](_0x8ecf2e)[_0x1862e6(0x109)]()&&_0x29b91c(_0x8ecf2e);});}return _0x29b91c(_0x1e26cb),_0x1123f4;}function _0x3117(_0x1759f3,_0x274cdf){const _0x8d5182=_0x8d51();return _0x3117=function(_0x311737,_0x1d5181){_0x311737=_0x311737-0xf9;let _0x2d77ee=_0x8d5182[_0x311737];return _0x2d77ee;},_0x3117(_0x1759f3,_0x274cdf);}function processStaticFiles(_0x5958c9){const _0x5b5e66=_0x395817,_0x2bde80=fs['readFileSync'](path[_0x5b5e66(0x12f)](__dirname,_0x5b5e66(0x132)),_0x5b5e66(0x10a)),_0x2be4cc=fs[_0x5b5e66(0x12e)](path['join'](__dirname,_0x5b5e66(0x112)),_0x5b5e66(0x10a)),_0x4a1b27=JSON[_0x5b5e66(0xfa)](fs[_0x5b5e66(0x12e)](path['join'](process['cwd'](),_0x5b5e66(0x137)),_0x5b5e66(0x10a))),_0x33c1f6=path['basename'](_0x5958c9),_0x5b52d7=_0x2bde80[_0x5b5e66(0x107)](/____name____/g,_0x33c1f6)[_0x5b5e66(0x107)](/____version____/g,_0x4a1b27[_0x5b5e66(0x140)]),_0x3935d6=_0x2be4cc[_0x5b5e66(0x107)](/____outputDir____/g,path[_0x5b5e66(0x12f)](process[_0x5b5e66(0x138)](),_0x5b5e66(0x103))['replace'](/\\/g,'/'));return{'packageJson':_0x5b52d7,'viteConfig':_0x3935d6};}function generateFiles(_0x4abf72,_0x8ce2ac){const _0x592a56=_0x395817,_0x253783=path[_0x592a56(0x11c)](path[_0x592a56(0x12f)](process[_0x592a56(0x138)](),_0x592a56(0x128)),_0x4abf72),_0x1046d2=path[_0x592a56(0x12f)](process[_0x592a56(0x138)](),_0x592a56(0x103),_0x592a56(0x128),_0x253783);!fs['existsSync'](_0x1046d2)&&fs['mkdirSync'](_0x1046d2,{'recursive':!![]}),fs[_0x592a56(0x13d)](path[_0x592a56(0x12f)](_0x1046d2,_0x592a56(0x137)),_0x8ce2ac['packageJson']),fs['writeFileSync'](path[_0x592a56(0x12f)](_0x1046d2,_0x592a56(0x11d)),_0x8ce2ac[_0x592a56(0xf9)]),console[_0x592a56(0x125)](_0x592a56(0x12a)+_0x1046d2);}async function buildWindow(_0x15102a){const _0x31602e=_0x395817;console[_0x31602e(0x125)](_0x31602e(0x102)+path[_0x31602e(0x13e)](_0x15102a));const _0x2af339=spawnSync(_0x31602e(0x111),[_0x31602e(0x134),'build'],{'cwd':_0x15102a,'stdio':'inherit','shell':!![]});if(_0x2af339['status']!==0x0)throw new Error(_0x31602e(0x10b)+path[_0x31602e(0x13e)](_0x15102a));}async function buildWindowWeb(_0x5d6992){const _0x51a6f5=_0x395817;console[_0x51a6f5(0x125)](_0x51a6f5(0x126)+path[_0x51a6f5(0x13e)](_0x5d6992));const _0x1b8297=spawnSync(_0x51a6f5(0x111),[_0x51a6f5(0x134),_0x51a6f5(0x10d)],{'cwd':_0x5d6992,'stdio':_0x51a6f5(0x122),'shell':!![]});if(_0x1b8297['status']!==0x0)throw new Error('构建失败:\x20'+path['basename'](_0x5d6992));}function buildWeb(){const _0x4782a4=_0x395817;console[_0x4782a4(0x125)]('🚀\x20开始\x20Web\x20构建...');const _0x389b6e=JSON[_0x4782a4(0xfa)](fs[_0x4782a4(0x12e)](path['join'](__dirname,'..',_0x4782a4(0x137)),_0x4782a4(0x10a))),_0x4e1b10='v'+_0x389b6e[_0x4782a4(0x140)],_0xa08624=path[_0x4782a4(0x12f)](__dirname,'..','dist',_0x4782a4(0x11f),_0x4e1b10);console[_0x4782a4(0x125)](_0x4782a4(0x139)+_0xa08624);!fs['existsSync'](_0xa08624)&&fs['mkdirSync'](_0xa08624,{'recursive':!![]});const _0x1dc3af=path['join'](__dirname,'..',_0x4782a4(0x103),_0x4782a4(0x128)),_0x3e2823=path[_0x4782a4(0x12f)](_0x1dc3af,_0x4782a4(0x115));fs['existsSync'](_0x3e2823)&&(!fs[_0x4782a4(0x124)](_0xa08624)&&fs['mkdirSync'](_0xa08624,{'recursive':!![]}),_0x1f1d3e(_0x3e2823,_0xa08624),console[_0x4782a4(0x125)](_0x4782a4(0x135)+_0xa08624));function _0x5896b2(_0x368152,_0x2f1c16){const _0xc22fa7=_0x4782a4,_0x7e3ae7=fs[_0xc22fa7(0x141)](_0x368152);for(const _0x90d4af of _0x7e3ae7){const _0x4a3561=path['join'](_0x368152,_0x90d4af),_0x3f06e7=fs[_0xc22fa7(0x10e)](_0x4a3561);if(_0x3f06e7[_0xc22fa7(0x109)]()){if(_0x90d4af[_0xc22fa7(0x105)](_0xc22fa7(0xfb))){const _0x18c795=path[_0xc22fa7(0x12f)](_0x4a3561,_0xc22fa7(0x115));if(fs['existsSync'](_0x18c795)){const _0x4e2bd2=path[_0xc22fa7(0x12f)](_0x2f1c16,_0x90d4af);!fs[_0xc22fa7(0x124)](_0x4e2bd2)&&fs[_0xc22fa7(0x11b)](_0x4e2bd2,{'recursive':!![]}),_0x1f1d3e(_0x18c795,_0x4e2bd2),console[_0xc22fa7(0x125)](_0xc22fa7(0x135)+_0x90d4af);}}_0x5896b2(_0x4a3561,path['join'](_0x2f1c16,_0x90d4af));}}}function _0x1f1d3e(_0x4cec03,_0x5d2fb8){const _0x13d510=_0x4782a4,_0x18d796=fs['readdirSync'](_0x4cec03);for(const _0x5d012d of _0x18d796){const _0x236c53=path[_0x13d510(0x12f)](_0x4cec03,_0x5d012d),_0x1d8cdc=path['join'](_0x5d2fb8,_0x5d012d),_0x3ea344=fs[_0x13d510(0x10e)](_0x236c53);_0x3ea344['isDirectory']()?(fs['mkdirSync'](_0x1d8cdc,{'recursive':!![]}),_0x1f1d3e(_0x236c53,_0x1d8cdc)):fs[_0x13d510(0x118)](_0x236c53,_0x1d8cdc);}}_0x5896b2(_0x1dc3af,_0xa08624),console[_0x4782a4(0x125)](_0x4782a4(0x127)+_0xa08624);}async function main(){const _0xda5d96=_0x395817,_0x5a6ebb=process[_0xda5d96(0x100)][_0xda5d96(0x108)](0x2),_0xcebdf2=_0x5a6ebb['includes'](_0xda5d96(0x133)),_0x100a0f=_0x5a6ebb[_0xda5d96(0x113)](_0xda5d96(0x11a));if(_0xcebdf2)try{console['log'](_0xda5d96(0x11e));const _0x534002=path['join'](process[_0xda5d96(0x138)](),_0xda5d96(0x128)),_0x362d5b=findWindowDirs(_0x534002);console[_0xda5d96(0x125)](_0xda5d96(0x13b)+_0x362d5b[_0xda5d96(0x13a)]+_0xda5d96(0x130));for(const _0x362165 of _0x362d5b){console[_0xda5d96(0x125)](_0xda5d96(0x106)+path[_0xda5d96(0x13e)](_0x362165));const _0x4b2c9b=processStaticFiles(_0x362165),_0x266b19=path[_0xda5d96(0x12f)](process[_0xda5d96(0x138)](),_0xda5d96(0x103),path['relative'](process['cwd'](),_0x362165));generateFiles(_0x362165,_0x4b2c9b),await buildWindow(_0x266b19);}console[_0xda5d96(0x125)](_0xda5d96(0x13c));}catch(_0x21f794){console[_0xda5d96(0x116)]('❌\x20错误:',_0x21f794),process[_0xda5d96(0x110)](0x1);}if(_0x100a0f){try{console['log'](_0xda5d96(0x11e));const _0x372411=path[_0xda5d96(0x12f)](process['cwd'](),_0xda5d96(0x128)),_0x25b821=findWindowDirs(_0x372411);console['log'](_0xda5d96(0x13b)+_0x25b821['length']+_0xda5d96(0x130));for(const _0x12896d of _0x25b821){console['log'](_0xda5d96(0x106)+path[_0xda5d96(0x13e)](_0x12896d));const _0xfca9b2=processStaticFiles(_0x12896d),_0x44c978=path[_0xda5d96(0x12f)](process[_0xda5d96(0x138)](),_0xda5d96(0x103),path[_0xda5d96(0x11c)](process[_0xda5d96(0x138)](),_0x12896d));generateFiles(_0x12896d,_0xfca9b2),await buildWindowWeb(_0x44c978);}console[_0xda5d96(0x125)]('✨\x20所有窗口构建完成');}catch(_0x5ad0a6){console[_0xda5d96(0x116)](_0xda5d96(0x131),_0x5ad0a6),process[_0xda5d96(0x110)](0x1);}buildWeb();}!_0xcebdf2&&!_0x100a0f&&(console[_0xda5d96(0x116)](_0xda5d96(0x13f)),process[_0xda5d96(0x110)](0x1));}main()[_0x395817(0xfd)](_0x3276ce=>{const _0x34c420=_0x395817;console[_0x34c420(0x116)](_0x34c420(0x114),_0x3276ce),process[_0x34c420(0x110)](0x1);});