const _0x455635=_0x563a;(function(_0x44ba26,_0x30426f){const _0x10a045=_0x563a,_0x4ce2e5=_0x44ba26();while(!![]){try{const _0xc76659=parseInt(_0x10a045(0x93))/0x1+-parseInt(_0x10a045(0xa4))/0x2+-parseInt(_0x10a045(0x83))/0x3+-parseInt(_0x10a045(0xb8))/0x4*(-parseInt(_0x10a045(0xa6))/0x5)+parseInt(_0x10a045(0x9d))/0x6+parseInt(_0x10a045(0x8a))/0x7*(-parseInt(_0x10a045(0xc1))/0x8)+parseInt(_0x10a045(0x81))/0x9;if(_0xc76659===_0x30426f)break;else _0x4ce2e5['push'](_0x4ce2e5['shift']());}catch(_0x4da48b){_0x4ce2e5['push'](_0x4ce2e5['shift']());}}}(_0x41ea,0x321c0));const {spawnSync}=require(_0x455635(0x8b)),fs=require('fs'),path=require(_0x455635(0x9b));function findWindowDirs(_0x5d610a){const _0x353851=[];function _0x221907(_0x849f5d){const _0x2d4c3c=_0x563a;(_0x849f5d[_0x2d4c3c(0xaa)]('-window')||path['basename'](_0x849f5d)===_0x2d4c3c(0xbe))&&_0x353851['push'](_0x849f5d);const _0x2a92b0=fs[_0x2d4c3c(0xb9)](_0x849f5d);_0x2a92b0[_0x2d4c3c(0x98)](_0x41c721=>{const _0x2f0be5=_0x2d4c3c,_0x5bca51=path[_0x2f0be5(0x92)](_0x849f5d,_0x41c721);fs[_0x2f0be5(0xa0)](_0x5bca51)[_0x2f0be5(0xc4)]()&&_0x221907(_0x5bca51);});}return _0x221907(_0x5d610a),_0x353851;}function _0x563a(_0x9f2618,_0x58571c){const _0x41ea0b=_0x41ea();return _0x563a=function(_0x563a53,_0x2dd8e1){_0x563a53=_0x563a53-0x81;let _0x1dc61d=_0x41ea0b[_0x563a53];return _0x1dc61d;},_0x563a(_0x9f2618,_0x58571c);}function processStaticFiles(_0x2c37d8){const _0x18635f=_0x455635,_0x186431=fs[_0x18635f(0x85)](path[_0x18635f(0x92)](__dirname,'code/static_file/package.json'),_0x18635f(0xbc)),_0x3c0699=fs[_0x18635f(0x85)](path[_0x18635f(0x92)](__dirname,_0x18635f(0xc3)),_0x18635f(0xbc)),_0x5eab0b=JSON[_0x18635f(0x84)](fs[_0x18635f(0x85)](path[_0x18635f(0x92)](process[_0x18635f(0xa2)](),'package.json'),_0x18635f(0xbc))),_0x5a82a1=path[_0x18635f(0xa8)](_0x2c37d8),_0x110f64=_0x186431['replace'](/____name____/g,_0x5a82a1)[_0x18635f(0xc0)](/____version____/g,_0x5eab0b[_0x18635f(0x94)]),_0x39f011=_0x3c0699['replace'](/____outputDir____/g,path[_0x18635f(0x92)](process['cwd'](),_0x18635f(0xc2))[_0x18635f(0xc0)](/\\/g,'/'));return{'packageJson':_0x110f64,'viteConfig':_0x39f011};}function generateFiles(_0x416fe9,_0x3437c8){const _0x19d49a=_0x455635,_0x184405=path['relative'](path[_0x19d49a(0x92)](process[_0x19d49a(0xa2)](),_0x19d49a(0xbe)),_0x416fe9),_0x33214e=path['join'](process[_0x19d49a(0xa2)](),_0x19d49a(0xc2),_0x19d49a(0xbe),_0x184405);!fs['existsSync'](_0x33214e)&&fs[_0x19d49a(0xb0)](_0x33214e,{'recursive':!![]}),fs['writeFileSync'](path['join'](_0x33214e,_0x19d49a(0xab)),_0x3437c8[_0x19d49a(0x99)]),fs['writeFileSync'](path[_0x19d49a(0x92)](_0x33214e,_0x19d49a(0xa7)),_0x3437c8['viteConfig']),console[_0x19d49a(0x9c)](_0x19d49a(0xae)+_0x33214e);}function _0x41ea(){const _0x4ab9dc=['150616cVtUzB','📂\x20找到\x20','1460pIuyJj','vite.config.js','basename','length','endsWith','package.json','🏗️\x20开始构建窗口web:\x20','🚀\x20开始\x20Web\x20构建...','✅\x20已生成文件到:\x20','build:web','mkdirSync','✅\x20已复制窗口构建产物:\x20','npm','❌\x20请指定构建模式','error','📂\x20创建\x20Web\x20构建目录:\x20','web','--build','3092ElmvwV','readdirSync','inherit','dist','utf-8','✨\x20所有窗口构建完成','windows','🏗️\x20开始构建窗口:\x20','replace','540856UvTils','out','code/static_file/vite.config.js','isDirectory','5808501XBPcLS','🔍\x20开始扫描窗口目录...','1100037JoUhBV','parse','readFileSync','❌\x20构建失败:','web-dist','relative','\x20个窗口目录','42glWDYF','child_process','includes','--web','exit','run','argv','slice','join','42464Kziqvy','version','catch','🔄\x20处理窗口:\x20','copyFileSync','forEach','packageJson','构建失败:\x20','path','log','835848zFbGZb','existsSync','❌\x20错误:','statSync','status','cwd','✅\x20Web\x20构建完成，输出目录:\x20'];_0x41ea=function(){return _0x4ab9dc;};return _0x41ea();}async function buildWindow(_0x7ffb8c){const _0x1893e1=_0x455635;console['log'](_0x1893e1(0xbf)+path[_0x1893e1(0xa8)](_0x7ffb8c));const _0x5443e1=spawnSync(_0x1893e1(0xb2),[_0x1893e1(0x8f),'build'],{'cwd':_0x7ffb8c,'stdio':'inherit','shell':!![]});if(_0x5443e1[_0x1893e1(0xa1)]!==0x0)throw new Error(_0x1893e1(0x9a)+path[_0x1893e1(0xa8)](_0x7ffb8c));}async function buildWindowWeb(_0x2c4af0){const _0x41e55f=_0x455635;console['log'](_0x41e55f(0xac)+path[_0x41e55f(0xa8)](_0x2c4af0));const _0x4973d6=spawnSync('npm',['run',_0x41e55f(0xaf)],{'cwd':_0x2c4af0,'stdio':_0x41e55f(0xba),'shell':!![]});if(_0x4973d6[_0x41e55f(0xa1)]!==0x0)throw new Error(_0x41e55f(0x9a)+path[_0x41e55f(0xa8)](_0x2c4af0));}function buildWeb(){const _0x1d1674=_0x455635;console[_0x1d1674(0x9c)](_0x1d1674(0xad));const _0x548057=JSON['parse'](fs[_0x1d1674(0x85)](path['join'](__dirname,'..',_0x1d1674(0xab)),'utf-8')),_0x30495b='v'+_0x548057[_0x1d1674(0x94)],_0x1d30a9=path[_0x1d1674(0x92)](__dirname,'..',_0x1d1674(0xbb),_0x1d1674(0xb6),_0x30495b);console[_0x1d1674(0x9c)](_0x1d1674(0xb5)+_0x1d30a9);!fs['existsSync'](_0x1d30a9)&&fs[_0x1d1674(0xb0)](_0x1d30a9,{'recursive':!![]});const _0x150dfb=path[_0x1d1674(0x92)](__dirname,'..',_0x1d1674(0xc2),'windows'),_0x317696=path[_0x1d1674(0x92)](_0x150dfb,_0x1d1674(0x87));fs[_0x1d1674(0x9e)](_0x317696)&&(!fs['existsSync'](_0x1d30a9)&&fs[_0x1d1674(0xb0)](_0x1d30a9,{'recursive':!![]}),_0x1a5adf(_0x317696,_0x1d30a9),console[_0x1d1674(0x9c)]('✅\x20已复制窗口构建产物:\x20'+_0x1d30a9));function _0x32d051(_0x5cd476,_0x4c01ec){const _0x363865=_0x1d1674,_0xe5305d=fs[_0x363865(0xb9)](_0x5cd476);for(const _0x336da8 of _0xe5305d){const _0x5c4639=path[_0x363865(0x92)](_0x5cd476,_0x336da8),_0x38c23a=fs[_0x363865(0xa0)](_0x5c4639);if(_0x38c23a[_0x363865(0xc4)]()){if(_0x336da8[_0x363865(0xaa)]('-window')){const _0x2ebe71=path[_0x363865(0x92)](_0x5c4639,_0x363865(0x87));if(fs[_0x363865(0x9e)](_0x2ebe71)){const _0x30c0ac=path['join'](_0x4c01ec,_0x336da8);!fs[_0x363865(0x9e)](_0x30c0ac)&&fs[_0x363865(0xb0)](_0x30c0ac,{'recursive':!![]}),_0x1a5adf(_0x2ebe71,_0x30c0ac),console[_0x363865(0x9c)](_0x363865(0xb1)+_0x336da8);}}_0x32d051(_0x5c4639,path['join'](_0x4c01ec,_0x336da8));}}}function _0x1a5adf(_0x245182,_0x4e4ccf){const _0x512852=_0x1d1674,_0x5059a9=fs[_0x512852(0xb9)](_0x245182);for(const _0x489f05 of _0x5059a9){const _0x250f81=path[_0x512852(0x92)](_0x245182,_0x489f05),_0x175539=path[_0x512852(0x92)](_0x4e4ccf,_0x489f05),_0x495f88=fs[_0x512852(0xa0)](_0x250f81);_0x495f88[_0x512852(0xc4)]()?(fs[_0x512852(0xb0)](_0x175539,{'recursive':!![]}),_0x1a5adf(_0x250f81,_0x175539)):fs[_0x512852(0x97)](_0x250f81,_0x175539);}}_0x32d051(_0x150dfb,_0x1d30a9),console[_0x1d1674(0x9c)](_0x1d1674(0xa3)+_0x1d30a9);}async function main(){const _0x5568d1=_0x455635,_0x392443=process[_0x5568d1(0x90)][_0x5568d1(0x91)](0x2),_0x27de6c=_0x392443[_0x5568d1(0x8c)](_0x5568d1(0xb7)),_0x4638ad=_0x392443[_0x5568d1(0x8c)](_0x5568d1(0x8d));if(_0x27de6c)try{console[_0x5568d1(0x9c)](_0x5568d1(0x82));const _0x4aa447=path[_0x5568d1(0x92)](process[_0x5568d1(0xa2)](),_0x5568d1(0xbe)),_0x37354b=findWindowDirs(_0x4aa447);console[_0x5568d1(0x9c)](_0x5568d1(0xa5)+_0x37354b[_0x5568d1(0xa9)]+_0x5568d1(0x89));for(const _0x1b70bf of _0x37354b){console['log'](_0x5568d1(0x96)+path[_0x5568d1(0xa8)](_0x1b70bf));const _0x49347b=processStaticFiles(_0x1b70bf),_0x416915=path[_0x5568d1(0x92)](process[_0x5568d1(0xa2)](),_0x5568d1(0xc2),path[_0x5568d1(0x88)](process['cwd'](),_0x1b70bf));generateFiles(_0x1b70bf,_0x49347b),await buildWindow(_0x416915);}console[_0x5568d1(0x9c)](_0x5568d1(0xbd));}catch(_0x41a068){console[_0x5568d1(0xb4)](_0x5568d1(0x9f),_0x41a068),process[_0x5568d1(0x8e)](0x1);}if(_0x4638ad){try{console['log']('🔍\x20开始扫描窗口目录...');const _0x5c074f=path['join'](process['cwd'](),_0x5568d1(0xbe)),_0x2204ea=findWindowDirs(_0x5c074f);console[_0x5568d1(0x9c)]('📂\x20找到\x20'+_0x2204ea[_0x5568d1(0xa9)]+'\x20个窗口目录');for(const _0x2dac55 of _0x2204ea){console['log'](_0x5568d1(0x96)+path[_0x5568d1(0xa8)](_0x2dac55));const _0x2e7955=processStaticFiles(_0x2dac55),_0x53bf8f=path[_0x5568d1(0x92)](process[_0x5568d1(0xa2)](),'out',path['relative'](process[_0x5568d1(0xa2)](),_0x2dac55));generateFiles(_0x2dac55,_0x2e7955),await buildWindowWeb(_0x53bf8f);}console[_0x5568d1(0x9c)](_0x5568d1(0xbd));}catch(_0x282525){console[_0x5568d1(0xb4)](_0x5568d1(0x9f),_0x282525),process[_0x5568d1(0x8e)](0x1);}buildWeb();}!_0x27de6c&&!_0x4638ad&&(console['error'](_0x5568d1(0xb3)),process[_0x5568d1(0x8e)](0x1));}main()[_0x455635(0x95)](_0x1cbd13=>{const _0x3cefbf=_0x455635;console[_0x3cefbf(0xb4)](_0x3cefbf(0x86),_0x1cbd13),process['exit'](0x1);});