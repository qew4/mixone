const _0x2353d5=_0x58ec;(function(_0x4aa9ac,_0x22a8cc){const _0x44720a=_0x58ec,_0x56aba6=_0x4aa9ac();while(!![]){try{const _0x124f6e=-parseInt(_0x44720a(0x1a0))/0x1*(-parseInt(_0x44720a(0x28a))/0x2)+-parseInt(_0x44720a(0x203))/0x3+-parseInt(_0x44720a(0x1c3))/0x4*(parseInt(_0x44720a(0x229))/0x5)+parseInt(_0x44720a(0x1b8))/0x6+parseInt(_0x44720a(0x187))/0x7*(-parseInt(_0x44720a(0x1af))/0x8)+-parseInt(_0x44720a(0x1ac))/0x9+parseInt(_0x44720a(0x247))/0xa;if(_0x124f6e===_0x22a8cc)break;else _0x56aba6['push'](_0x56aba6['shift']());}catch(_0x44835d){_0x56aba6['push'](_0x56aba6['shift']());}}}(_0x4abf,0xf3906));const fs=require('fs'),path=require(_0x2353d5(0x283)),chokidar=require(_0x2353d5(0x268)),watchManager=require(_0x2353d5(0x18d)),crypto=require(_0x2353d5(0x27a)),parser=require(_0x2353d5(0x1e0)),traverse=require('@babel/traverse')[_0x2353d5(0x1ab)],generate=require(_0x2353d5(0x200))[_0x2353d5(0x1ab)],t=require(_0x2353d5(0x236)),{setupCompileWatcher}=require(_0x2353d5(0x249)),{transformCode,analyseCompleteUseNode,transformVueScript}=require(_0x2353d5(0x21b)),{updateFnFile}=require('./utils/fn-updater'),{copyStaticFilesToWindowDirs,checkWindowDirStaticFiles,copyScriptsToOutputRoot}=require(_0x2353d5(0x1ba)),{processPackageJson}=require(_0x2353d5(0x270)),{processMainProcessFile}=require(_0x2353d5(0x1df)),{checkWindowPreloadAndCopy,writeDefaultPreloadFileWhenDeleted}=require(_0x2353d5(0x24f)),{obfuscatorJS}=require(_0x2353d5(0x206));let compileLogs=[],isCollectingLogs=![];const originalConsole={'log':console[_0x2353d5(0x1d7)],'info':console[_0x2353d5(0x209)],'warn':console['warn'],'error':console['error']},CONFIG={'logToConsole':![]};function setupLogCollector(){const _0x1a544d=_0x2353d5;if(!isFullCompile)return;isCollectingLogs=!![],compileLogs=[],console[_0x1a544d(0x1d7)]=(..._0x49ad78)=>{const _0x1f8730=_0x1a544d,_0x119e71=_0x1f8730(0x252)+_0x49ad78[_0x1f8730(0x1f0)]('\x20');compileLogs[_0x1f8730(0x228)](_0x119e71),CONFIG[_0x1f8730(0x1c6)]&&originalConsole[_0x1f8730(0x1d7)](_0x119e71);},console[_0x1a544d(0x209)]=(..._0xca2422)=>{const _0x23b967=_0x1a544d,_0x218aa0=_0x23b967(0x1fd)+_0xca2422['join']('\x20');compileLogs[_0x23b967(0x228)](_0x218aa0),CONFIG[_0x23b967(0x1c6)]&&originalConsole[_0x23b967(0x209)](_0x218aa0);},console['warn']=(..._0x34c571)=>{const _0x3ad347=_0x1a544d,_0x1162de=_0x3ad347(0x20f)+_0x34c571[_0x3ad347(0x1f0)]('\x20');compileLogs[_0x3ad347(0x228)](_0x1162de),CONFIG[_0x3ad347(0x1c6)]&&originalConsole[_0x3ad347(0x1c4)](_0x1162de);},console[_0x1a544d(0x2a3)]=(..._0x312509)=>{const _0x1c75af=_0x1a544d,_0x1ca368=_0x1c75af(0x24e)+_0x312509[_0x1c75af(0x1f0)]('\x20');compileLogs['push'](_0x1ca368),CONFIG[_0x1c75af(0x1c6)]&&originalConsole[_0x1c75af(0x2a3)](_0x1ca368);};}function saveLogsToFile(){const _0x2516dd=_0x2353d5;if(!isCollectingLogs||compileLogs['length']===0x0)return;const _0x12b910=new Date(),_0x1de80c=_0x12b910['getFullYear']()+String(_0x12b910[_0x2516dd(0x1f9)]()+0x1)[_0x2516dd(0x25e)](0x2,'0')+String(_0x12b910['getDate']())[_0x2516dd(0x25e)](0x2,'0')+String(_0x12b910[_0x2516dd(0x262)]())[_0x2516dd(0x25e)](0x2,'0')+String(_0x12b910['getMinutes']())['padStart'](0x2,'0')+String(_0x12b910[_0x2516dd(0x1de)]())[_0x2516dd(0x25e)](0x2,'0'),_0x27814c=path[_0x2516dd(0x1f0)](outDir,_0x2516dd(0x255)),_0xecf118=path[_0x2516dd(0x1f0)](_0x27814c,_0x2516dd(0x195)+_0x1de80c+_0x2516dd(0x26b));!fs[_0x2516dd(0x294)](_0x27814c)&&fs['mkdirSync'](_0x27814c,{'recursive':!![]}),fs[_0x2516dd(0x21d)](_0xecf118,compileLogs[_0x2516dd(0x1f0)]('\x0a'),_0x2516dd(0x1ed)),console['log']=originalConsole[_0x2516dd(0x1d7)],console[_0x2516dd(0x209)]=originalConsole[_0x2516dd(0x209)],console['warn']=originalConsole['warn'],console['error']=originalConsole[_0x2516dd(0x2a3)],console['log']('✅\x20全量编译完成，日志已保存到:\x20'+path[_0x2516dd(0x1e4)](rootDir,_0xecf118));}const args=process[_0x2353d5(0x18f)]['slice'](0x2),watchMode=args[_0x2353d5(0x1c0)](_0x2353d5(0x276)),singleFileMode=args[_0x2353d5(0x1c0)](_0x2353d5(0x1d6)),singleFilePath=singleFileMode?args[args[_0x2353d5(0x292)](_0x2353d5(0x1d6))+0x1]:null,rootDir=singleFileMode?args[args[_0x2353d5(0x292)]('--root-dir')+0x1]:process['cwd'](),outDir=path['join'](rootDir,_0x2353d5(0x27b)),_outDir=singleFileMode?args[args[_0x2353d5(0x292)](_0x2353d5(0x219))+0x1]:outDir,compileDir=__dirname,isFullCompile=!watchMode&&!singleFileMode,mainProcessFunctions={},functionNameCountMap=new Map();function generateFunctionId(_0x2440b7,_0x422b53,_0xa2c4f8){const _0x1dc645=_0x2353d5,_0x30a5b7=_0x2440b7['replace'](rootDir,'')['replace'](/^[\/\\]/,'')[_0x1dc645(0x1f6)](/^src[\/\\]/,'')[_0x1dc645(0x1f6)](/\\/g,'/'),_0x352de0=_0x1dc645(0x1cf)+_0x30a5b7[_0x1dc645(0x1f6)](/[\/\.]/g,'_')+'_'+_0x422b53+'_'+_0xa2c4f8+'__';return _0x352de0;}function _0x58ec(_0x3a0585,_0xf0cb4f){const _0x4abf7e=_0x4abf();return _0x58ec=function(_0x58eca6,_0x38286f){_0x58eca6=_0x58eca6-0x185;let _0x51c9e4=_0x4abf7e[_0x58eca6];return _0x51c9e4;},_0x58ec(_0x3a0585,_0xf0cb4f);}function extractMainProcessFunction(_0x341e85,_0x5f01de,_0x1d2efa){const _0x8ee8e7=_0x2353d5,_0x6aaa23=_0x341e85['includes'](_0x8ee8e7(0x1e3));let _0x35d7b7=_0x341e85;if(_0x6aaa23)return _0x35d7b7=_0x8ee8e7(0x1dd)+_0x35d7b7,_0x35d7b7=_0x35d7b7[_0x8ee8e7(0x1f6)](/this\.callback\((.*?)\)/g,(_0x1571ff,_0x5cb5ce)=>{const _0xef9c8d=_0x8ee8e7;return _0xef9c8d(0x25c)+_0x1d2efa+_0xef9c8d(0x288)+_0x5cb5ce+_0xef9c8d(0x2a8);}),{'fnId':_0x5f01de,'callbackId':_0x1d2efa,'code':_0x35d7b7,'hasCallback':!![]};return{'fnId':_0x5f01de,'code':_0x35d7b7,'hasCallback':![]};}function processVueMainProcessCode(_0x567569,_0xbade77){const _0x5ad4aa=_0x2353d5;try{const _0xc0bc2b=transformCode(_0x567569),_0x435826=parser[_0x5ad4aa(0x185)](_0xc0bc2b,{'sourceType':_0x5ad4aa(0x204),'plugins':[_0x5ad4aa(0x215),_0x5ad4aa(0x265)]}),_0x5b6253=[];traverse(_0x435826,{'ExportNamedDeclaration'(_0x2d0842){const _0x195de5=_0x5ad4aa;if(t[_0x195de5(0x192)](_0x2d0842[_0x195de5(0x287)]['declaration'])){const _0xb7126b=_0x2d0842['node'][_0x195de5(0x18b)],_0x34a9ca=_0x2d0842[_0x195de5(0x287)][_0x195de5(0x1d1)]||_0xb7126b['leadingComments']||[],_0x8f2665=_0x34a9ca[_0x195de5(0x1bd)](_0x4b83eb=>_0x4b83eb[_0x195de5(0x1ea)][_0x195de5(0x1c0)](_0x195de5(0x212)));if(_0x8f2665){const _0x1b0db8=_0xb7126b['id'][_0x195de5(0x2aa)],_0x5b76cd=functionNameCountMap['get'](_0xbade77+':'+_0x1b0db8)||0x0,_0x32a0fa=generateFunctionId(_0xbade77,_0x1b0db8,_0x5b76cd),_0x45adb4=generateFunctionId(_0xbade77,_0x1b0db8+_0x195de5(0x273),_0x5b76cd);functionNameCountMap[_0x195de5(0x19b)](_0xbade77+':'+_0x1b0db8,_0x5b76cd+0x1);const _0x228532=generate(_0xb7126b[_0x195de5(0x1c1)])['code'],_0x798e72=_0x228532[_0x195de5(0x1f6)](/^\{\s*|\s*\}$/g,'')[_0x195de5(0x253)](),_0x41c291=extractMainProcessFunction(_0x798e72,_0x32a0fa,_0x45adb4);_0x5b6253[_0x195de5(0x228)]({'name':_0x1b0db8,..._0x41c291,'isExport':!![],'path':_0x2d0842,'params':_0xb7126b[_0x195de5(0x274)]});}}},'FunctionDeclaration'(_0xdbec35){const _0x2c7550=_0x5ad4aa;if(_0xdbec35[_0x2c7550(0x188)][_0x2c7550(0x23e)]())return;const _0x58c92a=_0xdbec35[_0x2c7550(0x287)]['leadingComments']||[],_0x2d99b0=_0x58c92a['some'](_0x1d9abe=>_0x1d9abe[_0x2c7550(0x1ea)][_0x2c7550(0x1c0)]('@mainProcess'));if(_0x2d99b0){const _0x43be67=_0xdbec35[_0x2c7550(0x287)]['id'][_0x2c7550(0x2aa)],_0x43c74f=functionNameCountMap[_0x2c7550(0x214)](_0xbade77+':'+_0x43be67)||0x0,_0x19b051=generateFunctionId(_0xbade77,_0x43be67,_0x43c74f),_0x74dde1=generateFunctionId(_0xbade77,_0x43be67+'_callback',_0x43c74f);functionNameCountMap[_0x2c7550(0x19b)](_0xbade77+':'+_0x43be67,_0x43c74f+0x1);const _0x1994f9=generate(_0xdbec35[_0x2c7550(0x287)][_0x2c7550(0x1c1)])[_0x2c7550(0x1bf)],_0x341ce0=_0x1994f9[_0x2c7550(0x1f6)](/^\{\s*|\s*\}$/g,'')[_0x2c7550(0x253)](),_0x43f660=extractMainProcessFunction(_0x341ce0,_0x19b051,_0x74dde1);_0x5b6253[_0x2c7550(0x228)]({'name':_0x43be67,..._0x43f660,'isExport':![],'path':_0xdbec35,'params':_0xdbec35['node'][_0x2c7550(0x274)]});}},'ObjectMethod'(_0x4cc3bd){const _0xce59d1=_0x5ad4aa,_0x16774a=_0x4cc3bd[_0xce59d1(0x287)][_0xce59d1(0x1d1)]||[],_0x3ebe80=_0x16774a[_0xce59d1(0x1bd)](_0x1b09e5=>_0x1b09e5[_0xce59d1(0x1ea)][_0xce59d1(0x1c0)](_0xce59d1(0x212)));if(_0x3ebe80){const _0xfb2112=_0x4cc3bd['node'][_0xce59d1(0x239)]['name'],_0x54201e=functionNameCountMap['get'](_0xbade77+':'+_0xfb2112)||0x0,_0x1da36a=generateFunctionId(_0xbade77,_0xfb2112,_0x54201e),_0x4c9b08=generateFunctionId(_0xbade77,_0xfb2112+_0xce59d1(0x273),_0x54201e);functionNameCountMap[_0xce59d1(0x19b)](_0xbade77+':'+_0xfb2112,_0x54201e+0x1);const _0x2ba86f=generate(_0x4cc3bd[_0xce59d1(0x287)][_0xce59d1(0x1c1)])[_0xce59d1(0x1bf)],_0x15fa9b=_0x2ba86f[_0xce59d1(0x1f6)](/^\{\s*|\s*\}$/g,'')[_0xce59d1(0x253)](),_0x7e5cc9=extractMainProcessFunction(_0x15fa9b,_0x1da36a,_0x4c9b08);_0x5b6253[_0xce59d1(0x228)]({'name':_0xfb2112,..._0x7e5cc9,'isMethod':!![],'path':_0x4cc3bd,'params':_0x4cc3bd[_0xce59d1(0x287)][_0xce59d1(0x274)]});}}});for(const _0x55be3a of _0x5b6253){const _0x3d7bb6=_0x55be3a['fnId'];mainProcessFunctions[_0x3d7bb6]={'body':_0x55be3a[_0x5ad4aa(0x1bf)],'name':_0x55be3a[_0x5ad4aa(0x2aa)],'params':_0x55be3a[_0x5ad4aa(0x274)][_0x5ad4aa(0x2a5)](_0x123a5f=>_0x123a5f['name'])};let _0x5c703d;!_0x55be3a['hasCallback']?_0x5c703d=t[_0x5ad4aa(0x29f)]([t[_0x5ad4aa(0x246)](t['callExpression'](t[_0x5ad4aa(0x223)](t['memberExpression'](t[_0x5ad4aa(0x297)]('window'),t[_0x5ad4aa(0x297)](_0x5ad4aa(0x22b))),t[_0x5ad4aa(0x297)](_0x5ad4aa(0x1da))),[t[_0x5ad4aa(0x238)](_0x3d7bb6),t[_0x5ad4aa(0x21e)](_0x55be3a[_0x5ad4aa(0x274)]['map'](_0x912e72=>t['objectProperty'](t[_0x5ad4aa(0x297)](_0x912e72[_0x5ad4aa(0x2aa)]),t[_0x5ad4aa(0x297)](_0x912e72[_0x5ad4aa(0x2aa)]))))]))]):_0x5c703d=t['blockStatement']([t['variableDeclaration'](_0x5ad4aa(0x28e),[t[_0x5ad4aa(0x278)](t['identifier'](_0x5ad4aa(0x1c7)),t[_0x5ad4aa(0x299)](t['memberExpression'](t[_0x5ad4aa(0x223)](t['identifier'](_0x5ad4aa(0x22a)),t[_0x5ad4aa(0x297)](_0x5ad4aa(0x22b))),t[_0x5ad4aa(0x297)](_0x5ad4aa(0x1da))),[t[_0x5ad4aa(0x238)](_0x3d7bb6),t[_0x5ad4aa(0x21e)](_0x55be3a[_0x5ad4aa(0x274)][_0x5ad4aa(0x2a5)](_0x3820ff=>t['objectProperty'](t[_0x5ad4aa(0x297)](_0x3820ff[_0x5ad4aa(0x2aa)]),t['identifier'](_0x3820ff['name']))))]))]),t[_0x5ad4aa(0x246)](t[_0x5ad4aa(0x21e)]([t[_0x5ad4aa(0x1b4)](t[_0x5ad4aa(0x297)]('live'),t['functionExpression'](null,[t['identifier'](_0x5ad4aa(0x23b))],t[_0x5ad4aa(0x29f)]([t[_0x5ad4aa(0x24d)](t[_0x5ad4aa(0x299)](t[_0x5ad4aa(0x223)](t['memberExpression'](t[_0x5ad4aa(0x297)](_0x5ad4aa(0x22a)),t[_0x5ad4aa(0x297)](_0x5ad4aa(0x22b))),t[_0x5ad4aa(0x297)]('registerCallback')),[t[_0x5ad4aa(0x238)](_0x55be3a[_0x5ad4aa(0x2a1)]),t[_0x5ad4aa(0x297)](_0x5ad4aa(0x23b))])),t[_0x5ad4aa(0x24d)](t[_0x5ad4aa(0x299)](t[_0x5ad4aa(0x223)](t[_0x5ad4aa(0x297)]('promise'),t[_0x5ad4aa(0x297)](_0x5ad4aa(0x251))),[t[_0x5ad4aa(0x20d)]([t[_0x5ad4aa(0x297)]('result')],t['callExpression'](t[_0x5ad4aa(0x297)](_0x5ad4aa(0x23b)),[t['identifier'](_0x5ad4aa(0x1cb))]))]))])))]))]);if(_0x55be3a[_0x5ad4aa(0x193)])_0x55be3a['path'][_0x5ad4aa(0x233)](t[_0x5ad4aa(0x1fa)]('method',t[_0x5ad4aa(0x297)](_0x55be3a[_0x5ad4aa(0x2aa)]),_0x55be3a[_0x5ad4aa(0x274)],_0x5c703d,![],![]),!![]);else{const _0x5d9f5e=t['functionDeclaration'](t[_0x5ad4aa(0x297)](_0x55be3a['name']),_0x55be3a[_0x5ad4aa(0x274)],_0x5c703d);_0x55be3a[_0x5ad4aa(0x1eb)]?_0x55be3a[_0x5ad4aa(0x283)][_0x5ad4aa(0x233)](t[_0x5ad4aa(0x1a4)](_0x5d9f5e,[])):_0x55be3a['path']['replaceWith'](_0x5d9f5e);}}const _0x38d7fa=generate(_0x435826,{'retainLines':!![],'compact':![],'quotes':_0x5ad4aa(0x26c),'concise':![],'jsescOption':{'quotes':_0x5ad4aa(0x26c)},'format':{'indent':{'style':'\x20\x20\x20\x20','adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x4e2bc8=_0x38d7fa[_0x5ad4aa(0x1bf)][_0x5ad4aa(0x1f6)](/\n\n+/g,'\x0a\x0a')[_0x5ad4aa(0x1f6)](/{\s*return\s+/g,'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20')[_0x5ad4aa(0x1f6)](/;\s*}/g,';\x0a\x20\x20\x20\x20}')[_0x5ad4aa(0x1f6)](/,\s*live:\s*function/g,',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function')[_0x5ad4aa(0x1f6)](/}\s*}\s*$/gm,'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}')[_0x5ad4aa(0x1f6)](/async\s+(\w+)\s*\(\)/g,_0x5ad4aa(0x25a))[_0x5ad4aa(0x1f6)](/\)\s*{/g,_0x5ad4aa(0x24a));return _0x4e2bc8;}catch(_0x3812e5){return console[_0x5ad4aa(0x2a3)](_0x5ad4aa(0x1d2),_0x3812e5),_0x567569;}}function removePrefix(_0x4b0ec1){return _0x4b0ec1['replace'](/^(Main\.|NodeJS\.|PJS\.)/g,'');}function getModuleName(_0x543715){const _0xeaf3a=_0x2353d5,_0x532660=_0x543715[_0xeaf3a(0x1d5)](/^(\w+)\./);return _0x532660?_0x532660[0x1]:null;}function extractFunctionParams(_0x26ecf8){const _0xc9296b=_0x2353d5;if(!_0x26ecf8||!_0x26ecf8[_0xc9296b(0x1e2)]||_0x26ecf8[_0xc9296b(0x1e2)]!==_0xc9296b(0x18a))return[];const _0x36a11b=_0x26ecf8['arguments']['map'](_0x40e4e9=>{const _0x503dc5=_0xc9296b;let _0x1e8027={'type':_0x40e4e9[_0x503dc5(0x1e2)],'value':null};switch(_0x40e4e9['type']){case _0x503dc5(0x1b3):_0x1e8027[_0x503dc5(0x1ea)]=_0x40e4e9[_0x503dc5(0x1ea)];break;case'NumericLiteral':_0x1e8027[_0x503dc5(0x1ea)]=_0x40e4e9['value'];break;case'BooleanLiteral':_0x1e8027['value']=_0x40e4e9[_0x503dc5(0x1ea)];break;case _0x503dc5(0x1e9):_0x1e8027[_0x503dc5(0x1ea)]=_0x40e4e9[_0x503dc5(0x2aa)];break;case _0x503dc5(0x29d):_0x1e8027['value']=generate(_0x40e4e9)[_0x503dc5(0x1bf)];break;case _0x503dc5(0x227):_0x1e8027[_0x503dc5(0x1ea)]=generate(_0x40e4e9)[_0x503dc5(0x1bf)];break;default:_0x1e8027[_0x503dc5(0x1ea)]=generate(_0x40e4e9)[_0x503dc5(0x1bf)];}return _0x1e8027;});return _0x26ecf8['arguments']=_0x36a11b['map']((_0x209816,_0x40acba)=>{const _0x14ab31=_0xc9296b;return t[_0x14ab31(0x297)](_0x14ab31(0x230)+(_0x40acba+0x1));}),_0x36a11b;}function processEmbeddedNativeCode(_0xfd81aa,_0x33e0ba){const _0x1d31b2=_0x2353d5;try{const _0x108763=require(_0x1d31b2(0x1e0)),_0x59ecfd=require(_0x1d31b2(0x263))[_0x1d31b2(0x1ab)],_0x212540=_0x108763[_0x1d31b2(0x185)](_0xfd81aa,{'sourceType':_0x1d31b2(0x204),'plugins':['jsx',_0x1d31b2(0x265)]});_0x59ecfd(_0x212540,{'MemberExpression'(_0x1c369a){const _0x3aaef=_0x1d31b2,_0x2febe9=_0x1c369a[_0x3aaef(0x214)](_0x3aaef(0x27c));if(!_0x2febe9[_0x3aaef(0x2a6)]())return;const _0x47eb5b=_0x2febe9[_0x3aaef(0x287)][_0x3aaef(0x2aa)];if(![_0x3aaef(0x222),'NodeJS',_0x3aaef(0x237)][_0x3aaef(0x1c0)](_0x47eb5b))return;let _0x412754=analyseCompleteUseNode(_0x1c369a[_0x3aaef(0x188)],_0x1c369a['parentPath'],_0x1c369a),_0x1df810=extractFunctionParams(_0x412754['path'][_0x3aaef(0x287)]),_0x55f00f='{'+_0x1df810[_0x3aaef(0x2a5)]((_0x4f51a4,_0x237c59)=>[_0x3aaef(0x1b3),_0x3aaef(0x2a2),'BooleanLiteral'][_0x3aaef(0x1c0)](_0x4f51a4[_0x3aaef(0x1e2)])?_0x3aaef(0x230)+(_0x237c59+0x1)+_0x3aaef(0x29c)+_0x4f51a4[_0x3aaef(0x1ea)]+'\x27':_0x3aaef(0x230)+(_0x237c59+0x1)+':\x20'+_0x4f51a4[_0x3aaef(0x1ea)])[_0x3aaef(0x1f0)](',')+'}';const _0x2620b7=generate(_0x412754[_0x3aaef(0x283)][_0x3aaef(0x287)])[_0x3aaef(0x1bf)];let _0x5a0442=removePrefix(_0x2620b7);const _0x2c75c2=getModuleName(_0x5a0442),_0x21fba2=_0x412754[_0x3aaef(0x277)]=='call'?!![]:![];_0x21fba2&&_0x5a0442;const _0x206acb=_0x1c369a[_0x3aaef(0x287)]['loc'][_0x3aaef(0x290)]['line'],_0x45f4e4=Math[_0x3aaef(0x186)](Math['random']()*0x15f90)+0x2710,_0x50ebe5=generateFunctionId(_0x33e0ba,_0x47eb5b+'_'+_0x206acb,_0x45f4e4),_0x3f5d08=generateFunctionId(_0x33e0ba,_0x47eb5b+'_'+_0x206acb+_0x3aaef(0x273),_0x45f4e4);console[_0x3aaef(0x1d7)](_0x3aaef(0x26a),_0x50ebe5);if(_0x47eb5b=='Main')functionBody='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20'+_0x2c75c2+_0x3aaef(0x197)+_0x5a0442+_0x3aaef(0x194);else{if(_0x47eb5b==_0x3aaef(0x1cc))functionBody=_0x3aaef(0x1e5)+_0x2c75c2+_0x3aaef(0x21a)+_0x2c75c2+_0x3aaef(0x1a1)+_0x5a0442+_0x3aaef(0x194);else _0x47eb5b==_0x3aaef(0x237)&&(functionBody=_0x3aaef(0x28b)+_0x2c75c2+'\x20=\x20require(\x27./'+_0x2c75c2+_0x3aaef(0x284)+_0x5a0442+_0x3aaef(0x194));}let _0x2d0388=_0x21fba2?_0x55f00f:'{}';mainProcessFunctions[_0x50ebe5]={'body':functionBody,'name':_0x2620b7,'params':_0x1df810['map']((_0x4bbf6c,_0x8c88d4)=>[_0x3aaef(0x1b3),_0x3aaef(0x2a2),_0x3aaef(0x280)][_0x3aaef(0x1c0)](_0x4bbf6c[_0x3aaef(0x1e2)])?_0x3aaef(0x230)+(_0x8c88d4+0x1):_0x3aaef(0x230)+(_0x8c88d4+0x1))};const _0x55696e=_0x3aaef(0x1e6)+_0x50ebe5+_0x3aaef(0x288)+_0x2d0388+')';_0x412754[_0x3aaef(0x283)][_0x3aaef(0x243)](_0x55696e);}});const _0x35b347=generate(_0x212540,{'retainLines':!![],'compact':![],'quotes':_0x1d31b2(0x26c),'concise':![],'jsescOption':{'quotes':_0x1d31b2(0x26c)},'format':{'indent':{'style':'\x20\x20\x20\x20','adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x549ea2=_0x35b347[_0x1d31b2(0x1bf)][_0x1d31b2(0x1f6)](/\n\n+/g,'\x0a\x0a')['replace'](/{\s*return\s+/g,_0x1d31b2(0x1a2))['replace'](/;\s*}/g,_0x1d31b2(0x254))['replace'](/,\s*live:\s*function/g,_0x1d31b2(0x226))[_0x1d31b2(0x1f6)](/}\s*}\s*$/gm,_0x1d31b2(0x2ac))[_0x1d31b2(0x1f6)](/async\s+(\w+)\s*\(\)/g,'async\x20$1()')[_0x1d31b2(0x1f6)](/\)\s*{/g,_0x1d31b2(0x24a));return _0x549ea2;}catch(_0x75e582){return console[_0x1d31b2(0x2a3)](_0x1d31b2(0x27f),_0x75e582),_0xfd81aa;}}function generateMainProcessRegistration(){const _0x111c12=_0x2353d5,_0x168c26=['app',_0x111c12(0x1d4),_0x111c12(0x1ae),'BrowserView',_0x111c12(0x1c5),'clipboard',_0x111c12(0x1e7),_0x111c12(0x1d3),'desktopCapturer','dialog','globalShortcut',_0x111c12(0x2a9),_0x111c12(0x221),_0x111c12(0x295),_0x111c12(0x218),_0x111c12(0x2ab),_0x111c12(0x1d9),_0x111c12(0x296),'net','netLog','Notification','parentPort',_0x111c12(0x2a0),_0x111c12(0x29b),_0x111c12(0x1b1),'pushNotifications','safeStorage',_0x111c12(0x248),_0x111c12(0x205),_0x111c12(0x261),_0x111c12(0x189),_0x111c12(0x1cd),'TouchBar','Tray',_0x111c12(0x1be),'webContents','WebContentsView','webFrameMain',_0x111c12(0x18c)],_0x2abba6=['os','fs',_0x111c12(0x283),_0x111c12(0x27a),'http',_0x111c12(0x20c),_0x111c12(0x28c),_0x111c12(0x1a5),'events',_0x111c12(0x190),_0x111c12(0x1fc),_0x111c12(0x231),_0x111c12(0x1bb),_0x111c12(0x213),_0x111c12(0x1b6),_0x111c12(0x204)],_0x28b871=new Set([_0x111c12(0x221)]),_0x5bd96b=new Set();for(const [_0x42e56c,_0x2af90e]of Object['entries'](mainProcessFunctions)){const _0x199dac=_0x2af90e[_0x111c12(0x1c1)];_0x168c26['forEach'](_0x28b43c=>{const _0x4e28e3=_0x111c12;_0x199dac[_0x4e28e3(0x1c0)](_0x28b43c+'.')&&_0x28b871[_0x4e28e3(0x2ad)](_0x28b43c);}),_0x2abba6[_0x111c12(0x275)](_0x538d37=>{const _0x4318b5=_0x111c12;_0x199dac['includes'](_0x538d37+'.')&&_0x5bd96b[_0x4318b5(0x2ad)](_0x538d37);});}let _0x25dea4='';_0x28b871['size']>0x0&&(_0x25dea4+='const\x20{\x20'+Array[_0x111c12(0x244)](_0x28b871)[_0x111c12(0x1f0)](',\x20')+'\x20}\x20=\x20require(\x27electron\x27);\x0a');_0x5bd96b['size']>0x0&&(Array['from'](_0x5bd96b)[_0x111c12(0x275)](_0x1aef74=>{const _0xd3fda0=_0x111c12;_0x25dea4+='const\x20'+_0x1aef74+_0xd3fda0(0x21a)+_0x1aef74+_0xd3fda0(0x21f);}),_0x25dea4+='\x0a');_0x25dea4+=_0x111c12(0x191),_0x25dea4+=_0x111c12(0x29a);for(const [_0x15a425,_0x5a3286]of Object[_0x111c12(0x19c)](mainProcessFunctions)){_0x25dea4+='\x20\x20//\x20'+_0x5a3286['name']+'\x0a',_0x25dea4+='\x20\x20'+_0x15a425+':\x20async\x20function('+_0x5a3286['params']['join'](',\x20')+_0x111c12(0x29e),_0x25dea4+=_0x111c12(0x23f)+_0x5a3286[_0x111c12(0x1c1)]+'\x0a',_0x25dea4+=_0x111c12(0x1c2);}return _0x25dea4+=_0x111c12(0x1aa),_0x25dea4+='function\x20registerMainFunctions()\x20{\x0a',_0x25dea4+=_0x111c12(0x1ee),_0x25dea4+=_0x111c12(0x298),_0x25dea4+='\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a',_0x25dea4+=_0x111c12(0x24c),_0x25dea4+=_0x111c12(0x289),_0x25dea4+=_0x111c12(0x22e),_0x25dea4+=_0x111c12(0x1b5),_0x25dea4+=_0x111c12(0x26f),_0x25dea4+=_0x111c12(0x25f),_0x25dea4+=_0x111c12(0x1db),_0x25dea4+=_0x111c12(0x1ca),_0x25dea4+=_0x111c12(0x210),_0x25dea4+=_0x111c12(0x21c),_0x25dea4+=_0x111c12(0x241),_0x25dea4+=_0x111c12(0x1aa),_0x25dea4+=_0x111c12(0x266),_0x25dea4;}function _0x4abf(){const _0x558661=['./utils/main-process-handler','@babel/parser','scripts/','type','this.callback','relative','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20','window.electron.callMainFunction(\x27','contentTracing','\x0a</script>\x0a\x0a','Identifier','value','isExport','🔧\x20处理主进程文件:\x20','utf-8','\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a','检查窗口目录:\x20','join','🗑️\x20删除输出目录:\x20','📋\x20复制文件:\x20','.gitignore','readdirSync','copyFileSync','replace','\x20个文件，耗时\x20','.live','getMonth','objectMethod','mixone','cluster','[INFO]\x20','✅\x20创建输出目录:\x20','publish.js','@babel/generator','endsWith','preload.js','5746335IJXpNL','module','session','./utils/saveJs','\x20(不是窗口目录)','📋\x20复制\x20HTML\x20文件:\x20','info','🔍\x20处理文件rootDir:\x20','split','https','arrowFunctionExpression','\x20->\x20out/main/','[WARN]\x20','\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a','cwd','@mainProcess','readline','get','jsx','fn.js','🔧\x20跳过\x20窗口目录下的\x20preload.js:\x20','MessageChannelMain','--out-dir','\x20=\x20require(\x27','./utils/ast-transformer','\x20\x20\x20\x20}\x0a','writeFileSync','objectExpression','\x27);\x0a','main.js','ipcMain','Main','memberExpression','.vscode','✅\x20编译完成，准备启动服务...',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function','ArrayExpression','push','525265ZxwvZY','window','electron','.html','⚠️\x20Vue\x20文件没有\x20script\x20部分','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a','🔍\x20处理文件:\x20','arg','dns','statSync','replaceWith','relativePath:','⚠️\x20跳过非窗口目录路径:\x20','@babel/types','PJS','stringLiteral','key','startsWith','callback','unlinkSync','main','isExportNamedDeclaration','\x20\x20\x20\x20','✅\x20成功处理\x20main/main.js:\x20','\x20\x20});\x0a','PJS.','replaceWithSourceString','from','testdemo3','returnStatement','8310520ozAKtm','screen','./utils/watcher',')\x20{','README.md','\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a','expressionStatement','[ERROR]\x20','./utils/preload-process-handler','🔧\x20处理根目录\x20package.json:\x20','then','[LOG]\x20','trim',';\x0a\x20\x20\x20\x20}','logs','📝\x20处理\x20script\x20部分...','testdemo','🗑️\x20删除:\x20','❌\x20处理\x20Vue\x20文件时出错:','async\x20$1()','.git','this.sendToRenderer(\x27','NodeJS.','padStart','\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a','readFileSync','ShareMenu','getHours','@babel/traverse','✅\x20Vue\x20文件处理完成','typescript','module.exports\x20=\x20{\x20registerMainFunctions\x20}\x0a','📂\x20正在处理:\x20','chokidar','exports','fnId','.txt','single','isDirectory','isEmbedMain,isEmbedNodeJS,isEmbedPJS','\x20\x20\x20\x20\x20\x20};\x0a\x0a','./utils/content-processor','🔍\x20outPath处理文件:\x20','.svn','_callback','params','forEach','--watch','pathType','variableDeclarator','out\x5c','crypto','out','object','🔄\x20重新组合\x20Vue\x20文件内容...','out/','处理嵌入的原生代码时出错:','BooleanLiteral','exit','📋\x20复制并混淆文件:\x20/code/main/','path','.fn.js\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20','outPath','🔍\x20检查\x20Vue\x20文件:\x20','node','\x27,\x20','\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a','107490jUYYPv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20','net','rmSync','const','length','start','basename','indexOf','mkdirSync','existsSync','Menu','nativeTheme','identifier','\x20\x20\x20\x20try\x20{\x0a','callExpression','\x0aconst\x20fn\x20=\x20{\x0a','powerSaveBlocker',':\x20\x27','ObjectExpression',')\x20{\x0a','blockStatement','powerMonitor','callbackId','NumericLiteral','error','🔧\x20处理\x20Vue\x20文件:\x20','map','isIdentifier','.git/',',\x20++_callbackCount)','inAppPurchase','name','MessagePortMain','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}','add','parse','floor','959sIaSGZ','parentPath','shell','CallExpression','declaration','View','./shared/watch-manager','outDir:','argv','child_process','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);setupConsoleRedirect();\x0a','isFunctionDeclaration','isMethod',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log_','dirname','\x20}\x20=\x20require(\x27electron\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20','sep','keys','doc','set','entries','testdemo4','isFile','📁\x20根目录:\x20','33kvuqHt','\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20','🚀\x20开始全量编译...','exportNamedDeclaration','stream','windows/','node_modules','✅\x20生成\x20fn.js:\x20','🔧\x20跳过根preload.js:\x20','}\x0a\x0a','default','1882287xxgFLz','.js','BaseWindow','27584vEKRCz','❌\x20扫描目录失败:\x20','protocol','📁\x20创建目录:\x20','StringLiteral','objectProperty','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a','assert','windows','7200426waqbCF','检查是否需要\x20preload.js:\x20','./utils/static-file-copier','tls','.idea','some','utilityProcess','code','includes','body','\x20\x20},\x0a','8SJQLlN','warn','BrowserWindow','logToConsole','promise','Main.','⚠️\x20跳过文件:\x20','\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a','result','NodeJS','systemPreferences','outPath:\x20','__FUNCTION_','now','leadingComments','处理主进程代码时出错:','crashReporter','autoUpdater','match','--file','log','windows\x5c','nativeImage','callMainFunction','\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a','testdemo2','let\x20_callbackCount\x20=\x200;\x0a','getSeconds'];_0x4abf=function(){return _0x558661;};return _0x4abf();}const startTime=Date[_0x2353d5(0x1d0)]();let processedFiles=0x0;function getNormalizedOutPath(_0x2e1534,_0x25eaa2){const _0x258ad0=_0x2353d5;console[_0x258ad0(0x1d7)](_0x258ad0(0x267)+_0x2e1534+_0x258ad0(0x23f)+_0x25eaa2);if(_0x2e1534[_0x258ad0(0x23a)](_0x258ad0(0x27e))||_0x2e1534[_0x258ad0(0x23a)](_0x258ad0(0x279)))return path[_0x258ad0(0x1f0)](rootDir,_0x2e1534);return path[_0x258ad0(0x1f0)](_0x25eaa2,_0x2e1534);}function ensureOutDirExists(){const _0xd408f1=_0x2353d5;if(fs[_0xd408f1(0x294)](outDir)){const _0xf58b1a=path[_0xd408f1(0x1f0)](outDir,'node_modules'),_0x27727d=fs[_0xd408f1(0x1f4)](outDir);if(fs[_0xd408f1(0x294)](_0xf58b1a)){console[_0xd408f1(0x1d7)]('🔍\x20检测到\x20node_modules，将保留该目录');for(const _0x3caf85 of _0x27727d){if(_0x3caf85!==_0xd408f1(0x1a7)){const _0x369d3f=path['join'](outDir,_0x3caf85);fs['statSync'](_0x369d3f)['isDirectory']()?fs[_0xd408f1(0x28d)](_0x369d3f,{'recursive':!![],'force':!![]}):fs[_0xd408f1(0x23c)](_0x369d3f),console[_0xd408f1(0x1d7)](_0xd408f1(0x258)+_0x3caf85);}}console[_0xd408f1(0x1d7)]('✅\x20已清理\x20out\x20目录（保留\x20node_modules）');}else{for(const _0x3f635d of _0x27727d){const _0xe77ab4=path['join'](outDir,_0x3f635d);fs[_0xd408f1(0x232)](_0xe77ab4)[_0xd408f1(0x26d)]()?fs[_0xd408f1(0x28d)](_0xe77ab4,{'recursive':!![],'force':!![]}):fs[_0xd408f1(0x23c)](_0xe77ab4),console[_0xd408f1(0x1d7)]('🗑️\x20删除:\x20'+_0x3f635d);}console[_0xd408f1(0x1d7)](_0xd408f1(0x1f1)+outDir);}}fs[_0xd408f1(0x293)](outDir,{'recursive':!![]}),console[_0xd408f1(0x1d7)](_0xd408f1(0x1fe)+outDir);}function processFile(_0x98d1df,_0xf70449){const _0x3364f0=_0x2353d5;try{}catch(_0x411f18){return console[_0x3364f0(0x2a3)]('❌\x20处理失败:\x20'+_0x98d1df,_0x411f18),![];}console['log'](_0x3364f0(0x20a)+rootDir),_0x98d1df=path['resolve'](rootDir,_0x98d1df),console[_0x3364f0(0x1d7)](_0x3364f0(0x22f)+_0x98d1df);const _0x1ee9d1=path[_0x3364f0(0x1e4)](rootDir,_0x98d1df),_0x2493d0=singleFileMode?_0xf70449:path[_0x3364f0(0x1f0)](process[_0x3364f0(0x211)](),_0x3364f0(0x27b));console[_0x3364f0(0x1d7)](_0x3364f0(0x18e),_0x2493d0),console[_0x3364f0(0x1d7)](_0x3364f0(0x234),_0x1ee9d1);const _0x6027cd=getNormalizedOutPath(_0x1ee9d1,_0x2493d0);console['log'](_0x3364f0(0x271)+_0x6027cd);const _0x5352de=path[_0x3364f0(0x196)](_0x6027cd);if(!fs['existsSync'](_0x98d1df))return console[_0x3364f0(0x1d7)]('⚠️\x20文件不存在:\x20'+_0x98d1df),_0x98d1df['includes'](_0x3364f0(0x1b7)+path[_0x3364f0(0x198)])&&path[_0x3364f0(0x291)](_0x98d1df)===_0x3364f0(0x202)?(writeDefaultPreloadFileWhenDeleted(compileDir,_0x2493d0,_0x6027cd,_0x98d1df),![]):![];if(_0x1ee9d1[_0x3364f0(0x1c0)]('node_modules/')||_0x1ee9d1[_0x3364f0(0x1c0)](_0x3364f0(0x2a7))||_0x1ee9d1[_0x3364f0(0x1c0)](_0x3364f0(0x27e))||_0x1ee9d1[_0x3364f0(0x23a)](_0x3364f0(0x1e1)))return![];!fs[_0x3364f0(0x294)](_0x5352de)&&(fs[_0x3364f0(0x293)](_0x5352de,{'recursive':!![]}),console[_0x3364f0(0x1d7)](_0x3364f0(0x1b2)+_0x5352de));if(_0x98d1df['endsWith'](_0x3364f0(0x1ad))){const _0x5d542a=fs[_0x3364f0(0x260)](_0x98d1df,_0x3364f0(0x1ed));if(path['basename'](_0x98d1df)===_0x3364f0(0x220)&&path[_0x3364f0(0x196)](_0x98d1df)[_0x3364f0(0x201)]('main')){console[_0x3364f0(0x1d7)]('🔧\x20特殊处理\x20main/main.js:\x20'+_0x1ee9d1);const _0x4827b3=processMainProcessFile(_0x5d542a,_0x1ee9d1),_0x47eca4=obfuscatorJS(_0x4827b3);fs[_0x3364f0(0x21d)](_0x6027cd,_0x47eca4),console['log'](_0x3364f0(0x240)+_0x1ee9d1);}else{if(path[_0x3364f0(0x291)](_0x98d1df)===_0x3364f0(0x202))return _0x1ee9d1[_0x3364f0(0x23a)](_0x3364f0(0x1a6))?(console[_0x3364f0(0x1d7)](_0x3364f0(0x217)+_0x1ee9d1),![]):(console['log'](_0x3364f0(0x1a9)+_0x1ee9d1),![]);else{const _0x1e3b34=_0x5d542a['includes'](_0x3364f0(0x212)),_0x49b99c=_0x5d542a['includes'](_0x3364f0(0x1c8)),_0x382664=_0x5d542a[_0x3364f0(0x1c0)](_0x3364f0(0x25d)),_0x1e979b=_0x5d542a[_0x3364f0(0x1c0)](_0x3364f0(0x242));console[_0x3364f0(0x1d7)](_0x3364f0(0x26e),_0x49b99c,_0x382664,_0x1e979b);if(_0x1e3b34||_0x49b99c||_0x382664||_0x1e979b){console[_0x3364f0(0x1d7)](_0x3364f0(0x1ec)+_0x1ee9d1);let _0x160521='';_0x1e3b34&&(_0x160521=processVueMainProcessCode(_0x5d542a,_0x98d1df));(_0x49b99c||_0x382664||_0x1e979b)&&(_0x160521=processEmbeddedNativeCode(_0x160521,_0x98d1df,{'isEmbedMain':_0x49b99c,'isEmbedNodeJS':_0x382664,'isEmbedPJS':_0x1e979b}),console['log'](_0x160521));if(_0x160521){fs[_0x3364f0(0x21d)](_0x6027cd,_0x160521);if(!isFullCompile){const _0x36ad77=generateMainProcessRegistration();updateFnFile(_0x2493d0,rootDir,_0x98d1df,_0x36ad77);}}console[_0x3364f0(0x1d7)]('✅\x20成功编译:\x20'+_0x1ee9d1);}else fs[_0x3364f0(0x1f5)](_0x98d1df,_0x6027cd),console['log'](_0x3364f0(0x1f2)+_0x1ee9d1);}}}else{if(_0x98d1df[_0x3364f0(0x201)]('.vue')){const _0x4c06d9=fs[_0x3364f0(0x260)](_0x98d1df,'utf-8');console[_0x3364f0(0x1d7)](_0x3364f0(0x286)+_0x1ee9d1);const _0x374226=_0x4c06d9['includes'](_0x3364f0(0x212))||_0x4c06d9[_0x3364f0(0x1c0)](_0x3364f0(0x1f8)),_0x20a019=_0x4c06d9[_0x3364f0(0x1c0)](_0x3364f0(0x1c8)),_0x44c793=_0x4c06d9[_0x3364f0(0x1c0)](_0x3364f0(0x25d)),_0x3a138e=_0x4c06d9[_0x3364f0(0x1c0)]('PJS.');if(_0x374226||_0x20a019||_0x44c793||_0x3a138e){console[_0x3364f0(0x1d7)](_0x3364f0(0x2a4)+_0x1ee9d1);let _0x5c88c0=processVueFile(_0x4c06d9,_0x98d1df);if(_0x5c88c0){fs[_0x3364f0(0x21d)](_0x6027cd,_0x5c88c0),console[_0x3364f0(0x1d7)](_0x3364f0(0x1ce)+_0x6027cd);if(!isFullCompile){const _0x1364e6=generateMainProcessRegistration();updateFnFile(_0x2493d0,rootDir,_0x98d1df,_0x1364e6);}}}else console[_0x3364f0(0x1d7)]('srcPath',_0x3364f0(0x285)),console['log'](_0x98d1df,_0x6027cd),fs[_0x3364f0(0x1f5)](_0x98d1df,_0x6027cd);console[_0x3364f0(0x1d7)]('✅\x20处理\x20Vue\x20文件完成:\x20'+_0x1ee9d1);}else{if(_0x98d1df['endsWith'](_0x3364f0(0x22c)))fs[_0x3364f0(0x1f5)](_0x98d1df,_0x6027cd),console[_0x3364f0(0x1d7)](_0x3364f0(0x208)+_0x1ee9d1);else path[_0x3364f0(0x291)](_0x98d1df)==='package.json'&&path[_0x3364f0(0x196)](_0x98d1df)===rootDir?(console['log'](_0x3364f0(0x250)+_0x1ee9d1),processPackageJson(_0x98d1df,_0x6027cd)):(fs[_0x3364f0(0x1f5)](_0x98d1df,_0x6027cd),console['log'](_0x3364f0(0x1f2)+_0x1ee9d1));}}return processedFiles++,!![];}const IGNORE_DIRS=[_0x2353d5(0x1a7),_0x2353d5(0x27b),_0x2353d5(0x25b),_0x2353d5(0x19a),'yarn.lock','dist',_0x2353d5(0x1fb),_0x2353d5(0x1dc),,_0x2353d5(0x24b),'cli.js',_0x2353d5(0x257),_0x2353d5(0x245),_0x2353d5(0x19d),_0x2353d5(0x1ff),_0x2353d5(0x1f3),'scripts',_0x2353d5(0x272),'.qodo',_0x2353d5(0x1bc),_0x2353d5(0x224)];function processDir(_0x1e8c7b){const _0x4adf21=_0x2353d5;try{const _0x10bb9f=fs[_0x4adf21(0x1f4)](_0x1e8c7b);for(const _0x147824 of _0x10bb9f){const _0x22a217=path[_0x4adf21(0x1f0)](_0x1e8c7b,_0x147824);if(IGNORE_DIRS['includes'](_0x147824))continue;try{const _0x30d9d5=fs[_0x4adf21(0x232)](_0x22a217);if(_0x30d9d5[_0x4adf21(0x26d)]())processDir(_0x22a217);else _0x30d9d5[_0x4adf21(0x19e)]()&&processFile(_0x22a217);}catch(_0x18a9bb){console[_0x4adf21(0x2a3)]('❌\x20无法处理:\x20'+_0x22a217,_0x18a9bb);}}}catch(_0x990f54){console[_0x4adf21(0x2a3)](_0x4adf21(0x1b0)+_0x1e8c7b,_0x990f54);}}function copyScriptsMainFiles(_0x1e4237,_0x51b32a,_0x4e6df6){const _0x51513f=_0x2353d5,_0x23a9ce=path[_0x51513f(0x1f0)](_0x4e6df6,_0x51513f(0x1bf),'main'),_0x2e8313=path[_0x51513f(0x1f0)](_0x51b32a,'main');if(fs['existsSync'](_0x23a9ce)){!fs[_0x51513f(0x294)](_0x2e8313)&&fs[_0x51513f(0x293)](_0x2e8313,{'recursive':!![]});const _0x3b80de=fs[_0x51513f(0x1f4)](_0x23a9ce);for(const _0x3c9289 of _0x3b80de){const _0x7bb79e=path['join'](_0x23a9ce,_0x3c9289),_0x42155f=path[_0x51513f(0x1f0)](_0x2e8313,_0x3c9289);if(fs[_0x51513f(0x232)](_0x7bb79e)['isFile']()){const _0xb21623=fs['readFileSync'](_0x7bb79e,'utf-8');fs[_0x51513f(0x21d)](_0x42155f,obfuscatorJS(_0xb21623)),console[_0x51513f(0x1d7)](_0x51513f(0x282)+_0x3c9289+_0x51513f(0x20e)+_0x3c9289);}}}}function compileAll(){const _0x48632b=_0x2353d5;console[_0x48632b(0x1d7)](_0x48632b(0x1a3)),setupLogCollector(),console[_0x48632b(0x1d7)](_0x48632b(0x19f)+rootDir),console[_0x48632b(0x1d7)]('📁\x20输出目录:\x20'+outDir),copyScriptsMainFiles(rootDir,outDir,compileDir),processDir(rootDir),checkWindowPreloadAndCopy(rootDir,outDir,compileDir),copyStaticFilesToWindowDirs(rootDir,outDir,compileDir),copyScriptsToOutputRoot(rootDir,outDir,compileDir);if(Object[_0x48632b(0x199)](mainProcessFunctions)[_0x48632b(0x28f)]>0x0){console[_0x48632b(0x1d7)]('🔧\x20生成主进程函数注册文件...');const _0x3b5af0=path['join'](outDir,_0x48632b(0x23d),_0x48632b(0x216));fs[_0x48632b(0x293)](path[_0x48632b(0x196)](_0x3b5af0),{'recursive':!![]});const _0x4987f8=generateMainProcessRegistration();fs[_0x48632b(0x21d)](_0x3b5af0,obfuscatorJS(_0x4987f8)),console[_0x48632b(0x1d7)](_0x48632b(0x1a8)+path[_0x48632b(0x1e4)](rootDir,_0x3b5af0));}const _0x2e2287=((Date['now']()-startTime)/0x3e8)['toFixed'](0x2);console[_0x48632b(0x1d7)]('✅\x20全量编译完成\x20-\x20处理了\x20'+processedFiles+_0x48632b(0x1f7)+_0x2e2287+'s'),saveLogsToFile();}function checkWindowDirPreload(_0x50586b){const _0x18936a=_0x2353d5,_0x13c58c=path[_0x18936a(0x1e4)](rootDir,_0x50586b)[_0x18936a(0x1f6)](/\\/g,'/');console[_0x18936a(0x1d7)](_0x18936a(0x1b9)+_0x13c58c);if(_0x13c58c[_0x18936a(0x23a)](_0x18936a(0x1a6))||_0x13c58c[_0x18936a(0x23a)](_0x18936a(0x1d8))){let _0x448939,_0x494b3d=_0x13c58c[_0x18936a(0x20b)]('/');_0x494b3d[_0x18936a(0x28f)]<0x2&&(_0x494b3d=_0x13c58c[_0x18936a(0x20b)]('\x5c'));if(_0x494b3d[_0x18936a(0x28f)]>=0x2){_0x448939=_0x494b3d[0x1];if(_0x448939[_0x18936a(0x1c0)]('.')){console[_0x18936a(0x1d7)](_0x18936a(0x1c9)+_0x448939+_0x18936a(0x207));return;}const _0x349228=path[_0x18936a(0x1f0)](rootDir,_0x18936a(0x1b7),_0x448939);if(!fs['existsSync'](_0x349228)||!fs[_0x18936a(0x232)](_0x349228)[_0x18936a(0x26d)]()){console[_0x18936a(0x1d7)](_0x18936a(0x235)+_0x349228);return;}const _0x5b4e5e=path[_0x18936a(0x1f0)](_0x349228,_0x18936a(0x202));console[_0x18936a(0x1d7)](_0x18936a(0x1ef)+_0x448939+',\x20preload\x20路径:\x20'+_0x5b4e5e);if(!fs['existsSync'](_0x5b4e5e)){const _0x42e759=path[_0x18936a(0x1f0)](rootDir,_0x18936a(0x202));if(fs[_0x18936a(0x294)](_0x42e759)){const _0x3b8260=getNormalizedOutPath(_0x18936a(0x1a6)+_0x448939,outDir),_0x154983=path[_0x18936a(0x1f0)](_0x3b8260,_0x18936a(0x202));!fs[_0x18936a(0x294)](_0x3b8260)&&fs[_0x18936a(0x293)](_0x3b8260,{'recursive':!![]});const _0x2486c0=fs[_0x18936a(0x260)](_0x42e759,_0x18936a(0x1ed));fs[_0x18936a(0x21d)](_0x154983,_0x2486c0),console[_0x18936a(0x1d7)]('✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20'+path[_0x18936a(0x1e4)](rootDir,_0x154983));}}}}}function processVueFile(_0x128595,_0x2268f2){const _0x25ccfb=_0x2353d5;try{console[_0x25ccfb(0x1d7)]('🔍\x20开始处理\x20Vue\x20文件...');const {template:_0x596953,script:_0x171118,styles:_0x1cda2b}=parseVueFile(_0x128595);if(!_0x171118)return console[_0x25ccfb(0x1d7)](_0x25ccfb(0x22d)),_0x128595;console[_0x25ccfb(0x1d7)](_0x25ccfb(0x256));const _0x7ee6f6=_0x171118['includes'](_0x25ccfb(0x212)),_0x276fd3=_0x171118[_0x25ccfb(0x1c0)](_0x25ccfb(0x1c8)),_0x296826=_0x171118[_0x25ccfb(0x1c0)](_0x25ccfb(0x25d)),_0x48a5c9=_0x171118['includes'](_0x25ccfb(0x242));let _0x2613a0='';_0x7ee6f6&&(_0x2613a0=processVueMainProcessCode(_0x171118,_0x2268f2));console[_0x25ccfb(0x1d7)]('isEmbedMain\x20||\x20isEmbedNodeJS\x20||\x20isEmbedPJS'),console[_0x25ccfb(0x1d7)](_0x276fd3||_0x296826||_0x48a5c9);(_0x276fd3||_0x296826||_0x48a5c9)&&(_0x2613a0=processEmbeddedNativeCode(_0x2613a0,_0x2268f2,{'isEmbedMain':_0x276fd3,'isEmbedNodeJS':_0x296826,'isEmbedPJS':_0x48a5c9}));console[_0x25ccfb(0x1d7)](_0x25ccfb(0x27d));const _0x264967=generateVueFile(_0x596953,_0x2613a0,_0x1cda2b);return console[_0x25ccfb(0x1d7)](_0x25ccfb(0x264)),_0x264967;}catch(_0x3d94dd){return console[_0x25ccfb(0x2a3)](_0x25ccfb(0x259),_0x3d94dd),_0x128595;}}function parseVueFile(_0x4a6e9e){const _0x4149f0=_0x2353d5,_0x4f7ffa=_0x4a6e9e[_0x4149f0(0x1d5)](/<template>([\s\S]*)<\/template>/),_0x5ce02c=_0x4a6e9e['match'](/<script>([\s\S]*)<\/script>/),_0x303766=_0x4a6e9e[_0x4149f0(0x1d5)](/<style[^>]*>([\s\S]*?)<\/style>/g);return{'template':_0x4f7ffa?_0x4f7ffa[0x0]:'','script':_0x5ce02c?_0x5ce02c[0x1]:'','styles':_0x303766||[]};}function generateVueFile(_0x5a0f16,_0x4c8cbe,_0x3c67ce){const _0x3980aa=_0x2353d5;let _0xa36005='';return _0x5a0f16&&(_0xa36005+=_0x5a0f16+'\x0a\x0a'),_0x4c8cbe&&(_0xa36005+='<script>\x0a'+_0x4c8cbe+_0x3980aa(0x1e8)),_0x3c67ce&&_0x3c67ce[_0x3980aa(0x28f)]>0x0&&(_0xa36005+=_0x3c67ce[_0x3980aa(0x1f0)]('\x0a\x0a')),_0xa36005;}(function main(){const _0x1512ab=_0x2353d5;if(singleFileMode&&singleFilePath){console['log']('🔍\x20仅处理:\x20'+singleFilePath),processFile(singleFilePath,_outDir),checkWindowDirStaticFiles(singleFilePath,rootDir,outDir);return;}ensureOutDirExists(),compileAll(),watchMode?setupCompileWatcher(processFile,checkWindowDirPreload):(console[_0x1512ab(0x1d7)](_0x1512ab(0x225)),process[_0x1512ab(0x281)](0x0));}(),module[_0x2353d5(0x269)]={'checkWindowDirPreload':checkWindowDirPreload});