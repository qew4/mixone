const _0x12250d=_0x3ffa;(function(_0x2fd0ea,_0x3b2a87){const _0x2ff53e=_0x3ffa,_0x424cc2=_0x2fd0ea();while(!![]){try{const _0x5cd182=-parseInt(_0x2ff53e(0x256))/0x1+-parseInt(_0x2ff53e(0x2eb))/0x2*(parseInt(_0x2ff53e(0x285))/0x3)+parseInt(_0x2ff53e(0x1fb))/0x4*(-parseInt(_0x2ff53e(0x29b))/0x5)+parseInt(_0x2ff53e(0x270))/0x6+parseInt(_0x2ff53e(0x2c0))/0x7+-parseInt(_0x2ff53e(0x231))/0x8+parseInt(_0x2ff53e(0x23e))/0x9;if(_0x5cd182===_0x3b2a87)break;else _0x424cc2['push'](_0x424cc2['shift']());}catch(_0x5b9efa){_0x424cc2['push'](_0x424cc2['shift']());}}}(_0x1855,0xb3781));const fs=require('fs'),path=require(_0x12250d(0x1ea)),chokidar=require('chokidar'),watchManager=require(_0x12250d(0x27a)),crypto=require(_0x12250d(0x24c)),parser=require(_0x12250d(0x224)),traverse=require(_0x12250d(0x2df))[_0x12250d(0x1f2)],generate=require('@babel/generator')[_0x12250d(0x1f2)],t=require(_0x12250d(0x2d4)),{setupCompileWatcher}=require(_0x12250d(0x1e4)),{transformCode,analyseCompleteUseNode,transformVueScript}=require(_0x12250d(0x2bf)),{updateFnFile}=require(_0x12250d(0x26a)),{copyStaticFilesToWindowDirs,checkWindowDirStaticFiles,copyScriptsToOutputRoot}=require(_0x12250d(0x279)),{processPackageJson}=require(_0x12250d(0x2b0)),{processMainProcessFile}=require(_0x12250d(0x267)),{checkWindowPreloadAndCopy,writeDefaultPreloadFileWhenDeleted}=require(_0x12250d(0x28a)),{obfuscatorJS}=require('./utils/saveJs');let compileLogs=[],isCollectingLogs=![];const originalConsole={'log':console[_0x12250d(0x25f)],'info':console[_0x12250d(0x1e5)],'warn':console['warn'],'error':console['error']},CONFIG={'logToConsole':!![]};function setupLogCollector(){const _0x339d77=_0x12250d;if(!isFullCompile)return;isCollectingLogs=!![],compileLogs=[],console[_0x339d77(0x25f)]=(..._0x4c21bb)=>{const _0x3f2b2c=_0x339d77,_0x533317=_0x3f2b2c(0x230)+_0x4c21bb['join']('\x20');compileLogs['push'](_0x533317),CONFIG[_0x3f2b2c(0x2ae)]&&originalConsole[_0x3f2b2c(0x25f)](_0x533317);},console[_0x339d77(0x1e5)]=(..._0x1e2378)=>{const _0x2e3b77=_0x339d77,_0x59d899=_0x2e3b77(0x25d)+_0x1e2378[_0x2e3b77(0x282)]('\x20');compileLogs[_0x2e3b77(0x29e)](_0x59d899),CONFIG[_0x2e3b77(0x2ae)]&&originalConsole[_0x2e3b77(0x1e5)](_0x59d899);},console[_0x339d77(0x28e)]=(..._0x4d83f9)=>{const _0x48b7fa=_0x339d77,_0x426bc9=_0x48b7fa(0x287)+_0x4d83f9[_0x48b7fa(0x282)]('\x20');compileLogs[_0x48b7fa(0x29e)](_0x426bc9),CONFIG[_0x48b7fa(0x2ae)]&&originalConsole[_0x48b7fa(0x28e)](_0x426bc9);},console[_0x339d77(0x296)]=(..._0x4654c9)=>{const _0x589ab0=_0x339d77,_0x34f78d=_0x589ab0(0x292)+_0x4654c9[_0x589ab0(0x282)]('\x20');compileLogs[_0x589ab0(0x29e)](_0x34f78d),CONFIG[_0x589ab0(0x2ae)]&&originalConsole['error'](_0x34f78d);};}function saveLogsToFile(){const _0x3356aa=_0x12250d;if(!isCollectingLogs||compileLogs['length']===0x0)return;const _0x3960cf=new Date(),_0xca3a1f=_0x3960cf[_0x3356aa(0x303)]()+String(_0x3960cf[_0x3356aa(0x273)]()+0x1)['padStart'](0x2,'0')+String(_0x3960cf[_0x3356aa(0x21a)]())[_0x3356aa(0x304)](0x2,'0')+String(_0x3960cf[_0x3356aa(0x1ee)]())['padStart'](0x2,'0')+String(_0x3960cf[_0x3356aa(0x22f)]())[_0x3356aa(0x304)](0x2,'0')+String(_0x3960cf[_0x3356aa(0x26c)]())[_0x3356aa(0x304)](0x2,'0'),_0x1d3ea6=path[_0x3356aa(0x282)](outDir,_0x3356aa(0x308)),_0x1cdd5f=path[_0x3356aa(0x282)](_0x1d3ea6,_0x3356aa(0x271)+_0xca3a1f+'.txt');!fs['existsSync'](_0x1d3ea6)&&fs[_0x3356aa(0x2bb)](_0x1d3ea6,{'recursive':!![]}),fs['writeFileSync'](_0x1cdd5f,compileLogs[_0x3356aa(0x282)]('\x0a'),'utf-8'),console[_0x3356aa(0x25f)]=originalConsole[_0x3356aa(0x25f)],console['info']=originalConsole[_0x3356aa(0x1e5)],console['warn']=originalConsole[_0x3356aa(0x28e)],console['error']=originalConsole['error'],console[_0x3356aa(0x25f)](_0x3356aa(0x242)+path[_0x3356aa(0x2a0)](rootDir,_0x1cdd5f));}function _0x3ffa(_0x44fa8f,_0xa3db52){const _0x1855f3=_0x1855();return _0x3ffa=function(_0x3ffab4,_0x49ba3f){_0x3ffab4=_0x3ffab4-0x1e4;let _0x386af1=_0x1855f3[_0x3ffab4];return _0x386af1;},_0x3ffa(_0x44fa8f,_0xa3db52);}const args=process[_0x12250d(0x2d9)][_0x12250d(0x1ff)](0x2),watchMode=args[_0x12250d(0x211)]('--watch'),singleFileMode=args[_0x12250d(0x211)]('--file'),singleFilePath=singleFileMode?args[args[_0x12250d(0x1fc)](_0x12250d(0x241))+0x1]:null,rootDir=singleFileMode?args[args[_0x12250d(0x1fc)](_0x12250d(0x2a8))+0x1]:process[_0x12250d(0x2f0)](),outDir=path[_0x12250d(0x282)](rootDir,_0x12250d(0x1ed)),_outDir=singleFileMode?args[args[_0x12250d(0x1fc)](_0x12250d(0x278))+0x1]:outDir,compileDir=__dirname,isFullCompile=!watchMode&&!singleFileMode,mainProcessFunctions={},functionNameCountMap=new Map();function generateFunctionId(_0x4b79ac,_0x2f4cd5,_0x192b22){const _0x419539=_0x12250d,_0x36adfb=_0x4b79ac['replace'](rootDir,'')[_0x419539(0x2fc)](/^[\/\\]/,'')[_0x419539(0x2fc)](/^src[\/\\]/,'')[_0x419539(0x2fc)](/\\/g,'/'),_0x27bf94=_0x419539(0x1f8)+_0x36adfb[_0x419539(0x2fc)](/[\/\.]/g,'_')+'_'+_0x2f4cd5+'_'+_0x192b22+'__';return _0x27bf94;}function extractMainProcessFunction(_0x43113d,_0x7c7b6f,_0xa97dd1){const _0x596b4e=_0x12250d,_0x2adb66=_0x43113d[_0x596b4e(0x211)](_0x596b4e(0x220));let _0x169fe2=_0x43113d;if(_0x2adb66)return _0x169fe2=_0x596b4e(0x214)+_0x169fe2,_0x169fe2=_0x169fe2[_0x596b4e(0x2fc)](/this\.callback\((.*?)\)/g,(_0x107ead,_0x139355)=>{const _0x9e0dd9=_0x596b4e;return _0x9e0dd9(0x274)+_0xa97dd1+_0x9e0dd9(0x2b3)+_0x139355+_0x9e0dd9(0x234);}),{'fnId':_0x7c7b6f,'callbackId':_0xa97dd1,'code':_0x169fe2,'hasCallback':!![]};return{'fnId':_0x7c7b6f,'code':_0x169fe2,'hasCallback':![]};}function processVueMainProcessCode(_0x556296,_0x5ef8ca){const _0x35a9b5=_0x12250d;try{const _0x50f45c=transformCode(_0x556296),_0x40f8b8=parser[_0x35a9b5(0x2a2)](_0x50f45c,{'sourceType':'module','plugins':['jsx',_0x35a9b5(0x261)]}),_0xea2dee=[];traverse(_0x40f8b8,{'ExportNamedDeclaration'(_0x4b6c2d){const _0x1e42cc=_0x35a9b5;if(t[_0x1e42cc(0x27b)](_0x4b6c2d[_0x1e42cc(0x2fb)][_0x1e42cc(0x272)])){const _0x462943=_0x4b6c2d[_0x1e42cc(0x2fb)][_0x1e42cc(0x272)],_0x1ec440=_0x4b6c2d[_0x1e42cc(0x2fb)]['leadingComments']||_0x462943[_0x1e42cc(0x22e)]||[],_0x45338b=_0x1ec440[_0x1e42cc(0x225)](_0x1a8130=>_0x1a8130[_0x1e42cc(0x1f7)]['includes']('@mainProcess'));if(_0x45338b){const _0x49a556=_0x462943['id'][_0x1e42cc(0x22c)],_0x3a2ef3=functionNameCountMap[_0x1e42cc(0x2ff)](_0x5ef8ca+':'+_0x49a556)||0x0,_0x4b7527=generateFunctionId(_0x5ef8ca,_0x49a556,_0x3a2ef3),_0x5bdd3b=generateFunctionId(_0x5ef8ca,_0x49a556+_0x1e42cc(0x20b),_0x3a2ef3);functionNameCountMap[_0x1e42cc(0x2b1)](_0x5ef8ca+':'+_0x49a556,_0x3a2ef3+0x1);const _0x48ad85=generate(_0x462943['body'])[_0x1e42cc(0x2bd)],_0x573fba=_0x48ad85[_0x1e42cc(0x2fc)](/^\{\s*|\s*\}$/g,'')[_0x1e42cc(0x2fe)](),_0x4c474b=extractMainProcessFunction(_0x573fba,_0x4b7527,_0x5bdd3b);_0xea2dee['push']({'name':_0x49a556,..._0x4c474b,'isExport':!![],'path':_0x4b6c2d,'params':_0x462943[_0x1e42cc(0x2db)]});}}},'FunctionDeclaration'(_0x40c172){const _0x22e31f=_0x35a9b5;if(_0x40c172[_0x22e31f(0x239)]['isExportNamedDeclaration']())return;const _0x5cdba1=_0x40c172['node'][_0x22e31f(0x22e)]||[],_0x1a9a8e=_0x5cdba1[_0x22e31f(0x225)](_0x5cb7c5=>_0x5cb7c5[_0x22e31f(0x1f7)][_0x22e31f(0x211)]('@mainProcess'));if(_0x1a9a8e){const _0x2252e9=_0x40c172[_0x22e31f(0x2fb)]['id']['name'],_0x350c55=functionNameCountMap[_0x22e31f(0x2ff)](_0x5ef8ca+':'+_0x2252e9)||0x0,_0x4f680f=generateFunctionId(_0x5ef8ca,_0x2252e9,_0x350c55),_0xd42003=generateFunctionId(_0x5ef8ca,_0x2252e9+'_callback',_0x350c55);functionNameCountMap[_0x22e31f(0x2b1)](_0x5ef8ca+':'+_0x2252e9,_0x350c55+0x1);const _0x52a9a9=generate(_0x40c172['node'][_0x22e31f(0x2ab)])[_0x22e31f(0x2bd)],_0x23eaef=_0x52a9a9['replace'](/^\{\s*|\s*\}$/g,'')['trim'](),_0x21b7df=extractMainProcessFunction(_0x23eaef,_0x4f680f,_0xd42003);_0xea2dee['push']({'name':_0x2252e9,..._0x21b7df,'isExport':![],'path':_0x40c172,'params':_0x40c172['node'][_0x22e31f(0x2db)]});}},'ObjectMethod'(_0x5d02d8){const _0x4d617a=_0x35a9b5,_0x74e21a=_0x5d02d8[_0x4d617a(0x2fb)][_0x4d617a(0x22e)]||[],_0x441864=_0x74e21a[_0x4d617a(0x225)](_0x125254=>_0x125254[_0x4d617a(0x1f7)][_0x4d617a(0x211)](_0x4d617a(0x21b)));if(_0x441864){const _0x51e0b9=_0x5d02d8[_0x4d617a(0x2fb)][_0x4d617a(0x2dc)][_0x4d617a(0x22c)],_0x2a2d1d=functionNameCountMap[_0x4d617a(0x2ff)](_0x5ef8ca+':'+_0x51e0b9)||0x0,_0x5c647e=generateFunctionId(_0x5ef8ca,_0x51e0b9,_0x2a2d1d),_0x29db94=generateFunctionId(_0x5ef8ca,_0x51e0b9+_0x4d617a(0x20b),_0x2a2d1d);functionNameCountMap['set'](_0x5ef8ca+':'+_0x51e0b9,_0x2a2d1d+0x1);const _0x4d2cdc=generate(_0x5d02d8[_0x4d617a(0x2fb)][_0x4d617a(0x2ab)])[_0x4d617a(0x2bd)],_0x4670bc=_0x4d2cdc['replace'](/^\{\s*|\s*\}$/g,'')[_0x4d617a(0x2fe)](),_0x18dfb6=extractMainProcessFunction(_0x4670bc,_0x5c647e,_0x29db94);_0xea2dee['push']({'name':_0x51e0b9,..._0x18dfb6,'isMethod':!![],'path':_0x5d02d8,'params':_0x5d02d8[_0x4d617a(0x2fb)][_0x4d617a(0x2db)]});}}});for(const _0x16762a of _0xea2dee){const _0x388069=_0x16762a['fnId'];mainProcessFunctions[_0x388069]={'body':_0x16762a[_0x35a9b5(0x2bd)],'name':_0x16762a['name'],'params':_0x16762a[_0x35a9b5(0x2db)]['map'](_0xe4d20c=>_0xe4d20c[_0x35a9b5(0x22c)])};let _0x59579c;!_0x16762a[_0x35a9b5(0x2b5)]?_0x59579c=t[_0x35a9b5(0x2f6)]([t['returnStatement'](t['callExpression'](t['memberExpression'](t[_0x35a9b5(0x2e1)](t['identifier']('window'),t[_0x35a9b5(0x1f1)]('electron')),t['identifier'](_0x35a9b5(0x2e7))),[t['stringLiteral'](_0x388069),t[_0x35a9b5(0x249)](_0x16762a[_0x35a9b5(0x2db)][_0x35a9b5(0x2fd)](_0x2f97e0=>t['objectProperty'](t[_0x35a9b5(0x1f1)](_0x2f97e0[_0x35a9b5(0x22c)]),t[_0x35a9b5(0x1f1)](_0x2f97e0[_0x35a9b5(0x22c)]))))]))]):_0x59579c=t[_0x35a9b5(0x2f6)]([t[_0x35a9b5(0x264)]('const',[t[_0x35a9b5(0x28c)](t['identifier']('promise'),t[_0x35a9b5(0x2c7)](t[_0x35a9b5(0x2e1)](t[_0x35a9b5(0x2e1)](t[_0x35a9b5(0x1f1)](_0x35a9b5(0x1f4)),t[_0x35a9b5(0x1f1)]('electron')),t['identifier'](_0x35a9b5(0x2e7))),[t['stringLiteral'](_0x388069),t[_0x35a9b5(0x249)](_0x16762a['params'][_0x35a9b5(0x2fd)](_0x1a80a1=>t[_0x35a9b5(0x1fa)](t[_0x35a9b5(0x1f1)](_0x1a80a1['name']),t[_0x35a9b5(0x1f1)](_0x1a80a1[_0x35a9b5(0x22c)]))))]))]),t[_0x35a9b5(0x2c6)](t[_0x35a9b5(0x249)]([t[_0x35a9b5(0x1fa)](t[_0x35a9b5(0x1f1)]('live'),t['functionExpression'](null,[t['identifier'](_0x35a9b5(0x2b4))],t[_0x35a9b5(0x2f6)]([t[_0x35a9b5(0x1f0)](t[_0x35a9b5(0x2c7)](t[_0x35a9b5(0x2e1)](t[_0x35a9b5(0x2e1)](t[_0x35a9b5(0x1f1)]('window'),t['identifier'](_0x35a9b5(0x2ad))),t[_0x35a9b5(0x1f1)](_0x35a9b5(0x24b))),[t[_0x35a9b5(0x29c)](_0x16762a[_0x35a9b5(0x245)]),t[_0x35a9b5(0x1f1)](_0x35a9b5(0x2b4))])),t[_0x35a9b5(0x1f0)](t['callExpression'](t[_0x35a9b5(0x2e1)](t[_0x35a9b5(0x1f1)]('promise'),t[_0x35a9b5(0x1f1)](_0x35a9b5(0x250))),[t[_0x35a9b5(0x200)]([t[_0x35a9b5(0x1f1)]('result')],t[_0x35a9b5(0x2c7)](t[_0x35a9b5(0x1f1)]('callback'),[t[_0x35a9b5(0x1f1)](_0x35a9b5(0x25e))]))]))])))]))]);if(_0x16762a[_0x35a9b5(0x1f6)])_0x16762a[_0x35a9b5(0x1ea)][_0x35a9b5(0x226)](t['objectMethod'](_0x35a9b5(0x1e6),t['identifier'](_0x16762a[_0x35a9b5(0x22c)]),_0x16762a[_0x35a9b5(0x2db)],_0x59579c,![],![]),!![]);else{const _0x29c9cb=t[_0x35a9b5(0x20f)](t[_0x35a9b5(0x1f1)](_0x16762a[_0x35a9b5(0x22c)]),_0x16762a[_0x35a9b5(0x2db)],_0x59579c);_0x16762a[_0x35a9b5(0x2cf)]?_0x16762a[_0x35a9b5(0x1ea)][_0x35a9b5(0x226)](t['exportNamedDeclaration'](_0x29c9cb,[])):_0x16762a['path'][_0x35a9b5(0x226)](_0x29c9cb);}}const _0xcde0a5=generate(_0x40f8b8,{'retainLines':!![],'compact':![],'quotes':_0x35a9b5(0x229),'concise':![],'jsescOption':{'quotes':_0x35a9b5(0x229)},'format':{'indent':{'style':_0x35a9b5(0x25a),'adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x5be946=_0xcde0a5[_0x35a9b5(0x2bd)][_0x35a9b5(0x2fc)](/\n\n+/g,'\x0a\x0a')['replace'](/{\s*return\s+/g,'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20')['replace'](/;\s*}/g,_0x35a9b5(0x2d5))[_0x35a9b5(0x2fc)](/,\s*live:\s*function/g,_0x35a9b5(0x2f8))[_0x35a9b5(0x2fc)](/}\s*}\s*$/gm,'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}')[_0x35a9b5(0x2fc)](/async\s+(\w+)\s*\(\)/g,'async\x20$1()')[_0x35a9b5(0x2fc)](/\)\s*{/g,_0x35a9b5(0x2a9));return _0x5be946;}catch(_0x2cab53){return console[_0x35a9b5(0x296)]('处理主进程代码时出错:',_0x2cab53),_0x556296;}}function removePrefix(_0xed317d){const _0x164042=_0x12250d;return _0xed317d[_0x164042(0x2fc)](/^(Main\.|NodeJS\.|PJS\.)/g,'');}function getModuleName(_0x5a5332){const _0x2a6034=_0x12250d,_0x580408=_0x5a5332[_0x2a6034(0x2b2)](/^(\w+)\./);return _0x580408?_0x580408[0x1]:null;}function extractFunctionParams(_0x3a4110){const _0x48fd01=_0x12250d;if(!_0x3a4110||!_0x3a4110[_0x48fd01(0x1f9)]||_0x3a4110[_0x48fd01(0x1f9)]!=='CallExpression')return[];const _0x59a905=_0x3a4110['arguments'][_0x48fd01(0x2fd)](_0x297193=>{const _0x101cd3=_0x48fd01;let _0x1a7361={'type':_0x297193[_0x101cd3(0x1f9)],'value':null};switch(_0x297193[_0x101cd3(0x1f9)]){case _0x101cd3(0x1f5):_0x1a7361['value']=_0x297193[_0x101cd3(0x1f7)];break;case _0x101cd3(0x291):_0x1a7361[_0x101cd3(0x1f7)]=_0x297193[_0x101cd3(0x1f7)];break;case _0x101cd3(0x2c4):_0x1a7361[_0x101cd3(0x1f7)]=_0x297193['value'];break;case _0x101cd3(0x2a6):_0x1a7361[_0x101cd3(0x1f7)]=_0x297193[_0x101cd3(0x22c)];break;case _0x101cd3(0x2e0):_0x1a7361[_0x101cd3(0x1f7)]=generate(_0x297193)['code'];break;case _0x101cd3(0x22b):_0x1a7361[_0x101cd3(0x1f7)]=generate(_0x297193)[_0x101cd3(0x2bd)];break;default:_0x1a7361[_0x101cd3(0x1f7)]=generate(_0x297193)[_0x101cd3(0x2bd)];}return _0x1a7361;});return _0x3a4110[_0x48fd01(0x2a1)]=_0x59a905['map']((_0x16ee6c,_0x4c841b)=>{const _0x691c82=_0x48fd01;return t[_0x691c82(0x1f1)]('arg'+(_0x4c841b+0x1));}),_0x59a905;}function processEmbeddedNativeCode(_0x2ca8e0,_0x4bb479){const _0x282a4c=_0x12250d;try{const _0x3305a8=require(_0x282a4c(0x224)),_0x488bae=require(_0x282a4c(0x2df))['default'],_0x3d617f=_0x3305a8[_0x282a4c(0x2a2)](_0x2ca8e0,{'sourceType':_0x282a4c(0x254),'plugins':['jsx','typescript']});_0x488bae(_0x3d617f,{'MemberExpression'(_0x7566e7){const _0x38412f=_0x282a4c,_0x4fcd6b=_0x7566e7[_0x38412f(0x2ff)]('object');if(!_0x4fcd6b['isIdentifier']())return;const _0x713eb=_0x4fcd6b[_0x38412f(0x2fb)]['name'];if(![_0x38412f(0x1ec),'NodeJS',_0x38412f(0x233)][_0x38412f(0x211)](_0x713eb))return;let _0x2c6299=analyseCompleteUseNode(_0x7566e7[_0x38412f(0x239)],_0x7566e7[_0x38412f(0x239)],_0x7566e7),_0x317943=extractFunctionParams(_0x2c6299[_0x38412f(0x1ea)]['node']),_0x4104b2='{'+_0x317943[_0x38412f(0x2fd)]((_0x3eae72,_0x6c8ffe)=>['StringLiteral',_0x38412f(0x291),_0x38412f(0x2c4)]['includes'](_0x3eae72['type'])?'arg'+(_0x6c8ffe+0x1)+_0x38412f(0x21c)+_0x3eae72[_0x38412f(0x1f7)]+'\x27':_0x38412f(0x2e3)+(_0x6c8ffe+0x1)+':\x20'+_0x3eae72[_0x38412f(0x1f7)])['join'](',')+'}';const _0x13d7cf=generate(_0x2c6299[_0x38412f(0x1ea)][_0x38412f(0x2fb)])[_0x38412f(0x2bd)];let _0x458b00=removePrefix(_0x13d7cf);const _0x543d9f=getModuleName(_0x458b00),_0x30f9a9=_0x2c6299[_0x38412f(0x2d6)]==_0x38412f(0x258)?!![]:![];_0x30f9a9&&_0x458b00;const _0x4842b6=_0x7566e7[_0x38412f(0x2fb)]['loc'][_0x38412f(0x259)]['line'],_0x43aead=Math[_0x38412f(0x23a)](Math[_0x38412f(0x232)]()*0x15f90)+0x2710,_0x5a48e9=generateFunctionId(_0x4bb479,_0x713eb+'_'+_0x4842b6,_0x43aead),_0x1eafcf=generateFunctionId(_0x4bb479,_0x713eb+'_'+_0x4842b6+'_callback',_0x43aead);console[_0x38412f(0x25f)](_0x38412f(0x298),_0x5a48e9);if(_0x713eb==_0x38412f(0x1ec))functionBody=_0x38412f(0x266)+_0x543d9f+'\x20}\x20=\x20require(\x27electron\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20'+_0x458b00+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x713eb=='NodeJS')functionBody=_0x38412f(0x2b6)+_0x543d9f+'\x20=\x20require(\x27'+_0x543d9f+_0x38412f(0x2d2)+_0x458b00+_0x38412f(0x299);else{if(_0x713eb=='PJS'){}}}let _0x3f9793=_0x30f9a9?_0x4104b2:'{}';mainProcessFunctions[_0x5a48e9]={'body':functionBody,'name':_0x13d7cf,'params':_0x317943[_0x38412f(0x2fd)]((_0x5b0e75,_0x293829)=>[_0x38412f(0x1f5),_0x38412f(0x291),_0x38412f(0x2c4)][_0x38412f(0x211)](_0x5b0e75[_0x38412f(0x1f9)])?_0x38412f(0x2e3)+(_0x293829+0x1):'arg'+(_0x293829+0x1))};const _0x1e3f64=_0x38412f(0x289)+_0x5a48e9+'\x27,\x20'+_0x3f9793+')';_0x2c6299[_0x38412f(0x1ea)][_0x38412f(0x2ec)](_0x1e3f64);}});const _0x1aee2c=generate(_0x3d617f,{'retainLines':!![],'compact':![],'quotes':_0x282a4c(0x229),'concise':![],'jsescOption':{'quotes':'single'},'format':{'indent':{'style':_0x282a4c(0x25a),'adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x540d24=_0x1aee2c[_0x282a4c(0x2bd)][_0x282a4c(0x2fc)](/\n\n+/g,'\x0a\x0a')[_0x282a4c(0x2fc)](/{\s*return\s+/g,_0x282a4c(0x212))[_0x282a4c(0x2fc)](/;\s*}/g,_0x282a4c(0x2d5))[_0x282a4c(0x2fc)](/,\s*live:\s*function/g,',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function')[_0x282a4c(0x2fc)](/}\s*}\s*$/gm,_0x282a4c(0x2a4))[_0x282a4c(0x2fc)](/async\s+(\w+)\s*\(\)/g,_0x282a4c(0x2bc))[_0x282a4c(0x2fc)](/\)\s*{/g,')\x20{');return _0x540d24;}catch(_0x8d1798){return console[_0x282a4c(0x296)](_0x282a4c(0x2e4),_0x8d1798),_0x2ca8e0;}}function generateMainProcessRegistration(){const _0xa00d49=_0x12250d,_0x1b33b2=[_0xa00d49(0x2b9),_0xa00d49(0x2ef),_0xa00d49(0x236),'BrowserView',_0xa00d49(0x27c),_0xa00d49(0x2f2),_0xa00d49(0x23f),_0xa00d49(0x207),'desktopCapturer',_0xa00d49(0x276),'globalShortcut',_0xa00d49(0x2e9),_0xa00d49(0x2fa),_0xa00d49(0x28d),_0xa00d49(0x27e),_0xa00d49(0x24a),'nativeImage','nativeTheme','net',_0xa00d49(0x203),_0xa00d49(0x2c2),_0xa00d49(0x2ba),'powerMonitor',_0xa00d49(0x2ed),_0xa00d49(0x2ea),'pushNotifications',_0xa00d49(0x240),_0xa00d49(0x246),_0xa00d49(0x295),'ShareMenu',_0xa00d49(0x237),_0xa00d49(0x277),_0xa00d49(0x29f),'Tray','utilityProcess',_0xa00d49(0x25c),_0xa00d49(0x20a),'webFrameMain','View'],_0x46cf69=['os','fs',_0xa00d49(0x1ea),_0xa00d49(0x24c),_0xa00d49(0x260),_0xa00d49(0x2c5),_0xa00d49(0x2cb),'stream',_0xa00d49(0x29a),_0xa00d49(0x1e7),'cluster','dns',_0xa00d49(0x210),_0xa00d49(0x2a5),'assert','module'],_0x3e8acc=new Set([_0xa00d49(0x2fa)]),_0x1d151b=new Set();for(const [_0x1dba79,_0x30444d]of Object[_0xa00d49(0x306)](mainProcessFunctions)){const _0x2ecafc=_0x30444d[_0xa00d49(0x2ab)];_0x1b33b2['forEach'](_0x5e19cc=>{const _0x34bb1e=_0xa00d49;_0x2ecafc[_0x34bb1e(0x211)](_0x5e19cc+'.')&&_0x3e8acc[_0x34bb1e(0x2f9)](_0x5e19cc);}),_0x46cf69['forEach'](_0x534748=>{const _0xa762e0=_0xa00d49;_0x2ecafc[_0xa762e0(0x211)](_0x534748+'.')&&_0x1d151b[_0xa762e0(0x2f9)](_0x534748);});}let _0x22c9d7='';_0x3e8acc[_0xa00d49(0x257)]>0x0&&(_0x22c9d7+=_0xa00d49(0x2ce)+Array[_0xa00d49(0x2aa)](_0x3e8acc)['join'](',\x20')+_0xa00d49(0x216));_0x1d151b[_0xa00d49(0x257)]>0x0&&(Array[_0xa00d49(0x2aa)](_0x1d151b)[_0xa00d49(0x2c3)](_0x4a82d3=>{const _0xc79223=_0xa00d49;_0x22c9d7+=_0xc79223(0x293)+_0x4a82d3+_0xc79223(0x26d)+_0x4a82d3+_0xc79223(0x1f3);}),_0x22c9d7+='\x0a');_0x22c9d7+=_0xa00d49(0x251),_0x22c9d7+=_0xa00d49(0x2b7);for(const [_0x1938ef,_0x2dc8a2]of Object[_0xa00d49(0x306)](mainProcessFunctions)){_0x22c9d7+=_0xa00d49(0x2e5)+_0x2dc8a2[_0xa00d49(0x22c)]+'\x0a',_0x22c9d7+='\x20\x20'+_0x1938ef+':\x20async\x20function('+_0x2dc8a2[_0xa00d49(0x2db)][_0xa00d49(0x282)](',\x20')+_0xa00d49(0x283),_0x22c9d7+='\x20\x20\x20\x20'+_0x2dc8a2[_0xa00d49(0x2ab)]+'\x0a',_0x22c9d7+=_0xa00d49(0x268);}return _0x22c9d7+=_0xa00d49(0x235),_0x22c9d7+='function\x20registerMainFunctions()\x20{\x0a',_0x22c9d7+=_0xa00d49(0x2e2),_0x22c9d7+='\x20\x20\x20\x20try\x20{\x0a',_0x22c9d7+=_0xa00d49(0x305),_0x22c9d7+='\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a',_0x22c9d7+=_0xa00d49(0x2d7),_0x22c9d7+='\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a',_0x22c9d7+=_0xa00d49(0x218),_0x22c9d7+='\x20\x20\x20\x20\x20\x20};\x0a\x0a',_0x22c9d7+=_0xa00d49(0x20e),_0x22c9d7+='\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a',_0x22c9d7+=_0xa00d49(0x2f4),_0x22c9d7+=_0xa00d49(0x253),_0x22c9d7+='\x20\x20\x20\x20}\x0a',_0x22c9d7+=_0xa00d49(0x2c8),_0x22c9d7+=_0xa00d49(0x235),_0x22c9d7+=_0xa00d49(0x263),_0x22c9d7;}const startTime=Date[_0x12250d(0x26e)]();let processedFiles=0x0;function _0x1855(){const _0x54464e=['powerSaveBlocker','✅\x20成功编译:\x20','autoUpdater','cwd','✅\x20生成\x20fn.js:\x20','clipboard','readFileSync','\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a','preload.js','blockStatement','✅\x20编译完成，准备启动服务...',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function','add','ipcMain','node','replace','map','trim','get','statSync','🔄\x20重新组合\x20Vue\x20文件内容...','isEmbedMain\x20||\x20isEmbedNodeJS\x20||\x20isEmbedPJS','getFullYear','padStart','\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a','entries','.vue','logs','./utils/watcher','info','method','child_process','package.json','unlinkSync','path','🔍\x20检查\x20Vue\x20文件:\x20','Main','out','getHours','❌\x20处理失败:\x20','expressionStatement','identifier','default','\x27);\x0a','window','StringLiteral','isMethod','value','__FUNCTION_','type','objectProperty','1125892xUjsBy','indexOf','🔍\x20仅处理:\x20','scripts','slice','arrowFunctionExpression','.gitignore','✅\x20处理\x20Vue\x20文件完成:\x20','netLog','dirname','existsSync','toFixed','crashReporter','srcPath','📝\x20处理\x20script\x20部分...','WebContentsView','_callback','relativePath:','exit','\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a','functionDeclaration','tls','includes','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20','basename','let\x20_callbackCount\x20=\x200;\x0a','Main.','\x20}\x20=\x20require(\x27electron\x27);\x0a','🗑️\x20删除输出目录:\x20','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a','.git/','getDate','@mainProcess',':\x20\x27','🚀\x20开始全量编译...','.svn','dist','this.callback','main','scripts/','✅\x20成功处理\x20main/main.js:\x20','@babel/parser','some','replaceWith','✅\x20已清理\x20out\x20目录（保留\x20node_modules）','✅\x20创建输出目录:\x20','single','⚠️\x20文件不存在:\x20','ArrayExpression','name','⚠️\x20跳过文件:\x20','leadingComments','getMinutes','[LOG]\x20','3813216ZAJNod','random','PJS',',\x20++_callbackCount)','}\x0a\x0a','BaseWindow','shell','endsWith','parentPath','floor','outPath:\x20','✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20','❌\x20处理\x20Vue\x20文件时出错:','28097631vovjlC','contentTracing','safeStorage','--file','✅\x20全量编译完成，日志已保存到:\x20','.idea','split','callbackId','screen','outDir:','cli.js','objectExpression','MessagePortMain','registerCallback','crypto','testdemo2','❌\x20无法处理:\x20','检查是否需要\x20preload.js:\x20','then','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);setupConsoleRedirect();\x0a','🔧\x20特殊处理\x20main/main.js:\x20','\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a','module','rmSync','1408548NEFaID','size','call','start','\x20\x20\x20\x20',',\x20preload\x20路径:\x20','webContents','[INFO]\x20','result','log','http','typescript','检查窗口目录:\x20','module.exports\x20=\x20{\x20registerMainFunctions\x20}\x0a','variableDeclaration','.live','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20','./utils/main-process-handler','\x20\x20},\x0a','README.md','./utils/fn-updater','🔍\x20处理文件:\x20','getSeconds','\x20=\x20require(\x27','now','node_modules','2164122FUZcgx','log_','declaration','getMonth','this.sendToRenderer(\x27','length','dialog','systemPreferences','--out-dir','./utils/static-file-copier','./shared/watch-manager','isFunctionDeclaration','BrowserWindow','📋\x20复制文件:\x20','MessageChannelMain','out\x5c','isFile','📁\x20输出目录:\x20','join',')\x20{\x0a','⚠️\x20跳过非窗口目录路径:\x20','8796tkVlvp','.html','[WARN]\x20','writeFileSync','window.electron.callMainFunction(\x27','./utils/preload-process-handler','📋\x20复制并混淆文件:\x20/code/main/','variableDeclarator','Menu','warn','outPath','🗑️\x20删除:\x20','NumericLiteral','[ERROR]\x20','const\x20','🔧\x20生成主进程函数注册文件...','session','error','windows','fnId',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','events','15MAbxRY','stringLiteral','isDirectory','push','TouchBar','relative','arguments','parse','🔍\x20处理文件rootDir:\x20','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}','readline','Identifier','testdemo','--root-dir',')\x20{','from','body','copyFileSync','electron','logToConsole','startsWith','./utils/content-processor','set','match','\x27,\x20','callback','hasCallback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20','\x0aconst\x20fn\x20=\x20{\x0a','yarn.lock','app','parentPort','mkdirSync','async\x20$1()','code','utf-8','./utils/ast-transformer','3507294XPMryb','🔍\x20outPath处理文件:\x20','Notification','forEach','BooleanLiteral','https','returnStatement','callExpression','\x20\x20});\x0a','NodeJS.','main.js','net','📂\x20正在处理:\x20','🔧\x20处理根目录\x20package.json:\x20','const\x20{\x20','isExport','.vscode','.qodo','\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20','out/','@babel/types',';\x0a\x20\x20\x20\x20}','pathType','\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a','📁\x20根目录:\x20','argv','readdirSync','params','key','windows/','PJS.','@babel/traverse','ObjectExpression','memberExpression','\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a','arg','处理嵌入的原生代码时出错:','\x20\x20//\x20','fn.js','callMainFunction','✅\x20全量编译完成\x20-\x20处理了\x20','inAppPurchase','protocol','354llLtcq','replaceWithSourceString'];_0x1855=function(){return _0x54464e;};return _0x1855();}function getNormalizedOutPath(_0x477fe8,_0x574ec1){const _0x40f760=_0x12250d;console[_0x40f760(0x25f)](_0x40f760(0x2cc)+_0x477fe8+_0x40f760(0x25a)+_0x574ec1);if(_0x477fe8[_0x40f760(0x2af)]('out/')||_0x477fe8['startsWith'](_0x40f760(0x27f)))return path[_0x40f760(0x282)](rootDir,_0x477fe8);return path[_0x40f760(0x282)](_0x574ec1,_0x477fe8);}function ensureOutDirExists(){const _0xd0eb29=_0x12250d;if(fs[_0xd0eb29(0x205)](outDir)){const _0x30d12f=path[_0xd0eb29(0x282)](outDir,_0xd0eb29(0x26f)),_0x5848b9=fs[_0xd0eb29(0x2da)](outDir);if(fs[_0xd0eb29(0x205)](_0x30d12f)){console['log']('🔍\x20检测到\x20node_modules，将保留该目录');for(const _0x571b38 of _0x5848b9){if(_0x571b38!==_0xd0eb29(0x26f)){const _0x115378=path[_0xd0eb29(0x282)](outDir,_0x571b38);fs[_0xd0eb29(0x300)](_0x115378)[_0xd0eb29(0x29d)]()?fs[_0xd0eb29(0x255)](_0x115378,{'recursive':!![],'force':!![]}):fs[_0xd0eb29(0x1e9)](_0x115378),console[_0xd0eb29(0x25f)](_0xd0eb29(0x290)+_0x571b38);}}console[_0xd0eb29(0x25f)](_0xd0eb29(0x227));}else{for(const _0x10a1bc of _0x5848b9){const _0x2b520a=path[_0xd0eb29(0x282)](outDir,_0x10a1bc);fs[_0xd0eb29(0x300)](_0x2b520a)[_0xd0eb29(0x29d)]()?fs[_0xd0eb29(0x255)](_0x2b520a,{'recursive':!![],'force':!![]}):fs[_0xd0eb29(0x1e9)](_0x2b520a),console[_0xd0eb29(0x25f)](_0xd0eb29(0x290)+_0x10a1bc);}console['log'](_0xd0eb29(0x217)+outDir);}}fs[_0xd0eb29(0x2bb)](outDir,{'recursive':!![]}),console[_0xd0eb29(0x25f)](_0xd0eb29(0x228)+outDir);}function processFile(_0xc72e56,_0x2d0c06){const _0xb41f60=_0x12250d;try{}catch(_0x7f46b2){return console[_0xb41f60(0x296)](_0xb41f60(0x1ef)+_0xc72e56,_0x7f46b2),![];}console[_0xb41f60(0x25f)](_0xb41f60(0x2a3)+rootDir),_0xc72e56=path['resolve'](rootDir,_0xc72e56),console[_0xb41f60(0x25f)](_0xb41f60(0x26b)+_0xc72e56);const _0x3e792d=path['relative'](rootDir,_0xc72e56),_0x4b568b=singleFileMode?_0x2d0c06:path[_0xb41f60(0x282)](process[_0xb41f60(0x2f0)](),_0xb41f60(0x1ed));console[_0xb41f60(0x25f)](_0xb41f60(0x247),_0x4b568b),console['log'](_0xb41f60(0x20c),_0x3e792d);const _0x173be6=getNormalizedOutPath(_0x3e792d,_0x4b568b);console[_0xb41f60(0x25f)](_0xb41f60(0x2c1)+_0x173be6);const _0x46f841=path[_0xb41f60(0x204)](_0x173be6);if(!fs[_0xb41f60(0x205)](_0xc72e56))return console[_0xb41f60(0x25f)](_0xb41f60(0x22a)+_0xc72e56),_0xc72e56[_0xb41f60(0x211)](_0xb41f60(0x297)+path['sep'])&&path[_0xb41f60(0x213)](_0xc72e56)===_0xb41f60(0x2f5)?(writeDefaultPreloadFileWhenDeleted(compileDir,_0x4b568b,_0x173be6,_0xc72e56),![]):![];if(_0x3e792d['includes']('node_modules/')||_0x3e792d['includes'](_0xb41f60(0x219))||_0x3e792d[_0xb41f60(0x211)](_0xb41f60(0x2d3))||_0x3e792d[_0xb41f60(0x2af)](_0xb41f60(0x222)))return![];!fs['existsSync'](_0x46f841)&&(fs[_0xb41f60(0x2bb)](_0x46f841,{'recursive':!![]}),console['log']('📁\x20创建目录:\x20'+_0x46f841));if(_0xc72e56[_0xb41f60(0x238)]('.js')){const _0x6dd8ea=fs[_0xb41f60(0x2f3)](_0xc72e56,_0xb41f60(0x2be));if(path[_0xb41f60(0x213)](_0xc72e56)===_0xb41f60(0x2ca)&&path[_0xb41f60(0x204)](_0xc72e56)[_0xb41f60(0x238)](_0xb41f60(0x221))){console[_0xb41f60(0x25f)](_0xb41f60(0x252)+_0x3e792d);const _0x5ab89c=processMainProcessFile(_0x6dd8ea,_0x3e792d),_0x55459a=obfuscatorJS(_0x5ab89c);fs[_0xb41f60(0x288)](_0x173be6,_0x55459a),console['log'](_0xb41f60(0x223)+_0x3e792d);}else{if(path[_0xb41f60(0x213)](_0xc72e56)===_0xb41f60(0x2f5))return _0x3e792d[_0xb41f60(0x2af)](_0xb41f60(0x2dd))?(console[_0xb41f60(0x25f)]('🔧\x20跳过\x20窗口目录下的\x20preload.js:\x20'+_0x3e792d),![]):(console[_0xb41f60(0x25f)]('🔧\x20跳过根preload.js:\x20'+_0x3e792d),![]);else{const _0x56dfa5=_0x6dd8ea['includes'](_0xb41f60(0x21b)),_0x40ed69=_0x6dd8ea[_0xb41f60(0x211)]('Main.'),_0x344793=_0x6dd8ea[_0xb41f60(0x211)]('NodeJS.'),_0x4747c7=_0x6dd8ea[_0xb41f60(0x211)](_0xb41f60(0x2de));console[_0xb41f60(0x25f)]('isEmbedMain,isEmbedNodeJS,isEmbedPJS',_0x40ed69,_0x344793,_0x4747c7);if(_0x56dfa5||_0x40ed69||_0x344793||_0x4747c7){console['log']('🔧\x20处理主进程文件:\x20'+_0x3e792d);let _0x29a6ca='';_0x56dfa5&&(_0x29a6ca=processVueMainProcessCode(_0x6dd8ea,_0xc72e56));(_0x40ed69||_0x344793||_0x4747c7)&&(_0x29a6ca=processEmbeddedNativeCode(_0x29a6ca,_0xc72e56,{'isEmbedMain':_0x40ed69,'isEmbedNodeJS':_0x344793,'isEmbedPJS':_0x4747c7}),console[_0xb41f60(0x25f)](_0x29a6ca));if(_0x29a6ca){fs[_0xb41f60(0x288)](_0x173be6,_0x29a6ca);if(!isFullCompile){const _0x4b6fe3=generateMainProcessRegistration();updateFnFile(_0x4b568b,rootDir,_0xc72e56,_0x4b6fe3);}}console[_0xb41f60(0x25f)](_0xb41f60(0x2ee)+_0x3e792d);}else fs['copyFileSync'](_0xc72e56,_0x173be6),console['log'](_0xb41f60(0x27d)+_0x3e792d);}}}else{if(_0xc72e56[_0xb41f60(0x238)](_0xb41f60(0x307))){const _0x2479ff=fs[_0xb41f60(0x2f3)](_0xc72e56,_0xb41f60(0x2be));console[_0xb41f60(0x25f)](_0xb41f60(0x1eb)+_0x3e792d);const _0x4a02d2=_0x2479ff[_0xb41f60(0x211)](_0xb41f60(0x21b))||_0x2479ff[_0xb41f60(0x211)](_0xb41f60(0x265)),_0x3f8912=_0x2479ff[_0xb41f60(0x211)](_0xb41f60(0x215)),_0x448e47=_0x2479ff['includes'](_0xb41f60(0x2c9)),_0x52d890=_0x2479ff[_0xb41f60(0x211)](_0xb41f60(0x2de));if(_0x4a02d2||_0x3f8912||_0x448e47||_0x52d890){console['log']('🔧\x20处理\x20Vue\x20文件:\x20'+_0x3e792d);let _0xdf3ecd=processVueFile(_0x2479ff,_0xc72e56);if(_0xdf3ecd){fs[_0xb41f60(0x288)](_0x173be6,_0xdf3ecd),console[_0xb41f60(0x25f)](_0xb41f60(0x23b)+_0x173be6);if(!isFullCompile){const _0xc6c7ac=generateMainProcessRegistration();updateFnFile(_0x4b568b,rootDir,_0xc72e56,_0xc6c7ac);}}}else console['log'](_0xb41f60(0x208),_0xb41f60(0x28f)),console[_0xb41f60(0x25f)](_0xc72e56,_0x173be6),fs['copyFileSync'](_0xc72e56,_0x173be6);console[_0xb41f60(0x25f)](_0xb41f60(0x202)+_0x3e792d);}else{if(_0xc72e56[_0xb41f60(0x238)](_0xb41f60(0x286)))fs[_0xb41f60(0x2ac)](_0xc72e56,_0x173be6),console[_0xb41f60(0x25f)]('📋\x20复制\x20HTML\x20文件:\x20'+_0x3e792d);else path[_0xb41f60(0x213)](_0xc72e56)===_0xb41f60(0x1e8)&&path[_0xb41f60(0x204)](_0xc72e56)===rootDir?(console[_0xb41f60(0x25f)](_0xb41f60(0x2cd)+_0x3e792d),processPackageJson(_0xc72e56,_0x173be6)):(fs[_0xb41f60(0x2ac)](_0xc72e56,_0x173be6),console[_0xb41f60(0x25f)]('📋\x20复制文件:\x20'+_0x3e792d));}}return processedFiles++,!![];}const IGNORE_DIRS=['node_modules',_0x12250d(0x1ed),'.git','doc',_0x12250d(0x2b8),_0x12250d(0x21f),'mixone',_0x12250d(0x24d),,_0x12250d(0x269),_0x12250d(0x248),_0x12250d(0x2a7),'testdemo3','testdemo4','publish.js',_0x12250d(0x201),_0x12250d(0x1fe),_0x12250d(0x21e),_0x12250d(0x2d1),_0x12250d(0x243),_0x12250d(0x2d0)];function processDir(_0x355225){const _0x4d17a7=_0x12250d;try{const _0x145419=fs[_0x4d17a7(0x2da)](_0x355225);for(const _0x2f6729 of _0x145419){const _0x5dab5b=path['join'](_0x355225,_0x2f6729);if(IGNORE_DIRS['includes'](_0x2f6729))continue;try{const _0x20825d=fs[_0x4d17a7(0x300)](_0x5dab5b);if(_0x20825d[_0x4d17a7(0x29d)]())processDir(_0x5dab5b);else _0x20825d[_0x4d17a7(0x280)]()&&processFile(_0x5dab5b);}catch(_0x3af162){console[_0x4d17a7(0x296)](_0x4d17a7(0x24e)+_0x5dab5b,_0x3af162);}}}catch(_0x4575a3){console[_0x4d17a7(0x296)]('❌\x20扫描目录失败:\x20'+_0x355225,_0x4575a3);}}function copyScriptsMainFiles(_0x5b5702,_0x2fbb21,_0x5a2f80){const _0x1e1f1f=_0x12250d,_0x597d5d=path['join'](_0x5a2f80,_0x1e1f1f(0x2bd),_0x1e1f1f(0x221)),_0x25ea5d=path[_0x1e1f1f(0x282)](_0x2fbb21,_0x1e1f1f(0x221));if(fs[_0x1e1f1f(0x205)](_0x597d5d)){!fs[_0x1e1f1f(0x205)](_0x25ea5d)&&fs[_0x1e1f1f(0x2bb)](_0x25ea5d,{'recursive':!![]});const _0x43fe0e=fs[_0x1e1f1f(0x2da)](_0x597d5d);for(const _0x826802 of _0x43fe0e){const _0x235b1c=path['join'](_0x597d5d,_0x826802),_0x2d861d=path['join'](_0x25ea5d,_0x826802);if(fs[_0x1e1f1f(0x300)](_0x235b1c)[_0x1e1f1f(0x280)]()){const _0x1b24f3=fs[_0x1e1f1f(0x2f3)](_0x235b1c,'utf-8');fs['writeFileSync'](_0x2d861d,obfuscatorJS(_0x1b24f3)),console[_0x1e1f1f(0x25f)](_0x1e1f1f(0x28b)+_0x826802+'\x20->\x20out/main/'+_0x826802);}}}}function compileAll(){const _0x320b3a=_0x12250d;console[_0x320b3a(0x25f)](_0x320b3a(0x21d)),setupLogCollector(),console[_0x320b3a(0x25f)](_0x320b3a(0x2d8)+rootDir),console['log'](_0x320b3a(0x281)+outDir),copyScriptsMainFiles(rootDir,outDir,compileDir),processDir(rootDir),checkWindowPreloadAndCopy(rootDir,outDir,compileDir),copyStaticFilesToWindowDirs(rootDir,outDir,compileDir),copyScriptsToOutputRoot(rootDir,outDir,compileDir);if(Object['keys'](mainProcessFunctions)[_0x320b3a(0x275)]>0x0){console['log'](_0x320b3a(0x294));const _0x705120=path[_0x320b3a(0x282)](outDir,'main',_0x320b3a(0x2e6));fs['mkdirSync'](path[_0x320b3a(0x204)](_0x705120),{'recursive':!![]});const _0x15b5d5=generateMainProcessRegistration();fs[_0x320b3a(0x288)](_0x705120,obfuscatorJS(_0x15b5d5)),console[_0x320b3a(0x25f)](_0x320b3a(0x2f1)+path[_0x320b3a(0x2a0)](rootDir,_0x705120));}const _0x545d3a=((Date[_0x320b3a(0x26e)]()-startTime)/0x3e8)[_0x320b3a(0x206)](0x2);console[_0x320b3a(0x25f)](_0x320b3a(0x2e8)+processedFiles+'\x20个文件，耗时\x20'+_0x545d3a+'s'),saveLogsToFile();}function checkWindowDirPreload(_0x2517ca){const _0x3aff23=_0x12250d,_0x54899c=path[_0x3aff23(0x2a0)](rootDir,_0x2517ca)['replace'](/\\/g,'/');console['log'](_0x3aff23(0x24f)+_0x54899c);if(_0x54899c[_0x3aff23(0x2af)](_0x3aff23(0x2dd))||_0x54899c[_0x3aff23(0x2af)]('windows\x5c')){let _0x5e35ff,_0x1cd807=_0x54899c[_0x3aff23(0x244)]('/');_0x1cd807['length']<0x2&&(_0x1cd807=_0x54899c['split']('\x5c'));if(_0x1cd807['length']>=0x2){_0x5e35ff=_0x1cd807[0x1];if(_0x5e35ff[_0x3aff23(0x211)]('.')){console[_0x3aff23(0x25f)](_0x3aff23(0x22d)+_0x5e35ff+'\x20(不是窗口目录)');return;}const _0x13ba84=path['join'](rootDir,_0x3aff23(0x297),_0x5e35ff);if(!fs[_0x3aff23(0x205)](_0x13ba84)||!fs['statSync'](_0x13ba84)[_0x3aff23(0x29d)]()){console['log'](_0x3aff23(0x284)+_0x13ba84);return;}const _0x48e0d1=path[_0x3aff23(0x282)](_0x13ba84,_0x3aff23(0x2f5));console[_0x3aff23(0x25f)](_0x3aff23(0x262)+_0x5e35ff+_0x3aff23(0x25b)+_0x48e0d1);if(!fs[_0x3aff23(0x205)](_0x48e0d1)){const _0x449d4e=path['join'](rootDir,'preload.js');if(fs[_0x3aff23(0x205)](_0x449d4e)){const _0x2626c3=getNormalizedOutPath('windows/'+_0x5e35ff,outDir),_0x407cdb=path[_0x3aff23(0x282)](_0x2626c3,'preload.js');!fs[_0x3aff23(0x205)](_0x2626c3)&&fs[_0x3aff23(0x2bb)](_0x2626c3,{'recursive':!![]});const _0x530767=fs[_0x3aff23(0x2f3)](_0x449d4e,_0x3aff23(0x2be));fs[_0x3aff23(0x288)](_0x407cdb,_0x530767),console[_0x3aff23(0x25f)](_0x3aff23(0x23c)+path[_0x3aff23(0x2a0)](rootDir,_0x407cdb));}}}}}function processVueFile(_0x258d45,_0x1420c1){const _0x5e2918=_0x12250d;try{console[_0x5e2918(0x25f)]('🔍\x20开始处理\x20Vue\x20文件...');const {template:_0x5f2fbb,script:_0x49b37b,styles:_0x4fe8f3}=parseVueFile(_0x258d45);if(!_0x49b37b)return console['log']('⚠️\x20Vue\x20文件没有\x20script\x20部分'),_0x258d45;console[_0x5e2918(0x25f)](_0x5e2918(0x209));const _0x1b3fc0=_0x49b37b['includes'](_0x5e2918(0x21b)),_0x3e247a=_0x49b37b[_0x5e2918(0x211)](_0x5e2918(0x215)),_0x58eda3=_0x49b37b[_0x5e2918(0x211)](_0x5e2918(0x2c9)),_0x2128cc=_0x49b37b[_0x5e2918(0x211)]('PJS.');let _0x3c1767='';_0x1b3fc0&&(_0x3c1767=processVueMainProcessCode(_0x49b37b,_0x1420c1));console[_0x5e2918(0x25f)](_0x5e2918(0x302)),console[_0x5e2918(0x25f)](_0x3e247a||_0x58eda3||_0x2128cc);(_0x3e247a||_0x58eda3||_0x2128cc)&&(_0x3c1767=processEmbeddedNativeCode(_0x3c1767,_0x1420c1,{'isEmbedMain':_0x3e247a,'isEmbedNodeJS':_0x58eda3,'isEmbedPJS':_0x2128cc}));console[_0x5e2918(0x25f)](_0x5e2918(0x301));const _0x433bb2=generateVueFile(_0x5f2fbb,_0x3c1767,_0x4fe8f3);return console['log']('✅\x20Vue\x20文件处理完成'),_0x433bb2;}catch(_0x491512){return console[_0x5e2918(0x296)](_0x5e2918(0x23d),_0x491512),_0x258d45;}}function parseVueFile(_0x2024f5){const _0x38dc40=_0x12250d,_0x49ebfc=_0x2024f5[_0x38dc40(0x2b2)](/<template>([\s\S]*)<\/template>/),_0x2bd044=_0x2024f5[_0x38dc40(0x2b2)](/<script>([\s\S]*)<\/script>/),_0x238658=_0x2024f5[_0x38dc40(0x2b2)](/<style[^>]*>([\s\S]*?)<\/style>/g);return{'template':_0x49ebfc?_0x49ebfc[0x0]:'','script':_0x2bd044?_0x2bd044[0x1]:'','styles':_0x238658||[]};}function generateVueFile(_0x18ed6d,_0x5c9b89,_0x22941c){const _0x3c78d0=_0x12250d;let _0x371efb='';return _0x18ed6d&&(_0x371efb+=_0x18ed6d+'\x0a\x0a'),_0x5c9b89&&(_0x371efb+='<script>\x0a'+_0x5c9b89+'\x0a</script>\x0a\x0a'),_0x22941c&&_0x22941c['length']>0x0&&(_0x371efb+=_0x22941c[_0x3c78d0(0x282)]('\x0a\x0a')),_0x371efb;}(function main(){const _0x53719e=_0x12250d;if(singleFileMode&&singleFilePath){console[_0x53719e(0x25f)](_0x53719e(0x1fd)+singleFilePath),processFile(singleFilePath,_outDir),checkWindowDirStaticFiles(singleFilePath,rootDir,outDir);return;}ensureOutDirExists(),compileAll(),watchMode?setupCompileWatcher(processFile,checkWindowDirPreload):(console[_0x53719e(0x25f)](_0x53719e(0x2f7)),process[_0x53719e(0x20d)](0x0));}(),module['exports']={'checkWindowDirPreload':checkWindowDirPreload});