const _0x320639=_0x151d;(function(_0x281525,_0x5d72ed){const _0x2f8149=_0x151d,_0xa0a7b2=_0x281525();while(!![]){try{const _0x38603c=-parseInt(_0x2f8149(0x182))/0x1*(parseInt(_0x2f8149(0x1e9))/0x2)+-parseInt(_0x2f8149(0x129))/0x3+parseInt(_0x2f8149(0x168))/0x4+-parseInt(_0x2f8149(0x1e1))/0x5+-parseInt(_0x2f8149(0x1c7))/0x6+parseInt(_0x2f8149(0x170))/0x7+-parseInt(_0x2f8149(0x1d7))/0x8*(-parseInt(_0x2f8149(0x1ff))/0x9);if(_0x38603c===_0x5d72ed)break;else _0xa0a7b2['push'](_0xa0a7b2['shift']());}catch(_0x5ca256){_0xa0a7b2['push'](_0xa0a7b2['shift']());}}}(_0x37ad,0xc6b1b));const fs=require('fs'),path=require('path'),chokidar=require('chokidar'),watchManager=require('./shared/watch-manager'),crypto=require(_0x320639(0x15d)),parser=require('@babel/parser'),traverse=require(_0x320639(0x18e))[_0x320639(0x175)],generate=require(_0x320639(0x132))[_0x320639(0x175)],t=require('@babel/types'),{setupCompileWatcher}=require(_0x320639(0x1af)),{transformCode,analyseCompleteUseNode,transformVueScript}=require(_0x320639(0x1b1)),{updateFnFile}=require(_0x320639(0x18c)),{copyStaticFilesToWindowDirs,checkWindowDirStaticFiles,copyScriptsToOutputRoot}=require(_0x320639(0x1ea)),{processPackageJson}=require(_0x320639(0xec)),{processMainProcessFile}=require(_0x320639(0x1da)),{checkWindowPreloadAndCopy,writeDefaultPreloadFileWhenDeleted}=require('./utils/preload-process-handler'),{obfuscatorJS}=require(_0x320639(0x21a));let compileLogs=[],isCollectingLogs=![];const originalConsole={'log':console['log'],'info':console[_0x320639(0x1cf)],'warn':console[_0x320639(0x1f8)],'error':console[_0x320639(0x11a)]},CONFIG={'logToConsole':![]};function setupLogCollector(){const _0x508c98=_0x320639;if(!isFullCompile)return;isCollectingLogs=!![],compileLogs=[],console[_0x508c98(0x161)]=(..._0x303537)=>{const _0x17468d=_0x508c98,_0x4269bc=_0x17468d(0x139)+_0x303537['join']('\x20');compileLogs[_0x17468d(0x1bd)](_0x4269bc),CONFIG[_0x17468d(0x1a1)]&&originalConsole[_0x17468d(0x161)](_0x4269bc);},console[_0x508c98(0x1cf)]=(..._0x2244e8)=>{const _0x4cc2f1=_0x508c98,_0x3f0032=_0x4cc2f1(0x187)+_0x2244e8[_0x4cc2f1(0x17a)]('\x20');compileLogs[_0x4cc2f1(0x1bd)](_0x3f0032),CONFIG['logToConsole']&&originalConsole['info'](_0x3f0032);},console['warn']=(..._0x1dfd86)=>{const _0x489425=_0x508c98,_0x134246=_0x489425(0x178)+_0x1dfd86['join']('\x20');compileLogs[_0x489425(0x1bd)](_0x134246),CONFIG[_0x489425(0x1a1)]&&originalConsole[_0x489425(0x1f8)](_0x134246);},console[_0x508c98(0x11a)]=(..._0xb80fa)=>{const _0x1d75fa=_0x508c98,_0x4884b4=_0x1d75fa(0x10b)+_0xb80fa[_0x1d75fa(0x17a)]('\x20');compileLogs[_0x1d75fa(0x1bd)](_0x4884b4),CONFIG[_0x1d75fa(0x1a1)]&&originalConsole[_0x1d75fa(0x11a)](_0x4884b4);};}function saveLogsToFile(){const _0x570a27=_0x320639;if(!isCollectingLogs||compileLogs['length']===0x0)return;const _0xfdb7dd=new Date(),_0xad4555=_0xfdb7dd[_0x570a27(0xf7)]()+String(_0xfdb7dd[_0x570a27(0x1dd)]()+0x1)[_0x570a27(0x16f)](0x2,'0')+String(_0xfdb7dd[_0x570a27(0x155)]())[_0x570a27(0x16f)](0x2,'0')+String(_0xfdb7dd[_0x570a27(0x216)]())[_0x570a27(0x16f)](0x2,'0')+String(_0xfdb7dd[_0x570a27(0x11c)]())['padStart'](0x2,'0')+String(_0xfdb7dd[_0x570a27(0x111)]())[_0x570a27(0x16f)](0x2,'0'),_0x4d1467=path[_0x570a27(0x17a)](outDir,_0x570a27(0x18a)),_0x405bfc=path[_0x570a27(0x17a)](_0x4d1467,'log_'+_0xad4555+'.txt');!fs[_0x570a27(0x1ca)](_0x4d1467)&&fs[_0x570a27(0x10a)](_0x4d1467,{'recursive':!![]}),fs[_0x570a27(0x1fa)](_0x405bfc,compileLogs['join']('\x0a'),_0x570a27(0x140)),console[_0x570a27(0x161)]=originalConsole['log'],console['info']=originalConsole[_0x570a27(0x1cf)],console[_0x570a27(0x1f8)]=originalConsole[_0x570a27(0x1f8)],console[_0x570a27(0x11a)]=originalConsole[_0x570a27(0x11a)],console[_0x570a27(0x161)]('✅\x20全量编译完成，日志已保存到:\x20'+path['relative'](rootDir,_0x405bfc));}const args=process[_0x320639(0x14d)][_0x320639(0x13f)](0x2),watchMode=args[_0x320639(0x153)](_0x320639(0x183)),singleFileMode=args[_0x320639(0x153)](_0x320639(0x176)),singleFilePath=singleFileMode?args[args['indexOf'](_0x320639(0x176))+0x1]:null,rootDir=singleFileMode?args[args['indexOf'](_0x320639(0x19c))+0x1]:process[_0x320639(0x1c0)](),outDir=path[_0x320639(0x17a)](rootDir,_0x320639(0x16a)),_outDir=singleFileMode?args[args['indexOf'](_0x320639(0x172))+0x1]:outDir,compileDir=__dirname,isFullCompile=!watchMode&&!singleFileMode,mainProcessFunctions={},functionNameCountMap=new Map();function generateFunctionId(_0x34284f,_0xc9899c,_0x3b673a){const _0x5ee245=_0x320639,_0x3deef1=_0x34284f['replace'](rootDir,'')[_0x5ee245(0x1ba)](/^[\/\\]/,'')[_0x5ee245(0x1ba)](/^src[\/\\]/,'')['replace'](/\\/g,'/'),_0x15692c='__FUNCTION_'+_0x3deef1[_0x5ee245(0x1ba)](/[\/\.]/g,'_')+'_'+_0xc9899c+'_'+_0x3b673a+'__';return _0x15692c;}function _0x37ad(){const _0x316b9d=['out','isDirectory','\x27,\x20','unlinkSync','\x20\x20},\x0a','padStart','1970458rtCWxr','.qodo','--out-dir','📋\x20复制并混淆文件:\x20/code/main/','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20','default','--file',':\x20async\x20function(','[WARN]\x20','@babel/parser','join','parse','replaceWithSourceString','MessageChannelMain','✅\x20创建输出目录:\x20','stream','.git/','MessagePortMain','13867BMyMay','--watch','leadingComments','isIdentifier','mixone','[INFO]\x20','netLog','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a','logs','ShareMenu','./utils/fn-updater','electron','@babel/traverse','📁\x20输出目录:\x20','start','✅\x20成功处理\x20main/main.js:\x20','\x20}\x20=\x20require(\x27electron\x27);\x0a','README.md','this.callback','🔧\x20处理根目录\x20package.json:\x20','objectMethod','🔍\x20outPath处理文件:\x20','const','.gitignore','Tray','\x20\x20});\x0a','--root-dir','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);setupConsoleRedirect();\x0a','module','const\x20','autoUpdater','logToConsole','scripts','parentPath','\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a','split',',\x20++_callbackCount)','safeStorage','callback','key','NodeJS.','forEach','relativePath:','contentTracing','webContents','./utils/watcher','size','./utils/ast-transformer','isEmbedMain,isEmbedNodeJS,isEmbedPJS','type','.svn','blockStatement','promise','arguments','\x27);\x0a','BrowserView','replace','⚠️\x20Vue\x20文件没有\x20script\x20部分','📁\x20根目录:\x20','push','outPath','isFunctionDeclaration','cwd','this.sendToRenderer(\x27','session','declaration','🔄\x20重新组合\x20Vue\x20文件内容...','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a','5370168yhDLJx','hasCallback',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','existsSync','keys','📝\x20处理\x20script\x20部分...','map','WebContentsView','info','\x20=\x20require(\x27','object','functionDeclaration','✅\x20成功编译:\x20','🔧\x20生成主进程函数注册文件...','trim','\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20','104CJeCit','then','.idea','./utils/main-process-handler','\x20\x20\x20\x20','BrowserWindow','getMonth','.html',',\x20preload\x20路径:\x20','pathType','3170780RVDNCJ','isExportNamedDeclaration','nativeTheme','endsWith','✅\x20Vue\x20文件处理完成','dns','crashReporter','expressionStatement','190rjUvEg','./utils/static-file-copier','set','identifier','fnId','basename','screen','✅\x20全量编译完成\x20-\x20处理了\x20','window','✅\x20生成\x20fn.js:\x20','code','CallExpression','get','\x20->\x20out/main/','\x20=\x20require(\x27./','warn','❌\x20处理\x20Vue\x20文件时出错:','writeFileSync','copyFileSync','testdemo2','clipboard','publish.js','2022687TGOPyA','testdemo3','dist','cli.js','callbackId','utilityProcess','testdemo4','sep','replaceWith','params','objectExpression','isFile','line','objectProperty','TouchBar','🔍\x20开始处理\x20Vue\x20文件...','readdirSync','out/','\x20\x20//\x20','protocol','stringLiteral','globalShortcut','📋\x20复制\x20HTML\x20文件:\x20','getHours','node','🚀\x20开始全量编译...','windows\x5c','./utils/saveJs','callExpression','🔍\x20处理文件:\x20','path','./utils/content-processor','relative','single','\x20\x20\x20\x20}\x0a','.js','🔍\x20检测到\x20node_modules，将保留该目录','tls','node_modules','statSync','exports','http','getFullYear','Main.','readFileSync','✅\x20编译完成，准备启动服务...','dialog','❌\x20扫描目录失败:\x20','dirname','value','PJS.','result','variableDeclaration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20','ipcMain','windows/','events','typescript','outDir:','PJS','scripts/','mkdirSync','[ERROR]\x20',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function','function\x20registerMainFunctions()\x20{\x0a','let\x20_callbackCount\x20=\x200;\x0a','🔧\x20跳过\x20窗口目录下的\x20preload.js:\x20','desktopCapturer','getSeconds','window.electron.callMainFunction(\x27','exit','inAppPurchase','\x20\x20\x20\x20\x20\x20};\x0a\x0a','async\x20$1()','\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a','some','add','error','net','getMinutes','memberExpression',')\x20{','out\x5c','_callback','ObjectExpression','child_process','fn.js','🔧\x20处理\x20Vue\x20文件:\x20','BooleanLiteral','ArrayExpression','Identifier','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20','2639439GjbPPr','toFixed',';\x0a\x20\x20\x20\x20}','NumericLiteral','.fn.js\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20','webFrameMain','https','🔧\x20跳过根preload.js:\x20','name','@babel/generator','package.json','readline','nativeImage','🗑️\x20删除:\x20','resolve','functionExpression','[LOG]\x20','❌\x20无法处理:\x20','处理主进程代码时出错:','preload.js','registerCallback','@mainProcess','slice','utf-8','🔧\x20特殊处理\x20main/main.js:\x20','BaseWindow','}\x0a\x0a','arg','callMainFunction','Notification','exportNamedDeclaration','isEmbedMain\x20||\x20isEmbedNodeJS\x20||\x20isEmbedPJS','main.js','StringLiteral','windows','module.exports\x20=\x20{\x20registerMainFunctions\x20}\x0a','argv','\x20个文件，耗时\x20','now','length','from','srcPath','includes','\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a','getDate','main','floor','match','body','returnStatement','pushNotifications','🔧\x20处理主进程文件:\x20','crypto','🗑️\x20删除输出目录:\x20','.git','startsWith','log','.live','isExport','🔍\x20仅处理:\x20','rmSync','✅\x20处理\x20Vue\x20文件完成:\x20','\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a','5348240ZyDFgQ','检查窗口目录:\x20'];_0x37ad=function(){return _0x316b9d;};return _0x37ad();}function extractMainProcessFunction(_0x410b85,_0x5e1ed4,_0x280de4){const _0x586b79=_0x320639,_0x28ba0e=_0x410b85[_0x586b79(0x153)](_0x586b79(0x194));let _0x1860e7=_0x410b85;if(_0x28ba0e)return _0x1860e7=_0x586b79(0x10e)+_0x1860e7,_0x1860e7=_0x1860e7[_0x586b79(0x1ba)](/this\.callback\((.*?)\)/g,(_0x5c96f0,_0x46cebd)=>{const _0x4eac8e=_0x586b79;return _0x4eac8e(0x1c1)+_0x280de4+'\x27,\x20'+_0x46cebd+_0x4eac8e(0x1a6);}),{'fnId':_0x5e1ed4,'callbackId':_0x280de4,'code':_0x1860e7,'hasCallback':!![]};return{'fnId':_0x5e1ed4,'code':_0x1860e7,'hasCallback':![]};}function processVueMainProcessCode(_0x5f51e1,_0x32c4a4){const _0x560b46=_0x320639;try{const _0x4fe763=transformCode(_0x5f51e1),_0x51fbf6=parser[_0x560b46(0x17b)](_0x4fe763,{'sourceType':_0x560b46(0x19e),'plugins':['jsx',_0x560b46(0x106)]}),_0x12443f=[];traverse(_0x51fbf6,{'ExportNamedDeclaration'(_0x1f33c9){const _0x2645f0=_0x560b46;if(t[_0x2645f0(0x1bf)](_0x1f33c9[_0x2645f0(0x217)][_0x2645f0(0x1c3)])){const _0x29aa53=_0x1f33c9[_0x2645f0(0x217)]['declaration'],_0x502df3=_0x1f33c9[_0x2645f0(0x217)][_0x2645f0(0x184)]||_0x29aa53[_0x2645f0(0x184)]||[],_0x46554a=_0x502df3[_0x2645f0(0x118)](_0x4be93c=>_0x4be93c[_0x2645f0(0xfe)][_0x2645f0(0x153)](_0x2645f0(0x13e)));if(_0x46554a){const _0x3b8c58=_0x29aa53['id']['name'],_0x5199be=functionNameCountMap['get'](_0x32c4a4+':'+_0x3b8c58)||0x0,_0x592c9a=generateFunctionId(_0x32c4a4,_0x3b8c58,_0x5199be),_0x1565d0=generateFunctionId(_0x32c4a4,_0x3b8c58+'_callback',_0x5199be);functionNameCountMap['set'](_0x32c4a4+':'+_0x3b8c58,_0x5199be+0x1);const _0x46ae60=generate(_0x29aa53['body'])[_0x2645f0(0x1f3)],_0x281d1f=_0x46ae60['replace'](/^\{\s*|\s*\}$/g,'')[_0x2645f0(0x1d5)](),_0x393730=extractMainProcessFunction(_0x281d1f,_0x592c9a,_0x1565d0);_0x12443f[_0x2645f0(0x1bd)]({'name':_0x3b8c58,..._0x393730,'isExport':!![],'path':_0x1f33c9,'params':_0x29aa53[_0x2645f0(0x208)]});}}},'FunctionDeclaration'(_0x59845b){const _0xfb1f7d=_0x560b46;if(_0x59845b[_0xfb1f7d(0x1a3)][_0xfb1f7d(0x1e2)]())return;const _0x447d4f=_0x59845b[_0xfb1f7d(0x217)]['leadingComments']||[],_0x7d2023=_0x447d4f[_0xfb1f7d(0x118)](_0x26ca19=>_0x26ca19[_0xfb1f7d(0xfe)][_0xfb1f7d(0x153)](_0xfb1f7d(0x13e)));if(_0x7d2023){const _0x3f1324=_0x59845b[_0xfb1f7d(0x217)]['id'][_0xfb1f7d(0x131)],_0x4e11=functionNameCountMap['get'](_0x32c4a4+':'+_0x3f1324)||0x0,_0xf2a052=generateFunctionId(_0x32c4a4,_0x3f1324,_0x4e11),_0xa9212c=generateFunctionId(_0x32c4a4,_0x3f1324+_0xfb1f7d(0x120),_0x4e11);functionNameCountMap[_0xfb1f7d(0x1eb)](_0x32c4a4+':'+_0x3f1324,_0x4e11+0x1);const _0x3337d7=generate(_0x59845b[_0xfb1f7d(0x217)][_0xfb1f7d(0x159)])[_0xfb1f7d(0x1f3)],_0x364cef=_0x3337d7['replace'](/^\{\s*|\s*\}$/g,'')[_0xfb1f7d(0x1d5)](),_0x416cf3=extractMainProcessFunction(_0x364cef,_0xf2a052,_0xa9212c);_0x12443f[_0xfb1f7d(0x1bd)]({'name':_0x3f1324,..._0x416cf3,'isExport':![],'path':_0x59845b,'params':_0x59845b['node'][_0xfb1f7d(0x208)]});}},'ObjectMethod'(_0x3079b4){const _0x2f4fe1=_0x560b46,_0x4c8b54=_0x3079b4['node']['leadingComments']||[],_0x599335=_0x4c8b54['some'](_0x2893fe=>_0x2893fe['value'][_0x2f4fe1(0x153)](_0x2f4fe1(0x13e)));if(_0x599335){const _0x1280ad=_0x3079b4[_0x2f4fe1(0x217)][_0x2f4fe1(0x1a9)]['name'],_0x1fccfd=functionNameCountMap[_0x2f4fe1(0x1f5)](_0x32c4a4+':'+_0x1280ad)||0x0,_0x3991f2=generateFunctionId(_0x32c4a4,_0x1280ad,_0x1fccfd),_0x3bdc02=generateFunctionId(_0x32c4a4,_0x1280ad+_0x2f4fe1(0x120),_0x1fccfd);functionNameCountMap[_0x2f4fe1(0x1eb)](_0x32c4a4+':'+_0x1280ad,_0x1fccfd+0x1);const _0x3fa9a6=generate(_0x3079b4[_0x2f4fe1(0x217)]['body'])[_0x2f4fe1(0x1f3)],_0x4182d8=_0x3fa9a6[_0x2f4fe1(0x1ba)](/^\{\s*|\s*\}$/g,'')['trim'](),_0x57a31f=extractMainProcessFunction(_0x4182d8,_0x3991f2,_0x3bdc02);_0x12443f['push']({'name':_0x1280ad,..._0x57a31f,'isMethod':!![],'path':_0x3079b4,'params':_0x3079b4[_0x2f4fe1(0x217)][_0x2f4fe1(0x208)]});}}});for(const _0x1a7c7f of _0x12443f){const _0x1df7e4=_0x1a7c7f[_0x560b46(0x1ed)];mainProcessFunctions[_0x1df7e4]={'body':_0x1a7c7f[_0x560b46(0x1f3)],'name':_0x1a7c7f[_0x560b46(0x131)],'params':_0x1a7c7f[_0x560b46(0x208)][_0x560b46(0x1cd)](_0x269996=>_0x269996[_0x560b46(0x131)])};let _0x186ed0;!_0x1a7c7f[_0x560b46(0x1c8)]?_0x186ed0=t[_0x560b46(0x1b5)]([t[_0x560b46(0x15a)](t[_0x560b46(0xe9)](t[_0x560b46(0x11d)](t[_0x560b46(0x11d)](t[_0x560b46(0x1ec)](_0x560b46(0x1f1)),t[_0x560b46(0x1ec)](_0x560b46(0x18d))),t['identifier'](_0x560b46(0x145))),[t[_0x560b46(0x213)](_0x1df7e4),t[_0x560b46(0x209)](_0x1a7c7f[_0x560b46(0x208)][_0x560b46(0x1cd)](_0x23254d=>t[_0x560b46(0x20c)](t['identifier'](_0x23254d[_0x560b46(0x131)]),t[_0x560b46(0x1ec)](_0x23254d[_0x560b46(0x131)]))))]))]):_0x186ed0=t[_0x560b46(0x1b5)]([t[_0x560b46(0x101)](_0x560b46(0x198),[t['variableDeclarator'](t[_0x560b46(0x1ec)]('promise'),t[_0x560b46(0xe9)](t[_0x560b46(0x11d)](t['memberExpression'](t[_0x560b46(0x1ec)](_0x560b46(0x1f1)),t[_0x560b46(0x1ec)](_0x560b46(0x18d))),t['identifier'](_0x560b46(0x145))),[t[_0x560b46(0x213)](_0x1df7e4),t[_0x560b46(0x209)](_0x1a7c7f[_0x560b46(0x208)][_0x560b46(0x1cd)](_0x425cc3=>t[_0x560b46(0x20c)](t['identifier'](_0x425cc3[_0x560b46(0x131)]),t['identifier'](_0x425cc3['name']))))]))]),t['returnStatement'](t[_0x560b46(0x209)]([t[_0x560b46(0x20c)](t[_0x560b46(0x1ec)]('live'),t[_0x560b46(0x138)](null,[t['identifier'](_0x560b46(0x1a8))],t[_0x560b46(0x1b5)]([t[_0x560b46(0x1e8)](t['callExpression'](t[_0x560b46(0x11d)](t[_0x560b46(0x11d)](t[_0x560b46(0x1ec)](_0x560b46(0x1f1)),t[_0x560b46(0x1ec)]('electron')),t[_0x560b46(0x1ec)](_0x560b46(0x13d))),[t[_0x560b46(0x213)](_0x1a7c7f[_0x560b46(0x203)]),t[_0x560b46(0x1ec)](_0x560b46(0x1a8))])),t[_0x560b46(0x1e8)](t[_0x560b46(0xe9)](t[_0x560b46(0x11d)](t['identifier'](_0x560b46(0x1b6)),t[_0x560b46(0x1ec)](_0x560b46(0x1d8))),[t['arrowFunctionExpression']([t[_0x560b46(0x1ec)]('result')],t[_0x560b46(0xe9)](t['identifier'](_0x560b46(0x1a8)),[t['identifier'](_0x560b46(0x100))]))]))])))]))]);if(_0x1a7c7f['isMethod'])_0x1a7c7f[_0x560b46(0xeb)]['replaceWith'](t[_0x560b46(0x196)]('method',t['identifier'](_0x1a7c7f[_0x560b46(0x131)]),_0x1a7c7f['params'],_0x186ed0,![],![]),!![]);else{const _0x3a63f1=t[_0x560b46(0x1d2)](t[_0x560b46(0x1ec)](_0x1a7c7f['name']),_0x1a7c7f[_0x560b46(0x208)],_0x186ed0);_0x1a7c7f[_0x560b46(0x163)]?_0x1a7c7f[_0x560b46(0xeb)][_0x560b46(0x207)](t[_0x560b46(0x147)](_0x3a63f1,[])):_0x1a7c7f[_0x560b46(0xeb)][_0x560b46(0x207)](_0x3a63f1);}}const _0x42105a=generate(_0x51fbf6,{'retainLines':!![],'compact':![],'quotes':_0x560b46(0xee),'concise':![],'jsescOption':{'quotes':_0x560b46(0xee)},'format':{'indent':{'style':_0x560b46(0x1db),'adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x48fe7c=_0x42105a[_0x560b46(0x1f3)]['replace'](/\n\n+/g,'\x0a\x0a')[_0x560b46(0x1ba)](/{\s*return\s+/g,_0x560b46(0x174))['replace'](/;\s*}/g,_0x560b46(0x12b))[_0x560b46(0x1ba)](/,\s*live:\s*function/g,',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function')['replace'](/}\s*}\s*$/gm,_0x560b46(0x1c5))[_0x560b46(0x1ba)](/async\s+(\w+)\s*\(\)/g,_0x560b46(0x116))[_0x560b46(0x1ba)](/\)\s*{/g,_0x560b46(0x11e));return _0x48fe7c;}catch(_0x2c3909){return console['error'](_0x560b46(0x13b),_0x2c3909),_0x5f51e1;}}function removePrefix(_0x264d54){return _0x264d54['replace'](/^(Main\.|NodeJS\.|PJS\.)/g,'');}function getModuleName(_0x552358){const _0x2dedc3=_0x320639,_0x3c92e1=_0x552358[_0x2dedc3(0x158)](/^(\w+)\./);return _0x3c92e1?_0x3c92e1[0x1]:null;}function extractFunctionParams(_0x77b212){const _0x3051f8=_0x320639;if(!_0x77b212||!_0x77b212['type']||_0x77b212['type']!==_0x3051f8(0x1f4))return[];const _0x49fa3d=_0x77b212['arguments'][_0x3051f8(0x1cd)](_0x134db0=>{const _0x978ec3=_0x3051f8;let _0x4f9523={'type':_0x134db0[_0x978ec3(0x1b3)],'value':null};switch(_0x134db0['type']){case _0x978ec3(0x14a):_0x4f9523[_0x978ec3(0xfe)]=_0x134db0[_0x978ec3(0xfe)];break;case _0x978ec3(0x12c):_0x4f9523[_0x978ec3(0xfe)]=_0x134db0['value'];break;case _0x978ec3(0x125):_0x4f9523['value']=_0x134db0[_0x978ec3(0xfe)];break;case _0x978ec3(0x127):_0x4f9523[_0x978ec3(0xfe)]=_0x134db0['name'];break;case _0x978ec3(0x121):_0x4f9523[_0x978ec3(0xfe)]=generate(_0x134db0)[_0x978ec3(0x1f3)];break;case _0x978ec3(0x126):_0x4f9523[_0x978ec3(0xfe)]=generate(_0x134db0)['code'];break;default:_0x4f9523[_0x978ec3(0xfe)]=generate(_0x134db0)['code'];}return _0x4f9523;});return _0x77b212[_0x3051f8(0x1b7)]=_0x49fa3d['map']((_0x11b956,_0x2530d6)=>{const _0x5028f9=_0x3051f8;return t['identifier'](_0x5028f9(0x144)+(_0x2530d6+0x1));}),_0x49fa3d;}function processEmbeddedNativeCode(_0x2c630,_0x323aa6){const _0x422a42=_0x320639;try{const _0x262f13=require(_0x422a42(0x179)),_0x4bfdb1=require(_0x422a42(0x18e))[_0x422a42(0x175)],_0x18f776=_0x262f13[_0x422a42(0x17b)](_0x2c630,{'sourceType':_0x422a42(0x19e),'plugins':['jsx',_0x422a42(0x106)]});_0x4bfdb1(_0x18f776,{'MemberExpression'(_0x278d9b){const _0x42c4d7=_0x422a42,_0x44a345=_0x278d9b[_0x42c4d7(0x1f5)](_0x42c4d7(0x1d1));if(!_0x44a345[_0x42c4d7(0x185)]())return;const _0xdd8966=_0x44a345['node']['name'];if(!['Main','NodeJS',_0x42c4d7(0x108)][_0x42c4d7(0x153)](_0xdd8966))return;let _0x47059b=analyseCompleteUseNode(_0x278d9b[_0x42c4d7(0x1a3)],_0x278d9b['parentPath'],_0x278d9b),_0x5634b3=extractFunctionParams(_0x47059b[_0x42c4d7(0xeb)][_0x42c4d7(0x217)]),_0xd6ad00='{'+_0x5634b3[_0x42c4d7(0x1cd)]((_0x37b5d1,_0x4f20f9)=>[_0x42c4d7(0x14a),_0x42c4d7(0x12c),'BooleanLiteral'][_0x42c4d7(0x153)](_0x37b5d1['type'])?_0x42c4d7(0x144)+(_0x4f20f9+0x1)+':\x20\x27'+_0x37b5d1[_0x42c4d7(0xfe)]+'\x27':_0x42c4d7(0x144)+(_0x4f20f9+0x1)+':\x20'+_0x37b5d1[_0x42c4d7(0xfe)])[_0x42c4d7(0x17a)](',')+'}';const _0x17361e=generate(_0x47059b[_0x42c4d7(0xeb)][_0x42c4d7(0x217)])[_0x42c4d7(0x1f3)];let _0x4672d6=removePrefix(_0x17361e);const _0x23c01c=getModuleName(_0x4672d6),_0xbf672f=_0x47059b[_0x42c4d7(0x1e0)]=='call'?!![]:![];_0xbf672f&&_0x4672d6;const _0x42d215=_0x278d9b[_0x42c4d7(0x217)]['loc'][_0x42c4d7(0x190)][_0x42c4d7(0x20b)],_0x41c336=Math[_0x42c4d7(0x157)](Math['random']()*0x15f90)+0x2710,_0x1bb6e9=generateFunctionId(_0x323aa6,_0xdd8966+'_'+_0x42d215,_0x41c336),_0x19d70c=generateFunctionId(_0x323aa6,_0xdd8966+'_'+_0x42d215+_0x42c4d7(0x120),_0x41c336);console['log'](_0x42c4d7(0x1ed),_0x1bb6e9);if(_0xdd8966=='Main')functionBody='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20'+_0x23c01c+'\x20}\x20=\x20require(\x27electron\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20'+_0x4672d6+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0xdd8966=='NodeJS')functionBody=_0x42c4d7(0x102)+_0x23c01c+_0x42c4d7(0x1d0)+_0x23c01c+_0x42c4d7(0x1d6)+_0x4672d6+_0x42c4d7(0x1c9);else _0xdd8966==_0x42c4d7(0x108)&&(functionBody=_0x42c4d7(0x128)+_0x23c01c+_0x42c4d7(0x1f7)+_0x23c01c+_0x42c4d7(0x12d)+_0x4672d6+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}let _0x4875ae=_0xbf672f?_0xd6ad00:'{}';mainProcessFunctions[_0x1bb6e9]={'body':functionBody,'name':_0x17361e,'params':_0x5634b3[_0x42c4d7(0x1cd)]((_0x344e25,_0x1c7dca)=>[_0x42c4d7(0x14a),'NumericLiteral',_0x42c4d7(0x125)]['includes'](_0x344e25['type'])?'arg'+(_0x1c7dca+0x1):_0x42c4d7(0x144)+(_0x1c7dca+0x1))};const _0x2d6261=_0x42c4d7(0x112)+_0x1bb6e9+_0x42c4d7(0x16c)+_0x4875ae+')';_0x47059b['path'][_0x42c4d7(0x17c)](_0x2d6261);}});const _0x2f1f4d=generate(_0x18f776,{'retainLines':!![],'compact':![],'quotes':_0x422a42(0xee),'concise':![],'jsescOption':{'quotes':_0x422a42(0xee)},'format':{'indent':{'style':'\x20\x20\x20\x20','adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x2c18f2=_0x2f1f4d[_0x422a42(0x1f3)][_0x422a42(0x1ba)](/\n\n+/g,'\x0a\x0a')['replace'](/{\s*return\s+/g,_0x422a42(0x174))[_0x422a42(0x1ba)](/;\s*}/g,_0x422a42(0x12b))[_0x422a42(0x1ba)](/,\s*live:\s*function/g,_0x422a42(0x10c))[_0x422a42(0x1ba)](/}\s*}\s*$/gm,'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}')['replace'](/async\s+(\w+)\s*\(\)/g,'async\x20$1()')[_0x422a42(0x1ba)](/\)\s*{/g,')\x20{');return _0x2c18f2;}catch(_0x531126){return console[_0x422a42(0x11a)]('处理嵌入的原生代码时出错:',_0x531126),_0x2c630;}}function generateMainProcessRegistration(){const _0x536dce=_0x320639,_0x26e462=['app',_0x536dce(0x1a0),_0x536dce(0x142),_0x536dce(0x1b9),_0x536dce(0x1dc),_0x536dce(0x1fd),_0x536dce(0x1ad),_0x536dce(0x1e7),_0x536dce(0x110),_0x536dce(0xfb),_0x536dce(0x214),_0x536dce(0x114),_0x536dce(0x103),'Menu',_0x536dce(0x17d),_0x536dce(0x181),_0x536dce(0x135),_0x536dce(0x1e3),_0x536dce(0x11b),_0x536dce(0x188),_0x536dce(0x146),'parentPort','powerMonitor','powerSaveBlocker',_0x536dce(0x212),_0x536dce(0x15b),_0x536dce(0x1a7),_0x536dce(0x1ef),_0x536dce(0x1c2),_0x536dce(0x18b),'shell','systemPreferences',_0x536dce(0x20d),_0x536dce(0x19a),_0x536dce(0x204),_0x536dce(0x1ae),_0x536dce(0x1ce),_0x536dce(0x12e),'View'],_0x2fd517=['os','fs','path',_0x536dce(0x15d),_0x536dce(0xf6),_0x536dce(0x12f),_0x536dce(0x11b),_0x536dce(0x17f),_0x536dce(0x105),_0x536dce(0x122),'cluster',_0x536dce(0x1e6),_0x536dce(0xf2),_0x536dce(0x134),'assert',_0x536dce(0x19e)],_0x5a1b11=new Set([_0x536dce(0x103)]),_0x209dcb=new Set();for(const [_0x51406b,_0x347cbb]of Object['entries'](mainProcessFunctions)){const _0x3b94df=_0x347cbb[_0x536dce(0x159)];_0x26e462[_0x536dce(0x1ab)](_0x1d111c=>{const _0xa8d011=_0x536dce;_0x3b94df['includes'](_0x1d111c+'.')&&_0x5a1b11[_0xa8d011(0x119)](_0x1d111c);}),_0x2fd517[_0x536dce(0x1ab)](_0x5eab81=>{const _0xfd0606=_0x536dce;_0x3b94df[_0xfd0606(0x153)](_0x5eab81+'.')&&_0x209dcb['add'](_0x5eab81);});}let _0x1c4fcc='';_0x5a1b11['size']>0x0&&(_0x1c4fcc+='const\x20{\x20'+Array[_0x536dce(0x151)](_0x5a1b11)[_0x536dce(0x17a)](',\x20')+_0x536dce(0x192));_0x209dcb[_0x536dce(0x1b0)]>0x0&&(Array[_0x536dce(0x151)](_0x209dcb)[_0x536dce(0x1ab)](_0x503881=>{const _0x4586ea=_0x536dce;_0x1c4fcc+=_0x4586ea(0x19f)+_0x503881+'\x20=\x20require(\x27'+_0x503881+_0x4586ea(0x1b8);}),_0x1c4fcc+='\x0a');_0x1c4fcc+=_0x536dce(0x19d),_0x1c4fcc+='\x0aconst\x20fn\x20=\x20{\x0a';for(const [_0x53539f,_0x50c4fb]of Object['entries'](mainProcessFunctions)){_0x1c4fcc+=_0x536dce(0x211)+_0x50c4fb[_0x536dce(0x131)]+'\x0a',_0x1c4fcc+='\x20\x20'+_0x53539f+_0x536dce(0x177)+_0x50c4fb[_0x536dce(0x208)][_0x536dce(0x17a)](',\x20')+')\x20{\x0a',_0x1c4fcc+='\x20\x20\x20\x20'+_0x50c4fb[_0x536dce(0x159)]+'\x0a',_0x1c4fcc+=_0x536dce(0x16e);}return _0x1c4fcc+=_0x536dce(0x143),_0x1c4fcc+=_0x536dce(0x10d),_0x1c4fcc+=_0x536dce(0x117),_0x1c4fcc+='\x20\x20\x20\x20try\x20{\x0a',_0x1c4fcc+=_0x536dce(0x154),_0x1c4fcc+='\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a',_0x1c4fcc+=_0x536dce(0x1a4),_0x1c4fcc+='\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a',_0x1c4fcc+=_0x536dce(0x189),_0x1c4fcc+=_0x536dce(0x115),_0x1c4fcc+=_0x536dce(0x1c6),_0x1c4fcc+='\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a',_0x1c4fcc+='\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a',_0x1c4fcc+=_0x536dce(0x167),_0x1c4fcc+=_0x536dce(0xef),_0x1c4fcc+=_0x536dce(0x19b),_0x1c4fcc+=_0x536dce(0x143),_0x1c4fcc+=_0x536dce(0x14c),_0x1c4fcc;}const startTime=Date[_0x320639(0x14f)]();function _0x151d(_0x4eaf26,_0x4e83b3){const _0x37ad12=_0x37ad();return _0x151d=function(_0x151d60,_0xebf3af){_0x151d60=_0x151d60-0xe9;let _0x58f19e=_0x37ad12[_0x151d60];return _0x58f19e;},_0x151d(_0x4eaf26,_0x4e83b3);}let processedFiles=0x0;function getNormalizedOutPath(_0x2f4dbf,_0x2a05c3){const _0x2e3956=_0x320639;console[_0x2e3956(0x161)]('📂\x20正在处理:\x20'+_0x2f4dbf+_0x2e3956(0x1db)+_0x2a05c3);if(_0x2f4dbf[_0x2e3956(0x160)](_0x2e3956(0x210))||_0x2f4dbf[_0x2e3956(0x160)](_0x2e3956(0x11f)))return path['join'](rootDir,_0x2f4dbf);return path[_0x2e3956(0x17a)](_0x2a05c3,_0x2f4dbf);}function ensureOutDirExists(){const _0x57a57e=_0x320639;if(fs[_0x57a57e(0x1ca)](outDir)){const _0x55e642=path[_0x57a57e(0x17a)](outDir,_0x57a57e(0xf3)),_0x28c5f4=fs[_0x57a57e(0x20f)](outDir);if(fs['existsSync'](_0x55e642)){console[_0x57a57e(0x161)](_0x57a57e(0xf1));for(const _0x16144b of _0x28c5f4){if(_0x16144b!=='node_modules'){const _0x4b87fa=path[_0x57a57e(0x17a)](outDir,_0x16144b);fs['statSync'](_0x4b87fa)[_0x57a57e(0x16b)]()?fs[_0x57a57e(0x165)](_0x4b87fa,{'recursive':!![],'force':!![]}):fs[_0x57a57e(0x16d)](_0x4b87fa),console[_0x57a57e(0x161)]('🗑️\x20删除:\x20'+_0x16144b);}}console[_0x57a57e(0x161)]('✅\x20已清理\x20out\x20目录（保留\x20node_modules）');}else{for(const _0x368a43 of _0x28c5f4){const _0x54b915=path[_0x57a57e(0x17a)](outDir,_0x368a43);fs[_0x57a57e(0xf4)](_0x54b915)['isDirectory']()?fs[_0x57a57e(0x165)](_0x54b915,{'recursive':!![],'force':!![]}):fs[_0x57a57e(0x16d)](_0x54b915),console[_0x57a57e(0x161)](_0x57a57e(0x136)+_0x368a43);}console['log'](_0x57a57e(0x15e)+outDir);}}fs[_0x57a57e(0x10a)](outDir,{'recursive':!![]}),console['log'](_0x57a57e(0x17e)+outDir);}function processFile(_0x1f2990,_0x300bed){const _0x248c67=_0x320639;try{}catch(_0x42c673){return console[_0x248c67(0x11a)]('❌\x20处理失败:\x20'+_0x1f2990,_0x42c673),![];}console[_0x248c67(0x161)]('🔍\x20处理文件rootDir:\x20'+rootDir),_0x1f2990=path[_0x248c67(0x137)](rootDir,_0x1f2990),console[_0x248c67(0x161)](_0x248c67(0xea)+_0x1f2990);const _0x3d99b9=path[_0x248c67(0xed)](rootDir,_0x1f2990),_0x39455a=singleFileMode?_0x300bed:path[_0x248c67(0x17a)](process[_0x248c67(0x1c0)](),_0x248c67(0x16a));console[_0x248c67(0x161)](_0x248c67(0x107),_0x39455a),console[_0x248c67(0x161)](_0x248c67(0x1ac),_0x3d99b9);const _0x47a7f1=getNormalizedOutPath(_0x3d99b9,_0x39455a);console[_0x248c67(0x161)](_0x248c67(0x197)+_0x47a7f1);const _0x26cedb=path[_0x248c67(0xfd)](_0x47a7f1);if(!fs[_0x248c67(0x1ca)](_0x1f2990))return console[_0x248c67(0x161)]('⚠️\x20文件不存在:\x20'+_0x1f2990),_0x1f2990[_0x248c67(0x153)]('windows'+path[_0x248c67(0x206)])&&path[_0x248c67(0x1ee)](_0x1f2990)===_0x248c67(0x13c)?(writeDefaultPreloadFileWhenDeleted(compileDir,_0x39455a,_0x47a7f1,_0x1f2990),![]):![];if(_0x3d99b9[_0x248c67(0x153)]('node_modules/')||_0x3d99b9[_0x248c67(0x153)](_0x248c67(0x180))||_0x3d99b9[_0x248c67(0x153)](_0x248c67(0x210))||_0x3d99b9[_0x248c67(0x160)](_0x248c67(0x109)))return![];!fs[_0x248c67(0x1ca)](_0x26cedb)&&(fs[_0x248c67(0x10a)](_0x26cedb,{'recursive':!![]}),console[_0x248c67(0x161)]('📁\x20创建目录:\x20'+_0x26cedb));if(_0x1f2990[_0x248c67(0x1e4)](_0x248c67(0xf0))){const _0x249b3d=fs[_0x248c67(0xf9)](_0x1f2990,'utf-8');if(path[_0x248c67(0x1ee)](_0x1f2990)===_0x248c67(0x149)&&path['dirname'](_0x1f2990)[_0x248c67(0x1e4)](_0x248c67(0x156))){console[_0x248c67(0x161)](_0x248c67(0x141)+_0x3d99b9);const _0x3a327f=processMainProcessFile(_0x249b3d,_0x3d99b9),_0x305158=obfuscatorJS(_0x3a327f);fs['writeFileSync'](_0x47a7f1,_0x305158),console['log'](_0x248c67(0x191)+_0x3d99b9);}else{if(path[_0x248c67(0x1ee)](_0x1f2990)===_0x248c67(0x13c))return _0x3d99b9[_0x248c67(0x160)](_0x248c67(0x104))?(console[_0x248c67(0x161)](_0x248c67(0x10f)+_0x3d99b9),![]):(console[_0x248c67(0x161)](_0x248c67(0x130)+_0x3d99b9),![]);else{const _0x28c149=_0x249b3d['includes'](_0x248c67(0x13e)),_0x2d4e41=_0x249b3d['includes'](_0x248c67(0xf8)),_0x59444b=_0x249b3d[_0x248c67(0x153)]('NodeJS.'),_0x99909b=_0x249b3d[_0x248c67(0x153)]('PJS.');console['log'](_0x248c67(0x1b2),_0x2d4e41,_0x59444b,_0x99909b);if(_0x28c149||_0x2d4e41||_0x59444b||_0x99909b){console[_0x248c67(0x161)](_0x248c67(0x15c)+_0x3d99b9);let _0x4b1886='';_0x28c149&&(_0x4b1886=processVueMainProcessCode(_0x249b3d,_0x1f2990));(_0x2d4e41||_0x59444b||_0x99909b)&&(_0x4b1886=processEmbeddedNativeCode(_0x4b1886,_0x1f2990,{'isEmbedMain':_0x2d4e41,'isEmbedNodeJS':_0x59444b,'isEmbedPJS':_0x99909b}),console[_0x248c67(0x161)](_0x4b1886));if(_0x4b1886){fs[_0x248c67(0x1fa)](_0x47a7f1,_0x4b1886);if(!isFullCompile){const _0x78b364=generateMainProcessRegistration();updateFnFile(_0x39455a,rootDir,_0x1f2990,_0x78b364);}}console['log'](_0x248c67(0x1d3)+_0x3d99b9);}else fs[_0x248c67(0x1fb)](_0x1f2990,_0x47a7f1),console[_0x248c67(0x161)]('📋\x20复制文件:\x20'+_0x3d99b9);}}}else{if(_0x1f2990['endsWith']('.vue')){const _0x354c4b=fs[_0x248c67(0xf9)](_0x1f2990,_0x248c67(0x140));console['log']('🔍\x20检查\x20Vue\x20文件:\x20'+_0x3d99b9);const _0x26d4da=_0x354c4b['includes'](_0x248c67(0x13e))||_0x354c4b[_0x248c67(0x153)](_0x248c67(0x162)),_0x137191=_0x354c4b['includes'](_0x248c67(0xf8)),_0x4de273=_0x354c4b[_0x248c67(0x153)](_0x248c67(0x1aa)),_0xa7091=_0x354c4b['includes'](_0x248c67(0xff));if(_0x26d4da||_0x137191||_0x4de273||_0xa7091){console[_0x248c67(0x161)](_0x248c67(0x124)+_0x3d99b9);let _0x1b22ca=processVueFile(_0x354c4b,_0x1f2990);if(_0x1b22ca){fs[_0x248c67(0x1fa)](_0x47a7f1,_0x1b22ca),console[_0x248c67(0x161)]('outPath:\x20'+_0x47a7f1);if(!isFullCompile){const _0x2eb71b=generateMainProcessRegistration();updateFnFile(_0x39455a,rootDir,_0x1f2990,_0x2eb71b);}}}else console['log'](_0x248c67(0x152),_0x248c67(0x1be)),console['log'](_0x1f2990,_0x47a7f1),fs[_0x248c67(0x1fb)](_0x1f2990,_0x47a7f1);console[_0x248c67(0x161)](_0x248c67(0x166)+_0x3d99b9);}else{if(_0x1f2990['endsWith'](_0x248c67(0x1de)))fs['copyFileSync'](_0x1f2990,_0x47a7f1),console[_0x248c67(0x161)](_0x248c67(0x215)+_0x3d99b9);else path[_0x248c67(0x1ee)](_0x1f2990)===_0x248c67(0x133)&&path[_0x248c67(0xfd)](_0x1f2990)===rootDir?(console[_0x248c67(0x161)](_0x248c67(0x195)+_0x3d99b9),processPackageJson(_0x1f2990,_0x47a7f1)):(fs[_0x248c67(0x1fb)](_0x1f2990,_0x47a7f1),console[_0x248c67(0x161)]('📋\x20复制文件:\x20'+_0x3d99b9));}}return processedFiles++,!![];}const IGNORE_DIRS=[_0x320639(0xf3),_0x320639(0x16a),_0x320639(0x15f),'doc','yarn.lock',_0x320639(0x201),_0x320639(0x186),_0x320639(0x1fc),,_0x320639(0x193),_0x320639(0x202),'testdemo',_0x320639(0x200),_0x320639(0x205),_0x320639(0x1fe),_0x320639(0x199),_0x320639(0x1a2),_0x320639(0x1b4),_0x320639(0x171),_0x320639(0x1d9),'.vscode'];function processDir(_0x30daaa){const _0xa00ee3=_0x320639;try{const _0x42fcf0=fs['readdirSync'](_0x30daaa);for(const _0x190f0c of _0x42fcf0){const _0x44aaa0=path[_0xa00ee3(0x17a)](_0x30daaa,_0x190f0c);if(IGNORE_DIRS['includes'](_0x190f0c))continue;try{const _0x10965a=fs[_0xa00ee3(0xf4)](_0x44aaa0);if(_0x10965a[_0xa00ee3(0x16b)]())processDir(_0x44aaa0);else _0x10965a[_0xa00ee3(0x20a)]()&&processFile(_0x44aaa0);}catch(_0x24b482){console[_0xa00ee3(0x11a)](_0xa00ee3(0x13a)+_0x44aaa0,_0x24b482);}}}catch(_0x43021c){console[_0xa00ee3(0x11a)](_0xa00ee3(0xfc)+_0x30daaa,_0x43021c);}}function copyScriptsMainFiles(_0x562a4d,_0x4a1c1f,_0x46a6e0){const _0x25c1a0=_0x320639,_0xc19010=path[_0x25c1a0(0x17a)](_0x46a6e0,_0x25c1a0(0x1f3),_0x25c1a0(0x156)),_0x5950b3=path[_0x25c1a0(0x17a)](_0x4a1c1f,_0x25c1a0(0x156));if(fs[_0x25c1a0(0x1ca)](_0xc19010)){!fs['existsSync'](_0x5950b3)&&fs[_0x25c1a0(0x10a)](_0x5950b3,{'recursive':!![]});const _0xb4238b=fs[_0x25c1a0(0x20f)](_0xc19010);for(const _0x162e20 of _0xb4238b){const _0x38bbd7=path[_0x25c1a0(0x17a)](_0xc19010,_0x162e20),_0x56cb15=path['join'](_0x5950b3,_0x162e20);if(fs['statSync'](_0x38bbd7)['isFile']()){const _0x4ff657=fs[_0x25c1a0(0xf9)](_0x38bbd7,_0x25c1a0(0x140));fs[_0x25c1a0(0x1fa)](_0x56cb15,obfuscatorJS(_0x4ff657)),console[_0x25c1a0(0x161)](_0x25c1a0(0x173)+_0x162e20+_0x25c1a0(0x1f6)+_0x162e20);}}}}function compileAll(){const _0x3ae2dc=_0x320639;console[_0x3ae2dc(0x161)](_0x3ae2dc(0x218)),setupLogCollector(),console[_0x3ae2dc(0x161)](_0x3ae2dc(0x1bc)+rootDir),console[_0x3ae2dc(0x161)](_0x3ae2dc(0x18f)+outDir),copyScriptsMainFiles(rootDir,outDir,compileDir),processDir(rootDir),checkWindowPreloadAndCopy(rootDir,outDir,compileDir),copyStaticFilesToWindowDirs(rootDir,outDir,compileDir),copyScriptsToOutputRoot(rootDir,outDir,compileDir);if(Object[_0x3ae2dc(0x1cb)](mainProcessFunctions)[_0x3ae2dc(0x150)]>0x0){console[_0x3ae2dc(0x161)](_0x3ae2dc(0x1d4));const _0x4b77ab=path[_0x3ae2dc(0x17a)](outDir,_0x3ae2dc(0x156),_0x3ae2dc(0x123));fs[_0x3ae2dc(0x10a)](path[_0x3ae2dc(0xfd)](_0x4b77ab),{'recursive':!![]});const _0x25e989=generateMainProcessRegistration();fs[_0x3ae2dc(0x1fa)](_0x4b77ab,obfuscatorJS(_0x25e989)),console['log'](_0x3ae2dc(0x1f2)+path[_0x3ae2dc(0xed)](rootDir,_0x4b77ab));}const _0x1605ad=((Date[_0x3ae2dc(0x14f)]()-startTime)/0x3e8)[_0x3ae2dc(0x12a)](0x2);console[_0x3ae2dc(0x161)](_0x3ae2dc(0x1f0)+processedFiles+_0x3ae2dc(0x14e)+_0x1605ad+'s'),saveLogsToFile();}function checkWindowDirPreload(_0x55b2d9){const _0x33e30f=_0x320639,_0x4c959e=path[_0x33e30f(0xed)](rootDir,_0x55b2d9)[_0x33e30f(0x1ba)](/\\/g,'/');console[_0x33e30f(0x161)]('检查是否需要\x20preload.js:\x20'+_0x4c959e);if(_0x4c959e['startsWith']('windows/')||_0x4c959e['startsWith'](_0x33e30f(0x219))){let _0x29c575,_0x57f112=_0x4c959e['split']('/');_0x57f112[_0x33e30f(0x150)]<0x2&&(_0x57f112=_0x4c959e[_0x33e30f(0x1a5)]('\x5c'));if(_0x57f112[_0x33e30f(0x150)]>=0x2){_0x29c575=_0x57f112[0x1];if(_0x29c575[_0x33e30f(0x153)]('.')){console[_0x33e30f(0x161)]('⚠️\x20跳过文件:\x20'+_0x29c575+'\x20(不是窗口目录)');return;}const _0x1f243e=path['join'](rootDir,_0x33e30f(0x14b),_0x29c575);if(!fs[_0x33e30f(0x1ca)](_0x1f243e)||!fs[_0x33e30f(0xf4)](_0x1f243e)['isDirectory']()){console['log']('⚠️\x20跳过非窗口目录路径:\x20'+_0x1f243e);return;}const _0x329ced=path[_0x33e30f(0x17a)](_0x1f243e,'preload.js');console['log'](_0x33e30f(0x169)+_0x29c575+_0x33e30f(0x1df)+_0x329ced);if(!fs[_0x33e30f(0x1ca)](_0x329ced)){const _0xa2adc6=path['join'](rootDir,_0x33e30f(0x13c));if(fs[_0x33e30f(0x1ca)](_0xa2adc6)){const _0x45ad48=getNormalizedOutPath(_0x33e30f(0x104)+_0x29c575,outDir),_0x4c3096=path['join'](_0x45ad48,_0x33e30f(0x13c));!fs[_0x33e30f(0x1ca)](_0x45ad48)&&fs['mkdirSync'](_0x45ad48,{'recursive':!![]});const _0x579c44=fs[_0x33e30f(0xf9)](_0xa2adc6,'utf-8');fs[_0x33e30f(0x1fa)](_0x4c3096,_0x579c44),console['log']('✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20'+path[_0x33e30f(0xed)](rootDir,_0x4c3096));}}}}}function processVueFile(_0x713c46,_0x402dc5){const _0x5e33ca=_0x320639;try{console[_0x5e33ca(0x161)](_0x5e33ca(0x20e));const {template:_0x2b60c2,script:_0x410186,styles:_0xaf8711}=parseVueFile(_0x713c46);if(!_0x410186)return console['log'](_0x5e33ca(0x1bb)),_0x713c46;console['log'](_0x5e33ca(0x1cc));const _0x5754ed=_0x410186['includes']('@mainProcess'),_0x1b95d0=_0x410186[_0x5e33ca(0x153)](_0x5e33ca(0xf8)),_0x5eb6f3=_0x410186[_0x5e33ca(0x153)]('NodeJS.'),_0x30bb56=_0x410186['includes'](_0x5e33ca(0xff));let _0x2ac232='';_0x5754ed&&(_0x2ac232=processVueMainProcessCode(_0x410186,_0x402dc5));console['log'](_0x5e33ca(0x148)),console[_0x5e33ca(0x161)](_0x1b95d0||_0x5eb6f3||_0x30bb56);(_0x1b95d0||_0x5eb6f3||_0x30bb56)&&(_0x2ac232=processEmbeddedNativeCode(_0x2ac232,_0x402dc5,{'isEmbedMain':_0x1b95d0,'isEmbedNodeJS':_0x5eb6f3,'isEmbedPJS':_0x30bb56}));console['log'](_0x5e33ca(0x1c4));const _0x3e2d41=generateVueFile(_0x2b60c2,_0x2ac232,_0xaf8711);return console[_0x5e33ca(0x161)](_0x5e33ca(0x1e5)),_0x3e2d41;}catch(_0x59d7f2){return console['error'](_0x5e33ca(0x1f9),_0x59d7f2),_0x713c46;}}function parseVueFile(_0x3c4382){const _0x12d25b=_0x320639,_0x989244=_0x3c4382[_0x12d25b(0x158)](/<template>([\s\S]*)<\/template>/),_0xc92758=_0x3c4382[_0x12d25b(0x158)](/<script>([\s\S]*)<\/script>/),_0x58cab0=_0x3c4382[_0x12d25b(0x158)](/<style[^>]*>([\s\S]*?)<\/style>/g);return{'template':_0x989244?_0x989244[0x0]:'','script':_0xc92758?_0xc92758[0x1]:'','styles':_0x58cab0||[]};}function generateVueFile(_0x2052dd,_0x433a91,_0x286920){const _0x2d74e0=_0x320639;let _0x56da7e='';return _0x2052dd&&(_0x56da7e+=_0x2052dd+'\x0a\x0a'),_0x433a91&&(_0x56da7e+='<script>\x0a'+_0x433a91+'\x0a</script>\x0a\x0a'),_0x286920&&_0x286920[_0x2d74e0(0x150)]>0x0&&(_0x56da7e+=_0x286920[_0x2d74e0(0x17a)]('\x0a\x0a')),_0x56da7e;}(function main(){const _0xb01f87=_0x320639;if(singleFileMode&&singleFilePath){console[_0xb01f87(0x161)](_0xb01f87(0x164)+singleFilePath),processFile(singleFilePath,_outDir),checkWindowDirStaticFiles(singleFilePath,rootDir,outDir);return;}ensureOutDirExists(),compileAll(),watchMode?setupCompileWatcher(processFile,checkWindowDirPreload):(console[_0xb01f87(0x161)](_0xb01f87(0xfa)),process[_0xb01f87(0x113)](0x0));}(),module[_0x320639(0xf5)]={'checkWindowDirPreload':checkWindowDirPreload});