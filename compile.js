const _0x3b79c8=_0xdb6c;(function(_0x2ddd00,_0x38d8d6){const _0x3accd0=_0xdb6c,_0x328a39=_0x2ddd00();while(!![]){try{const _0x2163fa=parseInt(_0x3accd0(0x130))/0x1*(-parseInt(_0x3accd0(0x200))/0x2)+-parseInt(_0x3accd0(0x1ba))/0x3+-parseInt(_0x3accd0(0x154))/0x4*(parseInt(_0x3accd0(0x111))/0x5)+parseInt(_0x3accd0(0x133))/0x6+-parseInt(_0x3accd0(0x19c))/0x7*(-parseInt(_0x3accd0(0x1cd))/0x8)+parseInt(_0x3accd0(0x1c3))/0x9*(parseInt(_0x3accd0(0x1e5))/0xa)+parseInt(_0x3accd0(0x1ed))/0xb*(-parseInt(_0x3accd0(0x153))/0xc);if(_0x2163fa===_0x38d8d6)break;else _0x328a39['push'](_0x328a39['shift']());}catch(_0x239c20){_0x328a39['push'](_0x328a39['shift']());}}}(_0x4747,0x4f308));const fs=require('fs'),path=require(_0x3b79c8(0x113)),chokidar=require(_0x3b79c8(0x142)),watchManager=require(_0x3b79c8(0x13a)),crypto=require(_0x3b79c8(0x1e8)),parser=require('@babel/parser'),traverse=require('@babel/traverse')[_0x3b79c8(0x1f2)],generate=require(_0x3b79c8(0x11e))[_0x3b79c8(0x1f2)],t=require(_0x3b79c8(0x1a5)),{generateMergedPreload}=require(_0x3b79c8(0x103)),{setupCompileWatcher}=require(_0x3b79c8(0x14e)),{transformCode,transformVueScript}=require('./utils/ast-transformer'),{updateFnFile}=require('./utils/fn-updater'),{copyStaticFilesToWindowDirs,checkWindowDirStaticFiles,generateDefaultPreloadScript,copyScriptsToOutputRoot}=require(_0x3b79c8(0x19a)),{processPackageJson}=require(_0x3b79c8(0x12e)),{processMainProcessFile}=require(_0x3b79c8(0x19d)),{checkWindowPreloadAndCopy,writeDefaultPreloadFileWhenDeleted}=require(_0x3b79c8(0x12f)),{obfuscatorJS}=require(_0x3b79c8(0x124));let compileLogs=[],isCollectingLogs=![];const originalConsole={'log':console['log'],'info':console['info'],'warn':console['warn'],'error':console[_0x3b79c8(0x17b)]},CONFIG={'logToConsole':!![]};function setupLogCollector(){const _0x3ae7fc=_0x3b79c8;if(!isFullCompile)return;isCollectingLogs=!![],compileLogs=[],console[_0x3ae7fc(0x211)]=(..._0x5315a4)=>{const _0x2bdb33=_0x3ae7fc,_0x2d266e=_0x2bdb33(0x1f4)+_0x5315a4['join']('\x20');compileLogs[_0x2bdb33(0x18b)](_0x2d266e),CONFIG[_0x2bdb33(0x213)]&&originalConsole[_0x2bdb33(0x211)](_0x2d266e);},console[_0x3ae7fc(0x1c8)]=(..._0x375605)=>{const _0x3a5a36=_0x3ae7fc,_0x53e751=_0x3a5a36(0x134)+_0x375605[_0x3a5a36(0x194)]('\x20');compileLogs['push'](_0x53e751),CONFIG[_0x3a5a36(0x213)]&&originalConsole[_0x3a5a36(0x1c8)](_0x53e751);},console[_0x3ae7fc(0x18e)]=(..._0x44496c)=>{const _0x3f9974=_0x3ae7fc,_0x58adef='[WARN]\x20'+_0x44496c[_0x3f9974(0x194)]('\x20');compileLogs[_0x3f9974(0x18b)](_0x58adef),CONFIG['logToConsole']&&originalConsole[_0x3f9974(0x18e)](_0x58adef);},console['error']=(..._0x214c0c)=>{const _0x407543=_0x3ae7fc,_0x59e27b=_0x407543(0x13d)+_0x214c0c[_0x407543(0x194)]('\x20');compileLogs[_0x407543(0x18b)](_0x59e27b),CONFIG[_0x407543(0x213)]&&originalConsole[_0x407543(0x17b)](_0x59e27b);};}function _0x4747(){const _0x57a900=['variableDeclaration','1321694OVoJXu','\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a','single','ipcMain','split','default','windows\x5c','[LOG]\x20','safeStorage','events','autoUpdater','🔍\x20开始处理\x20Vue\x20文件...','🔄\x20重新组合\x20Vue\x20文件内容...','BrowserView','parse','📋\x20复制并混淆文件:\x20/code/main/','get','🔍\x20检查\x20Vue\x20文件:\x20','forEach','4fhOLUM','out/','🔧\x20生成主进程函数注册文件...','🔧\x20特殊处理\x20main/main.js:\x20','fnId','const\x20','⚠️\x20跳过非窗口目录路径:\x20','node_modules','mixone','cli.js','value','✅\x20创建输出目录:\x20',',\x20++_callbackCount)','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a','❌\x20无法处理:\x20','includes','typescript','log','crashReporter','logToConsole','params',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function','module','node_modules/','\x0aconst\x20fn\x20=\x20{\x0a','./utils/preload-merger','\x0a</script>\x0a\x0a','\x27,\x20','utilityProcess','existsSync','BaseWindow','_callback','const','\x20\x20\x20\x20}\x0a','exit','<script>\x0a','🔧\x20跳过\x20窗口目录下的\x20preload.js:\x20','windows/','preload.js','7055sdsZZt','⚠️\x20Vue\x20文件没有\x20script\x20部分','path','.js','WebContentsView','electron','map','@mainProcess','memberExpression','async\x20$1()','copyFileSync','--watch','package.json','@babel/generator','unlinkSync','View','\x20\x20},\x0a','exports','}\x0a\x0a','./utils/saveJs','getFullYear','__FUNCTION_','promise','getMonth','shell','contentTracing','writeFileSync','readdirSync','indexOf','./utils/content-processor','./utils/preload-process-handler','311051EIcRDj','\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a','isMethod','3820644AEcjWm','[INFO]\x20','now','\x20\x20\x20\x20','endsWith','pushNotifications','🔧\x20跳过根preload.js:\x20','./shared/watch-manager','🔍\x20检测到\x20node_modules，将保留该目录','utf-8','[ERROR]\x20','exportNamedDeclaration','dist','📋\x20复制文件:\x20','readFileSync','chokidar','📂\x20正在处理:\x20',':\x20async\x20function(','rmSync','README.md','log_','isFile','name','leadingComments','this.callback','\x20(不是窗口目录)','callback','./utils/watcher','webContents','readline','add','✅\x20成功处理\x20main/main.js:\x20','12kBGjVB','788nlnmpt','🔧\x20处理根目录\x20package.json:\x20','size','basename','scripts','🔍\x20处理文件:\x20','📁\x20根目录:\x20','mkdirSync','callExpression','\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a','function\x20registerMainFunctions()\x20{\x0a','returnStatement','sep','relative','🔍\x20处理文件rootDir:\x20','body','functionExpression','scripts/',';\x0a\x20\x20\x20\x20}','检查窗口目录:\x20','screen','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a','const\x20{\x20','❌\x20处理失败:\x20','cluster','trim','replaceWith','entries','powerMonitor','main','getDate','protocol','ShareMenu','replace','\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a','registerCallback','🗑️\x20删除:\x20','desktopCapturer','\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a','error','🔍\x20仅处理:\x20','stringLiteral','method','objectExpression','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);setupConsoleRedirect();\x0a','parentPath','✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20','fn.js','Menu','then','outDir:','isExportNamedDeclaration','.vue','window','✅\x20成功编译:\x20','push','live','main.js','warn','📝\x20处理\x20script\x20部分...','expressionStatement','session','set','.qodo','join','stream','\x20=\x20require(\x27','❌\x20扫描目录失败:\x20','\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a','dirname','./utils/static-file-copier','key','4718wkfKNn','./utils/main-process-handler','⚠️\x20文件不存在:\x20','BrowserWindow','objectMethod','some','--file','variableDeclarator','module.exports\x20=\x20{\x20registerMainFunctions\x20}\x0a','@babel/types','netLog','testdemo4','.git/','from','outPath','assert','.gitignore','this.sendToRenderer(\x27','Notification','✅\x20生成\x20fn.js:\x20','📁\x20创建目录:\x20','tls','hasCallback','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20','\x27);\x0a','statSync','logs','getHours','functionDeclaration','identifier','606279RhJsWG','callMainFunction','parentPort','\x20个文件，耗时\x20','globalShortcut','relativePath:','nativeTheme','dialog','\x20->\x20out/main/','963486ajdibx','检查是否需要\x20preload.js:\x20','✅\x20处理\x20Vue\x20文件完成:\x20','.live','code','info','webFrameMain','✅\x20全量编译完成，日志已保存到:\x20','✅\x20编译完成，准备启动服务...','node','3176DVtGZl','out\x5c','doc',')\x20{\x0a','padStart','length','.idea','out','match','\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a','⚠️\x20跳过文件:\x20','testdemo','blockStatement','🚀\x20开始全量编译...','.vscode','isDirectory','resolve','powerSaveBlocker','getMinutes','\x20\x20\x20\x20\x20\x20};\x0a\x0a','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}','Tray','arrowFunctionExpression','.txt','60DWHUVF','startsWith','result','crypto','outPath:\x20','\x20}\x20=\x20require(\x27electron\x27);\x0a','objectProperty'];_0x4747=function(){return _0x57a900;};return _0x4747();}function saveLogsToFile(){const _0x49db18=_0x3b79c8;if(!isCollectingLogs||compileLogs[_0x49db18(0x1d2)]===0x0)return;const _0x4ac521=new Date(),_0x174fd7=_0x4ac521[_0x49db18(0x125)]()+String(_0x4ac521[_0x49db18(0x128)]()+0x1)['padStart'](0x2,'0')+String(_0x4ac521[_0x49db18(0x172)]())[_0x49db18(0x1d1)](0x2,'0')+String(_0x4ac521[_0x49db18(0x1b7)]())[_0x49db18(0x1d1)](0x2,'0')+String(_0x4ac521[_0x49db18(0x1df)]())[_0x49db18(0x1d1)](0x2,'0')+String(_0x4ac521['getSeconds']())[_0x49db18(0x1d1)](0x2,'0'),_0x459fa0=path[_0x49db18(0x194)](outDir,_0x49db18(0x1b6)),_0x6976c7=path[_0x49db18(0x194)](_0x459fa0,_0x49db18(0x147)+_0x174fd7+_0x49db18(0x1e4));!fs[_0x49db18(0x107)](_0x459fa0)&&fs['mkdirSync'](_0x459fa0,{'recursive':!![]}),fs[_0x49db18(0x12b)](_0x6976c7,compileLogs['join']('\x0a'),_0x49db18(0x13c)),console['log']=originalConsole[_0x49db18(0x211)],console[_0x49db18(0x1c8)]=originalConsole[_0x49db18(0x1c8)],console['warn']=originalConsole[_0x49db18(0x18e)],console[_0x49db18(0x17b)]=originalConsole['error'],console[_0x49db18(0x211)](_0x49db18(0x1ca)+path[_0x49db18(0x161)](rootDir,_0x6976c7));}const args=process['argv']['slice'](0x2),watchMode=args['includes'](_0x3b79c8(0x11c)),singleFileMode=args[_0x3b79c8(0x20f)](_0x3b79c8(0x1a2)),singleFilePath=singleFileMode?args[args['indexOf'](_0x3b79c8(0x1a2))+0x1]:null,rootDir=singleFileMode?args[args['indexOf']('--root-dir')+0x1]:process['cwd'](),outDir=path[_0x3b79c8(0x194)](rootDir,_0x3b79c8(0x1d4)),_outDir=singleFileMode?args[args[_0x3b79c8(0x12d)]('--out-dir')+0x1]:outDir,compileDir=__dirname,isFullCompile=!watchMode&&!singleFileMode,mainProcessFunctions={},functionNameCountMap=new Map();function generateFunctionId(_0x5ed696,_0x592ebb,_0x453029){const _0x46f1ed=_0x3b79c8,_0x114576=_0x5ed696['replace'](rootDir,'')[_0x46f1ed(0x175)](/^[\/\\]/,'')[_0x46f1ed(0x175)](/^src[\/\\]/,'')[_0x46f1ed(0x175)](/\\/g,'/'),_0x1dbdb1=_0x46f1ed(0x126)+_0x114576[_0x46f1ed(0x175)](/[\/\.]/g,'_')+'_'+_0x592ebb+'_'+_0x453029+'__';return _0x1dbdb1;}function extractMainProcessFunction(_0x2e6a0a,_0x3c3167,_0x421ef9){const _0x12f649=_0x3b79c8,_0xdc57dd=_0x2e6a0a[_0x12f649(0x20f)](_0x12f649(0x14b));let _0x84f61=_0x2e6a0a;if(_0xdc57dd)return _0x84f61='let\x20_callbackCount\x20=\x200;\x0a'+_0x84f61,_0x84f61=_0x84f61[_0x12f649(0x175)](/this\.callback\((.*?)\)/g,(_0x39a2b1,_0x15e3cf)=>{const _0x2f2fd8=_0x12f649;return _0x2f2fd8(0x1ad)+_0x421ef9+_0x2f2fd8(0x105)+_0x15e3cf+_0x2f2fd8(0x20c);}),{'fnId':_0x3c3167,'callbackId':_0x421ef9,'code':_0x84f61,'hasCallback':!![]};return{'fnId':_0x3c3167,'code':_0x84f61,'hasCallback':![]};}function processMainProcessCode(_0x470388,_0x3e53bd){const _0x2e59a9=_0x3b79c8;try{const _0x576a25=transformCode(_0x470388),_0x45a1ff=parser[_0x2e59a9(0x1fb)](_0x576a25,{'sourceType':'module','plugins':['jsx',_0x2e59a9(0x210)]}),_0x14709f=[];traverse(_0x45a1ff,{'ExportNamedDeclaration'(_0x3a1a93){const _0x3d2e3f=_0x2e59a9;if(t['isFunctionDeclaration'](_0x3a1a93[_0x3d2e3f(0x1cc)]['declaration'])){const _0x1be33e=_0x3a1a93[_0x3d2e3f(0x1cc)]['declaration'],_0x37be29=_0x3a1a93[_0x3d2e3f(0x1cc)][_0x3d2e3f(0x14a)]||_0x1be33e['leadingComments']||[],_0x3a3d43=_0x37be29['some'](_0x519283=>_0x519283[_0x3d2e3f(0x20a)][_0x3d2e3f(0x20f)]('@mainProcess'));if(_0x3a3d43){const _0x5ce95e=_0x1be33e['id'][_0x3d2e3f(0x149)],_0x5f53a5=functionNameCountMap[_0x3d2e3f(0x1fd)](_0x3e53bd+':'+_0x5ce95e)||0x0,_0x1a2152=generateFunctionId(_0x3e53bd,_0x5ce95e,_0x5f53a5),_0xac6fde=generateFunctionId(_0x3e53bd,_0x5ce95e+'_callback',_0x5f53a5);functionNameCountMap[_0x3d2e3f(0x192)](_0x3e53bd+':'+_0x5ce95e,_0x5f53a5+0x1);const _0xee4033=generate(_0x1be33e[_0x3d2e3f(0x163)])[_0x3d2e3f(0x1c7)],_0x1fff8c=_0xee4033[_0x3d2e3f(0x175)](/^\{\s*|\s*\}$/g,'')[_0x3d2e3f(0x16d)](),_0xb95139=extractMainProcessFunction(_0x1fff8c,_0x1a2152,_0xac6fde);_0x14709f[_0x3d2e3f(0x18b)]({'name':_0x5ce95e,..._0xb95139,'isExport':!![],'path':_0x3a1a93,'params':_0x1be33e[_0x3d2e3f(0x214)]});}}},'FunctionDeclaration'(_0x6eb94e){const _0x7590a2=_0x2e59a9;if(_0x6eb94e[_0x7590a2(0x181)][_0x7590a2(0x187)]())return;const _0x41d759=_0x6eb94e[_0x7590a2(0x1cc)][_0x7590a2(0x14a)]||[],_0x5d7d27=_0x41d759[_0x7590a2(0x1a1)](_0x18e2f5=>_0x18e2f5['value'][_0x7590a2(0x20f)](_0x7590a2(0x118)));if(_0x5d7d27){const _0x3d7830=_0x6eb94e[_0x7590a2(0x1cc)]['id'][_0x7590a2(0x149)],_0x35daf9=functionNameCountMap[_0x7590a2(0x1fd)](_0x3e53bd+':'+_0x3d7830)||0x0,_0x37ebbf=generateFunctionId(_0x3e53bd,_0x3d7830,_0x35daf9),_0x972499=generateFunctionId(_0x3e53bd,_0x3d7830+_0x7590a2(0x109),_0x35daf9);functionNameCountMap[_0x7590a2(0x192)](_0x3e53bd+':'+_0x3d7830,_0x35daf9+0x1);const _0x4314fc=generate(_0x6eb94e[_0x7590a2(0x1cc)][_0x7590a2(0x163)])[_0x7590a2(0x1c7)],_0x394c2e=_0x4314fc['replace'](/^\{\s*|\s*\}$/g,'')[_0x7590a2(0x16d)](),_0x4bfb82=extractMainProcessFunction(_0x394c2e,_0x37ebbf,_0x972499);_0x14709f[_0x7590a2(0x18b)]({'name':_0x3d7830,..._0x4bfb82,'isExport':![],'path':_0x6eb94e,'params':_0x6eb94e[_0x7590a2(0x1cc)][_0x7590a2(0x214)]});}},'ObjectMethod'(_0x48ff2a){const _0x357416=_0x2e59a9,_0x3b1bcb=_0x48ff2a[_0x357416(0x1cc)][_0x357416(0x14a)]||[],_0x19a8fe=_0x3b1bcb[_0x357416(0x1a1)](_0x43a89a=>_0x43a89a['value']['includes'](_0x357416(0x118)));if(_0x19a8fe){const _0x307280=_0x48ff2a['node'][_0x357416(0x19b)][_0x357416(0x149)],_0x19fa98=functionNameCountMap[_0x357416(0x1fd)](_0x3e53bd+':'+_0x307280)||0x0,_0x2d5d5d=generateFunctionId(_0x3e53bd,_0x307280,_0x19fa98),_0x4ed743=generateFunctionId(_0x3e53bd,_0x307280+'_callback',_0x19fa98);functionNameCountMap['set'](_0x3e53bd+':'+_0x307280,_0x19fa98+0x1);const _0x4b4e75=generate(_0x48ff2a[_0x357416(0x1cc)][_0x357416(0x163)])['code'],_0x1bdcf1=_0x4b4e75['replace'](/^\{\s*|\s*\}$/g,'')[_0x357416(0x16d)](),_0x1ce7b0=extractMainProcessFunction(_0x1bdcf1,_0x2d5d5d,_0x4ed743);_0x14709f[_0x357416(0x18b)]({'name':_0x307280,..._0x1ce7b0,'isMethod':!![],'path':_0x48ff2a,'params':_0x48ff2a[_0x357416(0x1cc)]['params']});}}});for(const _0xffec72 of _0x14709f){const _0x428381=_0xffec72[_0x2e59a9(0x204)];mainProcessFunctions[_0x428381]={'body':_0xffec72[_0x2e59a9(0x1c7)],'name':_0xffec72[_0x2e59a9(0x149)],'params':_0xffec72['params']['map'](_0x10409b=>_0x10409b['name'])};let _0x111a5d;!_0xffec72[_0x2e59a9(0x1b2)]?_0x111a5d=t[_0x2e59a9(0x1d9)]([t[_0x2e59a9(0x15f)](t[_0x2e59a9(0x15c)](t['memberExpression'](t[_0x2e59a9(0x119)](t[_0x2e59a9(0x1b9)](_0x2e59a9(0x189)),t[_0x2e59a9(0x1b9)](_0x2e59a9(0x116))),t[_0x2e59a9(0x1b9)](_0x2e59a9(0x1bb))),[t[_0x2e59a9(0x17d)](_0x428381),t['objectExpression'](_0xffec72[_0x2e59a9(0x214)]['map'](_0x221bb0=>t[_0x2e59a9(0x1eb)](t[_0x2e59a9(0x1b9)](_0x221bb0['name']),t[_0x2e59a9(0x1b9)](_0x221bb0[_0x2e59a9(0x149)]))))]))]):_0x111a5d=t[_0x2e59a9(0x1d9)]([t[_0x2e59a9(0x1ec)](_0x2e59a9(0x10a),[t[_0x2e59a9(0x1a3)](t[_0x2e59a9(0x1b9)](_0x2e59a9(0x127)),t[_0x2e59a9(0x15c)](t[_0x2e59a9(0x119)](t[_0x2e59a9(0x119)](t[_0x2e59a9(0x1b9)](_0x2e59a9(0x189)),t[_0x2e59a9(0x1b9)](_0x2e59a9(0x116))),t[_0x2e59a9(0x1b9)]('callMainFunction')),[t['stringLiteral'](_0x428381),t[_0x2e59a9(0x17f)](_0xffec72['params'][_0x2e59a9(0x117)](_0x2e6dd7=>t[_0x2e59a9(0x1eb)](t['identifier'](_0x2e6dd7['name']),t['identifier'](_0x2e6dd7[_0x2e59a9(0x149)]))))]))]),t[_0x2e59a9(0x15f)](t[_0x2e59a9(0x17f)]([t[_0x2e59a9(0x1eb)](t[_0x2e59a9(0x1b9)](_0x2e59a9(0x18c)),t[_0x2e59a9(0x164)](null,[t[_0x2e59a9(0x1b9)](_0x2e59a9(0x14d))],t[_0x2e59a9(0x1d9)]([t[_0x2e59a9(0x190)](t[_0x2e59a9(0x15c)](t[_0x2e59a9(0x119)](t[_0x2e59a9(0x119)](t[_0x2e59a9(0x1b9)]('window'),t[_0x2e59a9(0x1b9)](_0x2e59a9(0x116))),t[_0x2e59a9(0x1b9)](_0x2e59a9(0x177))),[t[_0x2e59a9(0x17d)](_0xffec72['callbackId']),t[_0x2e59a9(0x1b9)]('callback')])),t[_0x2e59a9(0x190)](t[_0x2e59a9(0x15c)](t[_0x2e59a9(0x119)](t['identifier'](_0x2e59a9(0x127)),t[_0x2e59a9(0x1b9)](_0x2e59a9(0x185))),[t[_0x2e59a9(0x1e3)]([t[_0x2e59a9(0x1b9)](_0x2e59a9(0x1e7))],t[_0x2e59a9(0x15c)](t[_0x2e59a9(0x1b9)](_0x2e59a9(0x14d)),[t[_0x2e59a9(0x1b9)](_0x2e59a9(0x1e7))]))]))])))]))]);if(_0xffec72[_0x2e59a9(0x132)])_0xffec72[_0x2e59a9(0x113)][_0x2e59a9(0x16e)](t[_0x2e59a9(0x1a0)](_0x2e59a9(0x17e),t['identifier'](_0xffec72[_0x2e59a9(0x149)]),_0xffec72['params'],_0x111a5d,![],![]),!![]);else{const _0x502538=t[_0x2e59a9(0x1b8)](t[_0x2e59a9(0x1b9)](_0xffec72['name']),_0xffec72['params'],_0x111a5d);_0xffec72['isExport']?_0xffec72[_0x2e59a9(0x113)][_0x2e59a9(0x16e)](t[_0x2e59a9(0x13e)](_0x502538,[])):_0xffec72['path'][_0x2e59a9(0x16e)](_0x502538);}}const _0x2e73ff=generate(_0x45a1ff,{'retainLines':!![],'compact':![],'quotes':_0x2e59a9(0x1ef),'concise':![],'jsescOption':{'quotes':_0x2e59a9(0x1ef)},'format':{'indent':{'style':_0x2e59a9(0x136),'adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x358cc6=_0x2e73ff['code'][_0x2e59a9(0x175)](/\n\n+/g,'\x0a\x0a')[_0x2e59a9(0x175)](/{\s*return\s+/g,_0x2e59a9(0x1b3))[_0x2e59a9(0x175)](/;\s*}/g,_0x2e59a9(0x166))['replace'](/,\s*live:\s*function/g,_0x2e59a9(0x215))[_0x2e59a9(0x175)](/}\s*}\s*$/gm,_0x2e59a9(0x1e1))['replace'](/async\s+(\w+)\s*\(\)/g,_0x2e59a9(0x11a))[_0x2e59a9(0x175)](/\)\s*{/g,')\x20{');return _0x358cc6;}catch(_0x2ef12f){return console[_0x2e59a9(0x17b)]('处理主进程代码时出错:',_0x2ef12f),_0x470388;}}function generateMainProcessRegistration(){const _0x259ec2=_0x3b79c8,_0x46272d=['app',_0x259ec2(0x1f7),_0x259ec2(0x108),_0x259ec2(0x1fa),_0x259ec2(0x19f),'clipboard',_0x259ec2(0x12a),_0x259ec2(0x212),_0x259ec2(0x179),_0x259ec2(0x1c1),_0x259ec2(0x1be),'inAppPurchase',_0x259ec2(0x1f0),_0x259ec2(0x184),'MessageChannelMain','MessagePortMain','nativeImage',_0x259ec2(0x1c0),'net',_0x259ec2(0x1a6),_0x259ec2(0x1ae),_0x259ec2(0x1bc),_0x259ec2(0x170),_0x259ec2(0x1de),_0x259ec2(0x173),_0x259ec2(0x138),_0x259ec2(0x1f5),_0x259ec2(0x168),_0x259ec2(0x191),_0x259ec2(0x174),_0x259ec2(0x129),'systemPreferences','TouchBar',_0x259ec2(0x1e2),_0x259ec2(0x106),_0x259ec2(0x14f),_0x259ec2(0x115),_0x259ec2(0x1c9),_0x259ec2(0x120)],_0x1db9cf=['os','fs','path',_0x259ec2(0x1e8),'http','https','net',_0x259ec2(0x195),_0x259ec2(0x1f6),'child_process',_0x259ec2(0x16c),'dns',_0x259ec2(0x1b1),_0x259ec2(0x150),_0x259ec2(0x1ab),_0x259ec2(0x216)],_0x1f9145=new Set([_0x259ec2(0x1f0)]),_0x2f5337=new Set();for(const [_0x5b7517,_0x1a4fbc]of Object[_0x259ec2(0x16f)](mainProcessFunctions)){const _0xdfc4ae=_0x1a4fbc['body'];_0x46272d[_0x259ec2(0x1ff)](_0x7cfcf3=>{const _0x3cedce=_0x259ec2;_0xdfc4ae[_0x3cedce(0x20f)](_0x7cfcf3+'.')&&_0x1f9145[_0x3cedce(0x151)](_0x7cfcf3);}),_0x1db9cf[_0x259ec2(0x1ff)](_0x34f8dc=>{const _0x445029=_0x259ec2;_0xdfc4ae[_0x445029(0x20f)](_0x34f8dc+'.')&&_0x2f5337[_0x445029(0x151)](_0x34f8dc);});}let _0x232762='';_0x1f9145[_0x259ec2(0x156)]>0x0&&(_0x232762+=_0x259ec2(0x16a)+Array[_0x259ec2(0x1a9)](_0x1f9145)[_0x259ec2(0x194)](',\x20')+_0x259ec2(0x1ea));_0x2f5337[_0x259ec2(0x156)]>0x0&&(Array[_0x259ec2(0x1a9)](_0x2f5337)[_0x259ec2(0x1ff)](_0x12a81e=>{const _0x25352a=_0x259ec2;_0x232762+=_0x25352a(0x205)+_0x12a81e+_0x25352a(0x196)+_0x12a81e+_0x25352a(0x1b4);}),_0x232762+='\x0a');_0x232762+=_0x259ec2(0x180),_0x232762+=_0x259ec2(0x218);for(const [_0x41cf66,_0x5d42b7]of Object[_0x259ec2(0x16f)](mainProcessFunctions)){_0x232762+='\x20\x20//\x20'+_0x5d42b7[_0x259ec2(0x149)]+'\x0a',_0x232762+='\x20\x20'+_0x41cf66+_0x259ec2(0x144)+_0x5d42b7['params'][_0x259ec2(0x194)](',\x20')+_0x259ec2(0x1d0),_0x232762+='\x20\x20\x20\x20'+_0x5d42b7[_0x259ec2(0x163)]+'\x0a',_0x232762+=_0x259ec2(0x121);}return _0x232762+=_0x259ec2(0x123),_0x232762+=_0x259ec2(0x15e),_0x232762+=_0x259ec2(0x1d6),_0x232762+='\x20\x20\x20\x20try\x20{\x0a',_0x232762+=_0x259ec2(0x176),_0x232762+='\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a',_0x232762+=_0x259ec2(0x17a),_0x232762+=_0x259ec2(0x169),_0x232762+=_0x259ec2(0x20d),_0x232762+=_0x259ec2(0x1e0),_0x232762+=_0x259ec2(0x198),_0x232762+=_0x259ec2(0x15d),_0x232762+=_0x259ec2(0x1ee),_0x232762+=_0x259ec2(0x131),_0x232762+=_0x259ec2(0x10b),_0x232762+='\x20\x20});\x0a',_0x232762+='}\x0a\x0a',_0x232762+=_0x259ec2(0x1a4),_0x232762;}const startTime=Date[_0x3b79c8(0x135)]();let processedFiles=0x0;function getNormalizedOutPath(_0x2381c7,_0x2bfba6){const _0x112c2a=_0x3b79c8;console[_0x112c2a(0x211)](_0x112c2a(0x143)+_0x2381c7+_0x112c2a(0x136)+_0x2bfba6);if(_0x2381c7[_0x112c2a(0x1e6)](_0x112c2a(0x201))||_0x2381c7[_0x112c2a(0x1e6)](_0x112c2a(0x1ce)))return path[_0x112c2a(0x194)](rootDir,_0x2381c7);return path[_0x112c2a(0x194)](_0x2bfba6,_0x2381c7);}function ensureOutDirExists(){const _0x33b94a=_0x3b79c8;if(fs['existsSync'](outDir)){const _0x447e5c=path[_0x33b94a(0x194)](outDir,'node_modules'),_0x18ac6f=fs[_0x33b94a(0x12c)](outDir);if(fs['existsSync'](_0x447e5c)){console[_0x33b94a(0x211)](_0x33b94a(0x13b));for(const _0x13b69c of _0x18ac6f){if(_0x13b69c!==_0x33b94a(0x207)){const _0x23c573=path['join'](outDir,_0x13b69c);fs['statSync'](_0x23c573)[_0x33b94a(0x1dc)]()?fs['rmSync'](_0x23c573,{'recursive':!![],'force':!![]}):fs[_0x33b94a(0x11f)](_0x23c573),console[_0x33b94a(0x211)]('🗑️\x20删除:\x20'+_0x13b69c);}}console[_0x33b94a(0x211)]('✅\x20已清理\x20out\x20目录（保留\x20node_modules）');}else{for(const _0x4dbb94 of _0x18ac6f){const _0x31e134=path[_0x33b94a(0x194)](outDir,_0x4dbb94);fs[_0x33b94a(0x1b5)](_0x31e134)['isDirectory']()?fs[_0x33b94a(0x145)](_0x31e134,{'recursive':!![],'force':!![]}):fs[_0x33b94a(0x11f)](_0x31e134),console[_0x33b94a(0x211)](_0x33b94a(0x178)+_0x4dbb94);}console[_0x33b94a(0x211)]('🗑️\x20删除输出目录:\x20'+outDir);}}fs[_0x33b94a(0x15b)](outDir,{'recursive':!![]}),console[_0x33b94a(0x211)](_0x33b94a(0x20b)+outDir);}function processFile(_0x500c04,_0x519ce9){const _0x428ca5=_0x3b79c8;try{}catch(_0x5215a5){return console[_0x428ca5(0x17b)](_0x428ca5(0x16b)+_0x500c04,_0x5215a5),![];}console[_0x428ca5(0x211)](_0x428ca5(0x162)+rootDir),_0x500c04=path[_0x428ca5(0x1dd)](rootDir,_0x500c04),console[_0x428ca5(0x211)](_0x428ca5(0x159)+_0x500c04);const _0x564606=path[_0x428ca5(0x161)](rootDir,_0x500c04),_0x2c508a=singleFileMode?_0x519ce9:path[_0x428ca5(0x194)](process['cwd'](),_0x428ca5(0x1d4));console[_0x428ca5(0x211)](_0x428ca5(0x186),_0x2c508a),console[_0x428ca5(0x211)](_0x428ca5(0x1bf),_0x564606);const _0x4ed196=getNormalizedOutPath(_0x564606,_0x2c508a);console[_0x428ca5(0x211)]('🔍\x20outPath处理文件:\x20'+_0x4ed196);const _0x341fc6=path[_0x428ca5(0x199)](_0x4ed196);if(!fs[_0x428ca5(0x107)](_0x500c04))return console[_0x428ca5(0x211)](_0x428ca5(0x19e)+_0x500c04),_0x500c04[_0x428ca5(0x20f)]('windows'+path[_0x428ca5(0x160)])&&path[_0x428ca5(0x157)](_0x500c04)===_0x428ca5(0x110)?(writeDefaultPreloadFileWhenDeleted(compileDir,_0x2c508a,_0x4ed196,_0x500c04),![]):![];if(_0x564606[_0x428ca5(0x20f)](_0x428ca5(0x217))||_0x564606[_0x428ca5(0x20f)](_0x428ca5(0x1a8))||_0x564606['includes'](_0x428ca5(0x201))||_0x564606[_0x428ca5(0x1e6)](_0x428ca5(0x165)))return![];!fs[_0x428ca5(0x107)](_0x341fc6)&&(fs[_0x428ca5(0x15b)](_0x341fc6,{'recursive':!![]}),console[_0x428ca5(0x211)](_0x428ca5(0x1b0)+_0x341fc6));if(_0x500c04[_0x428ca5(0x137)](_0x428ca5(0x114))){const _0x3aa7d8=fs[_0x428ca5(0x141)](_0x500c04,'utf-8');if(path[_0x428ca5(0x157)](_0x500c04)===_0x428ca5(0x18d)&&path[_0x428ca5(0x199)](_0x500c04)[_0x428ca5(0x137)](_0x428ca5(0x171))){console['log'](_0x428ca5(0x203)+_0x564606);const _0x3a080a=processMainProcessFile(_0x3aa7d8,_0x564606),_0x2d3d8f=obfuscatorJS(_0x3a080a);fs[_0x428ca5(0x12b)](_0x4ed196,_0x2d3d8f),console[_0x428ca5(0x211)](_0x428ca5(0x152)+_0x564606);}else{if(path[_0x428ca5(0x157)](_0x500c04)==='preload.js')return _0x564606[_0x428ca5(0x1e6)](_0x428ca5(0x10f))?(console[_0x428ca5(0x211)](_0x428ca5(0x10e)+_0x564606),![]):(console['log'](_0x428ca5(0x139)+_0x564606),![]);else{const _0x2683a2=_0x3aa7d8[_0x428ca5(0x20f)]('@mainProcess');if(_0x2683a2){console[_0x428ca5(0x211)]('🔧\x20处理主进程文件:\x20'+_0x564606);const _0xcf3b84=processMainProcessCode(_0x3aa7d8,_0x500c04);fs['writeFileSync'](_0x4ed196,_0xcf3b84);if(!isFullCompile){const _0x524976=generateMainProcessRegistration();updateFnFile(_0x2c508a,rootDir,_0x500c04,_0x524976);}console[_0x428ca5(0x211)](_0x428ca5(0x18a)+_0x564606);}else fs['copyFileSync'](_0x500c04,_0x4ed196),console[_0x428ca5(0x211)](_0x428ca5(0x140)+_0x564606);}}}else{if(_0x500c04[_0x428ca5(0x137)](_0x428ca5(0x188))){const _0x1a959b=fs[_0x428ca5(0x141)](_0x500c04,_0x428ca5(0x13c));console['log'](_0x428ca5(0x1fe)+_0x564606);if(_0x1a959b[_0x428ca5(0x20f)](_0x428ca5(0x118))||_0x1a959b[_0x428ca5(0x20f)](_0x428ca5(0x1c6))){console['log']('🔧\x20处理\x20Vue\x20文件:\x20'+_0x564606);const _0x77068e=processVueFile(_0x1a959b,_0x500c04);fs['writeFileSync'](_0x4ed196,_0x77068e),console[_0x428ca5(0x211)](_0x428ca5(0x1e9)+_0x4ed196);if(!isFullCompile){const _0x6be402=generateMainProcessRegistration();updateFnFile(_0x2c508a,rootDir,_0x500c04,_0x6be402);}}else console[_0x428ca5(0x211)]('srcPath',_0x428ca5(0x1aa)),console[_0x428ca5(0x211)](_0x500c04,_0x4ed196),fs[_0x428ca5(0x11b)](_0x500c04,_0x4ed196);console['log'](_0x428ca5(0x1c5)+_0x564606);}else{if(_0x500c04[_0x428ca5(0x137)]('.html'))fs['copyFileSync'](_0x500c04,_0x4ed196),console[_0x428ca5(0x211)]('📋\x20复制\x20HTML\x20文件:\x20'+_0x564606);else path[_0x428ca5(0x157)](_0x500c04)===_0x428ca5(0x11d)&&path['dirname'](_0x500c04)===rootDir?(console[_0x428ca5(0x211)](_0x428ca5(0x155)+_0x564606),processPackageJson(_0x500c04,_0x4ed196)):(fs[_0x428ca5(0x11b)](_0x500c04,_0x4ed196),console[_0x428ca5(0x211)]('📋\x20复制文件:\x20'+_0x564606));}}return processedFiles++,!![];}const IGNORE_DIRS=[_0x3b79c8(0x207),'out','.git',_0x3b79c8(0x1cf),'yarn.lock',_0x3b79c8(0x13f),_0x3b79c8(0x208),'testdemo2',,_0x3b79c8(0x146),_0x3b79c8(0x209),_0x3b79c8(0x1d8),'testdemo3',_0x3b79c8(0x1a7),'publish.js',_0x3b79c8(0x1ac),_0x3b79c8(0x158),'.svn',_0x3b79c8(0x193),_0x3b79c8(0x1d3),_0x3b79c8(0x1db)];function processDir(_0x1ea08f){const _0x25c1df=_0x3b79c8;try{const _0x464ff4=fs[_0x25c1df(0x12c)](_0x1ea08f);for(const _0x1ea28b of _0x464ff4){const _0x165997=path['join'](_0x1ea08f,_0x1ea28b);if(IGNORE_DIRS['includes'](_0x1ea28b))continue;try{const _0xd48602=fs[_0x25c1df(0x1b5)](_0x165997);if(_0xd48602['isDirectory']())processDir(_0x165997);else _0xd48602[_0x25c1df(0x148)]()&&processFile(_0x165997);}catch(_0x4fcca4){console['error'](_0x25c1df(0x20e)+_0x165997,_0x4fcca4);}}}catch(_0x8a6808){console[_0x25c1df(0x17b)](_0x25c1df(0x197)+_0x1ea08f,_0x8a6808);}}function copyScriptsMainFiles(_0x33be22,_0x523f61,_0x848add){const _0x1d67d4=_0x3b79c8,_0x3dcb00=path[_0x1d67d4(0x194)](_0x848add,_0x1d67d4(0x1c7),_0x1d67d4(0x171)),_0x3830fc=path['join'](_0x523f61,_0x1d67d4(0x171));if(fs[_0x1d67d4(0x107)](_0x3dcb00)){!fs['existsSync'](_0x3830fc)&&fs[_0x1d67d4(0x15b)](_0x3830fc,{'recursive':!![]});const _0x1315e1=fs['readdirSync'](_0x3dcb00);for(const _0x47084f of _0x1315e1){const _0x1335b5=path[_0x1d67d4(0x194)](_0x3dcb00,_0x47084f),_0x313f4b=path['join'](_0x3830fc,_0x47084f);if(fs[_0x1d67d4(0x1b5)](_0x1335b5)['isFile']()){const _0x543d6e=fs[_0x1d67d4(0x141)](_0x1335b5,_0x1d67d4(0x13c));fs[_0x1d67d4(0x12b)](_0x313f4b,obfuscatorJS(_0x543d6e)),console[_0x1d67d4(0x211)](_0x1d67d4(0x1fc)+_0x47084f+_0x1d67d4(0x1c2)+_0x47084f);}}}}function compileAll(){const _0x1231c7=_0x3b79c8;console[_0x1231c7(0x211)](_0x1231c7(0x1da)),setupLogCollector(),console[_0x1231c7(0x211)](_0x1231c7(0x15a)+rootDir),console[_0x1231c7(0x211)]('📁\x20输出目录:\x20'+outDir),copyScriptsMainFiles(rootDir,outDir,compileDir),processDir(rootDir),checkWindowPreloadAndCopy(rootDir,outDir,compileDir),copyStaticFilesToWindowDirs(rootDir,outDir,compileDir),copyScriptsToOutputRoot(rootDir,outDir,compileDir);if(Object['keys'](mainProcessFunctions)[_0x1231c7(0x1d2)]>0x0){console[_0x1231c7(0x211)](_0x1231c7(0x202));const _0x2c6ad4=path[_0x1231c7(0x194)](outDir,_0x1231c7(0x171),_0x1231c7(0x183));fs[_0x1231c7(0x15b)](path[_0x1231c7(0x199)](_0x2c6ad4),{'recursive':!![]});const _0x50f5d2=generateMainProcessRegistration();fs[_0x1231c7(0x12b)](_0x2c6ad4,obfuscatorJS(_0x50f5d2)),console[_0x1231c7(0x211)](_0x1231c7(0x1af)+path[_0x1231c7(0x161)](rootDir,_0x2c6ad4));}const _0x405c07=((Date['now']()-startTime)/0x3e8)['toFixed'](0x2);console[_0x1231c7(0x211)]('✅\x20全量编译完成\x20-\x20处理了\x20'+processedFiles+_0x1231c7(0x1bd)+_0x405c07+'s'),saveLogsToFile();}function _0xdb6c(_0x585f53,_0x13ee76){const _0x4747f9=_0x4747();return _0xdb6c=function(_0xdb6c01,_0x361046){_0xdb6c01=_0xdb6c01-0x103;let _0x2cfb1f=_0x4747f9[_0xdb6c01];return _0x2cfb1f;},_0xdb6c(_0x585f53,_0x13ee76);}function checkWindowDirPreload(_0x416e09){const _0x1f926e=_0x3b79c8,_0x423761=path[_0x1f926e(0x161)](rootDir,_0x416e09)[_0x1f926e(0x175)](/\\/g,'/');console[_0x1f926e(0x211)](_0x1f926e(0x1c4)+_0x423761);if(_0x423761[_0x1f926e(0x1e6)](_0x1f926e(0x10f))||_0x423761[_0x1f926e(0x1e6)](_0x1f926e(0x1f3))){let _0x377252,_0x320f7d=_0x423761['split']('/');_0x320f7d[_0x1f926e(0x1d2)]<0x2&&(_0x320f7d=_0x423761[_0x1f926e(0x1f1)]('\x5c'));if(_0x320f7d[_0x1f926e(0x1d2)]>=0x2){_0x377252=_0x320f7d[0x1];if(_0x377252[_0x1f926e(0x20f)]('.')){console[_0x1f926e(0x211)](_0x1f926e(0x1d7)+_0x377252+_0x1f926e(0x14c));return;}const _0x223e71=path[_0x1f926e(0x194)](rootDir,'windows',_0x377252);if(!fs[_0x1f926e(0x107)](_0x223e71)||!fs[_0x1f926e(0x1b5)](_0x223e71)['isDirectory']()){console[_0x1f926e(0x211)](_0x1f926e(0x206)+_0x223e71);return;}const _0x24b0c0=path[_0x1f926e(0x194)](_0x223e71,'preload.js');console['log'](_0x1f926e(0x167)+_0x377252+',\x20preload\x20路径:\x20'+_0x24b0c0);if(!fs[_0x1f926e(0x107)](_0x24b0c0)){const _0x3f1760=path[_0x1f926e(0x194)](rootDir,_0x1f926e(0x110));if(fs[_0x1f926e(0x107)](_0x3f1760)){const _0x3d0d77=getNormalizedOutPath(_0x1f926e(0x10f)+_0x377252,outDir),_0x525431=path[_0x1f926e(0x194)](_0x3d0d77,_0x1f926e(0x110));!fs['existsSync'](_0x3d0d77)&&fs[_0x1f926e(0x15b)](_0x3d0d77,{'recursive':!![]});const _0x13b819=fs['readFileSync'](_0x3f1760,'utf-8');fs[_0x1f926e(0x12b)](_0x525431,_0x13b819),console['log'](_0x1f926e(0x182)+path[_0x1f926e(0x161)](rootDir,_0x525431));}}}}}function processVueFile(_0x5d8394,_0x33fd37){const _0x8f96d2=_0x3b79c8;try{console[_0x8f96d2(0x211)](_0x8f96d2(0x1f8));const {template:_0x4ec33b,script:_0x54b847,styles:_0x3de942}=parseVueFile(_0x5d8394);if(!_0x54b847)return console[_0x8f96d2(0x211)](_0x8f96d2(0x112)),_0x5d8394;console['log'](_0x8f96d2(0x18f));const _0x400ff3=processMainProcessCode(_0x54b847,_0x33fd37);console[_0x8f96d2(0x211)](_0x8f96d2(0x1f9));const _0x107ac0=generateVueFile(_0x4ec33b,_0x400ff3,_0x3de942);return console[_0x8f96d2(0x211)]('✅\x20Vue\x20文件处理完成'),_0x107ac0;}catch(_0xedb714){return console['error']('❌\x20处理\x20Vue\x20文件时出错:',_0xedb714),_0x5d8394;}}function parseVueFile(_0x343f5a){const _0x14c2c6=_0x3b79c8,_0x4b267a=_0x343f5a['match'](/<template>([\s\S]*)<\/template>/),_0x2973ad=_0x343f5a['match'](/<script>([\s\S]*)<\/script>/),_0x16a9f5=_0x343f5a[_0x14c2c6(0x1d5)](/<style[^>]*>([\s\S]*?)<\/style>/g);return{'template':_0x4b267a?_0x4b267a[0x0]:'','script':_0x2973ad?_0x2973ad[0x1]:'','styles':_0x16a9f5||[]};}function generateVueFile(_0x75b794,_0x15c4c0,_0x43ed59){const _0x2601e8=_0x3b79c8;let _0x3e478c='';return _0x75b794&&(_0x3e478c+=_0x75b794+'\x0a\x0a'),_0x15c4c0&&(_0x3e478c+=_0x2601e8(0x10d)+_0x15c4c0+_0x2601e8(0x104)),_0x43ed59&&_0x43ed59[_0x2601e8(0x1d2)]>0x0&&(_0x3e478c+=_0x43ed59['join']('\x0a\x0a')),_0x3e478c;}(function main(){const _0x23ec01=_0x3b79c8;if(singleFileMode&&singleFilePath){console['log'](_0x23ec01(0x17c)+singleFilePath),processFile(singleFilePath,_outDir),checkWindowDirStaticFiles(singleFilePath,rootDir,outDir);return;}ensureOutDirExists(),compileAll(),watchMode?setupCompileWatcher(processFile,checkWindowDirPreload):(console['log'](_0x23ec01(0x1cb)),process[_0x23ec01(0x10c)](0x0));}(),module[_0x3b79c8(0x122)]={'checkWindowDirPreload':checkWindowDirPreload});