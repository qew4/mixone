const _0x19f92b=_0x5404;(function(_0x420517,_0x1c7b86){const _0x2e329c=_0x5404,_0x53e88d=_0x420517();while(!![]){try{const _0x418290=parseInt(_0x2e329c(0x180))/0x1+parseInt(_0x2e329c(0x22a))/0x2*(parseInt(_0x2e329c(0x23e))/0x3)+-parseInt(_0x2e329c(0x205))/0x4+parseInt(_0x2e329c(0x124))/0x5*(parseInt(_0x2e329c(0x119))/0x6)+-parseInt(_0x2e329c(0x1a4))/0x7*(parseInt(_0x2e329c(0x240))/0x8)+parseInt(_0x2e329c(0x1fb))/0x9+-parseInt(_0x2e329c(0x1cc))/0xa;if(_0x418290===_0x1c7b86)break;else _0x53e88d['push'](_0x53e88d['shift']());}catch(_0x7e39d9){_0x53e88d['push'](_0x53e88d['shift']());}}}(_0x39fa,0x42297));const fs=require('fs'),path=require(_0x19f92b(0x132)),chokidar=require(_0x19f92b(0x17e)),watchManager=require('./shared/watch-manager'),crypto=require(_0x19f92b(0x1c2)),parser=require(_0x19f92b(0x213)),traverse=require(_0x19f92b(0x1ce))[_0x19f92b(0x13a)],generate=require(_0x19f92b(0x1b1))[_0x19f92b(0x13a)],t=require('@babel/types'),{setupCompileWatcher}=require(_0x19f92b(0x214)),{transformCode,analyseCompleteUseNode,transformVueScript}=require(_0x19f92b(0x11a)),{updateFnFile}=require(_0x19f92b(0x16f)),{copyStaticFilesToWindowDirs,checkWindowDirStaticFiles,copyScriptsToOutputRoot}=require(_0x19f92b(0x23b)),{processPackageJson}=require(_0x19f92b(0x1c6)),{processMainProcessFile}=require(_0x19f92b(0x164)),{checkWindowPreloadAndCopy,writeDefaultPreloadFileWhenDeleted}=require(_0x19f92b(0x153)),{obfuscatorJS}=require('./utils/saveJs');let compileLogs=[],isCollectingLogs=![];const originalConsole={'log':console[_0x19f92b(0x217)],'info':console[_0x19f92b(0x1cf)],'warn':console[_0x19f92b(0x20e)],'error':console['error']},CONFIG={'logToConsole':!![]};function setupLogCollector(){const _0x2455d4=_0x19f92b;if(!isFullCompile)return;isCollectingLogs=!![],compileLogs=[],console['log']=(..._0x5668eb)=>{const _0x194e71=_0x5404,_0x388f57=_0x194e71(0x1da)+_0x5668eb['join']('\x20');compileLogs['push'](_0x388f57),CONFIG[_0x194e71(0x19e)]&&originalConsole[_0x194e71(0x217)](_0x388f57);},console['info']=(..._0x34f077)=>{const _0x375588=_0x5404,_0x3f9896=_0x375588(0x1a9)+_0x34f077[_0x375588(0x1c8)]('\x20');compileLogs[_0x375588(0x1fc)](_0x3f9896),CONFIG[_0x375588(0x19e)]&&originalConsole[_0x375588(0x1cf)](_0x3f9896);},console[_0x2455d4(0x20e)]=(..._0x38f336)=>{const _0x3ae508=_0x2455d4,_0x396363=_0x3ae508(0x187)+_0x38f336[_0x3ae508(0x1c8)]('\x20');compileLogs[_0x3ae508(0x1fc)](_0x396363),CONFIG[_0x3ae508(0x19e)]&&originalConsole[_0x3ae508(0x20e)](_0x396363);},console[_0x2455d4(0x140)]=(..._0x256d35)=>{const _0x279c2c=_0x2455d4,_0x2c3dc1=_0x279c2c(0x1f3)+_0x256d35['join']('\x20');compileLogs['push'](_0x2c3dc1),CONFIG['logToConsole']&&originalConsole['error'](_0x2c3dc1);};}function saveLogsToFile(){const _0x2984b9=_0x19f92b;if(!isCollectingLogs||compileLogs[_0x2984b9(0x147)]===0x0)return;const _0x145485=new Date(),_0x35f3f2=_0x145485[_0x2984b9(0x1a8)]()+String(_0x145485[_0x2984b9(0x15e)]()+0x1)[_0x2984b9(0x161)](0x2,'0')+String(_0x145485['getDate']())[_0x2984b9(0x161)](0x2,'0')+String(_0x145485[_0x2984b9(0x227)]())[_0x2984b9(0x161)](0x2,'0')+String(_0x145485['getMinutes']())[_0x2984b9(0x161)](0x2,'0')+String(_0x145485[_0x2984b9(0x224)]())[_0x2984b9(0x161)](0x2,'0'),_0x4bf355=path[_0x2984b9(0x1c8)](outDir,_0x2984b9(0x21c)),_0x237804=path[_0x2984b9(0x1c8)](_0x4bf355,_0x2984b9(0x236)+_0x35f3f2+'.txt');!fs[_0x2984b9(0x152)](_0x4bf355)&&fs[_0x2984b9(0x144)](_0x4bf355,{'recursive':!![]}),fs[_0x2984b9(0x179)](_0x237804,compileLogs['join']('\x0a'),_0x2984b9(0x10f)),console['log']=originalConsole[_0x2984b9(0x217)],console[_0x2984b9(0x1cf)]=originalConsole['info'],console[_0x2984b9(0x20e)]=originalConsole[_0x2984b9(0x20e)],console['error']=originalConsole['error'],console[_0x2984b9(0x217)]('✅\x20全量编译完成，日志已保存到:\x20'+path[_0x2984b9(0x123)](rootDir,_0x237804));}const args=process['argv'][_0x19f92b(0x18d)](0x2),watchMode=args['includes'](_0x19f92b(0x16e)),singleFileMode=args[_0x19f92b(0x20b)](_0x19f92b(0x220)),singleFilePath=singleFileMode?args[args[_0x19f92b(0x128)](_0x19f92b(0x220))+0x1]:null,rootDir=singleFileMode?args[args['indexOf'](_0x19f92b(0x1a0))+0x1]:process['cwd'](),outDir=path[_0x19f92b(0x1c8)](rootDir,_0x19f92b(0x14f)),_outDir=singleFileMode?args[args[_0x19f92b(0x128)](_0x19f92b(0x182))+0x1]:outDir,compileDir=__dirname,isFullCompile=!watchMode&&!singleFileMode,mainProcessFunctions={},functionNameCountMap=new Map();function generateFunctionId(_0x81f7a6,_0x23b101,_0x3996b6){const _0x190c2c=_0x19f92b,_0x5c5e0e=_0x81f7a6['replace'](rootDir,'')[_0x190c2c(0x1b4)](/^[\/\\]/,'')[_0x190c2c(0x1b4)](/^src[\/\\]/,'')[_0x190c2c(0x1b4)](/\\/g,'/'),_0x1a9f92=_0x190c2c(0x1a3)+_0x5c5e0e[_0x190c2c(0x1b4)](/[\/\.]/g,'_')+'_'+_0x23b101+'_'+_0x3996b6+'__';return _0x1a9f92;}function extractMainProcessFunction(_0x4c4873,_0x1f4e0e,_0x42ab94){const _0x486cca=_0x19f92b,_0x43895c=_0x4c4873[_0x486cca(0x20b)]('this.callback');let _0x410fef=_0x4c4873;if(_0x43895c)return _0x410fef=_0x486cca(0x154)+_0x410fef,_0x410fef=_0x410fef[_0x486cca(0x1b4)](/this\.callback\((.*?)\)/g,(_0x5a7f51,_0x36558f)=>{const _0x5b7e13=_0x486cca;return _0x5b7e13(0x181)+_0x42ab94+_0x5b7e13(0x19a)+_0x36558f+_0x5b7e13(0x22d);}),{'fnId':_0x1f4e0e,'callbackId':_0x42ab94,'code':_0x410fef,'hasCallback':!![]};return{'fnId':_0x1f4e0e,'code':_0x410fef,'hasCallback':![]};}function processVueMainProcessCode(_0x2e8922,_0x44671e){const _0x34bdb6=_0x19f92b;try{const _0x350e69=transformCode(_0x2e8922),_0x1e0c13=parser[_0x34bdb6(0x173)](_0x350e69,{'sourceType':_0x34bdb6(0x1de),'plugins':[_0x34bdb6(0x1f0),_0x34bdb6(0x1d1)]}),_0xfef554=[];traverse(_0x1e0c13,{'ExportNamedDeclaration'(_0x1f1661){const _0x3c0e45=_0x34bdb6;if(t[_0x3c0e45(0x18e)](_0x1f1661['node'][_0x3c0e45(0x19c)])){const _0x26157f=_0x1f1661[_0x3c0e45(0x117)][_0x3c0e45(0x19c)],_0x42fcd5=_0x1f1661['node'][_0x3c0e45(0x167)]||_0x26157f[_0x3c0e45(0x167)]||[],_0x2ca4e8=_0x42fcd5[_0x3c0e45(0x21e)](_0x58a10a=>_0x58a10a[_0x3c0e45(0x1b3)][_0x3c0e45(0x20b)]('@mainProcess'));if(_0x2ca4e8){const _0xb2d332=_0x26157f['id'][_0x3c0e45(0x17c)],_0x25052d=functionNameCountMap['get'](_0x44671e+':'+_0xb2d332)||0x0,_0x3fe2d8=generateFunctionId(_0x44671e,_0xb2d332,_0x25052d),_0xa23026=generateFunctionId(_0x44671e,_0xb2d332+_0x3c0e45(0x1c1),_0x25052d);functionNameCountMap['set'](_0x44671e+':'+_0xb2d332,_0x25052d+0x1);const _0x531940=generate(_0x26157f['body'])['code'],_0x52b2f3=_0x531940['replace'](/^\{\s*|\s*\}$/g,'')[_0x3c0e45(0x141)](),_0x287a4b=extractMainProcessFunction(_0x52b2f3,_0x3fe2d8,_0xa23026);_0xfef554[_0x3c0e45(0x1fc)]({'name':_0xb2d332,..._0x287a4b,'isExport':!![],'path':_0x1f1661,'params':_0x26157f['params']});}}},'FunctionDeclaration'(_0x3dab8d){const _0x223dfe=_0x34bdb6;if(_0x3dab8d[_0x223dfe(0x1a6)][_0x223dfe(0x221)]())return;const _0x1cfcec=_0x3dab8d[_0x223dfe(0x117)][_0x223dfe(0x167)]||[],_0x3bc485=_0x1cfcec[_0x223dfe(0x21e)](_0x891227=>_0x891227[_0x223dfe(0x1b3)][_0x223dfe(0x20b)](_0x223dfe(0x14b)));if(_0x3bc485){const _0x8aecf6=_0x3dab8d[_0x223dfe(0x117)]['id']['name'],_0x4e93f4=functionNameCountMap[_0x223dfe(0x22b)](_0x44671e+':'+_0x8aecf6)||0x0,_0x212657=generateFunctionId(_0x44671e,_0x8aecf6,_0x4e93f4),_0x4af76f=generateFunctionId(_0x44671e,_0x8aecf6+_0x223dfe(0x1c1),_0x4e93f4);functionNameCountMap[_0x223dfe(0x198)](_0x44671e+':'+_0x8aecf6,_0x4e93f4+0x1);const _0x1ae700=generate(_0x3dab8d[_0x223dfe(0x117)]['body'])[_0x223dfe(0x18c)],_0x15bd40=_0x1ae700[_0x223dfe(0x1b4)](/^\{\s*|\s*\}$/g,'')[_0x223dfe(0x141)](),_0x1e1950=extractMainProcessFunction(_0x15bd40,_0x212657,_0x4af76f);_0xfef554[_0x223dfe(0x1fc)]({'name':_0x8aecf6,..._0x1e1950,'isExport':![],'path':_0x3dab8d,'params':_0x3dab8d['node'][_0x223dfe(0x14a)]});}},'ObjectMethod'(_0x2cea6e){const _0x4f726e=_0x34bdb6,_0x112da0=_0x2cea6e['node'][_0x4f726e(0x167)]||[],_0x17e4d3=_0x112da0[_0x4f726e(0x21e)](_0xd413f2=>_0xd413f2[_0x4f726e(0x1b3)][_0x4f726e(0x20b)]('@mainProcess'));if(_0x17e4d3){const _0x131e14=_0x2cea6e['node'][_0x4f726e(0x1a5)][_0x4f726e(0x17c)],_0xc336c8=functionNameCountMap[_0x4f726e(0x22b)](_0x44671e+':'+_0x131e14)||0x0,_0x5d8037=generateFunctionId(_0x44671e,_0x131e14,_0xc336c8),_0x46179e=generateFunctionId(_0x44671e,_0x131e14+_0x4f726e(0x1c1),_0xc336c8);functionNameCountMap[_0x4f726e(0x198)](_0x44671e+':'+_0x131e14,_0xc336c8+0x1);const _0x5a3768=generate(_0x2cea6e[_0x4f726e(0x117)][_0x4f726e(0x1f4)])[_0x4f726e(0x18c)],_0x460228=_0x5a3768['replace'](/^\{\s*|\s*\}$/g,'')[_0x4f726e(0x141)](),_0x4647d4=extractMainProcessFunction(_0x460228,_0x5d8037,_0x46179e);_0xfef554[_0x4f726e(0x1fc)]({'name':_0x131e14,..._0x4647d4,'isMethod':!![],'path':_0x2cea6e,'params':_0x2cea6e[_0x4f726e(0x117)][_0x4f726e(0x14a)]});}}});for(const _0x5e352a of _0xfef554){const _0x4c70ee=_0x5e352a[_0x34bdb6(0x138)];mainProcessFunctions[_0x4c70ee]={'body':_0x5e352a[_0x34bdb6(0x18c)],'name':_0x5e352a['name'],'params':_0x5e352a[_0x34bdb6(0x14a)]['map'](_0x30565e=>_0x30565e['name'])};let _0x12c722;!_0x5e352a[_0x34bdb6(0x235)]?_0x12c722=t[_0x34bdb6(0x112)]([t[_0x34bdb6(0x15b)](t[_0x34bdb6(0x13c)](t[_0x34bdb6(0x219)](t[_0x34bdb6(0x219)](t['identifier'](_0x34bdb6(0x133)),t['identifier'](_0x34bdb6(0x232))),t[_0x34bdb6(0x197)](_0x34bdb6(0x1ed))),[t[_0x34bdb6(0x22c)](_0x4c70ee),t[_0x34bdb6(0x20d)](_0x5e352a[_0x34bdb6(0x14a)][_0x34bdb6(0x234)](_0x5c4550=>t[_0x34bdb6(0x20a)](t['identifier'](_0x5c4550[_0x34bdb6(0x17c)]),t[_0x34bdb6(0x197)](_0x5c4550[_0x34bdb6(0x17c)]))))]))]):_0x12c722=t[_0x34bdb6(0x112)]([t['variableDeclaration'](_0x34bdb6(0x1bb),[t[_0x34bdb6(0x1b7)](t[_0x34bdb6(0x197)](_0x34bdb6(0x16c)),t[_0x34bdb6(0x13c)](t[_0x34bdb6(0x219)](t['memberExpression'](t[_0x34bdb6(0x197)]('window'),t[_0x34bdb6(0x197)]('electron')),t[_0x34bdb6(0x197)](_0x34bdb6(0x1ed))),[t['stringLiteral'](_0x4c70ee),t[_0x34bdb6(0x20d)](_0x5e352a[_0x34bdb6(0x14a)]['map'](_0x4b1712=>t[_0x34bdb6(0x20a)](t['identifier'](_0x4b1712['name']),t['identifier'](_0x4b1712[_0x34bdb6(0x17c)]))))]))]),t['returnStatement'](t[_0x34bdb6(0x20d)]([t[_0x34bdb6(0x20a)](t['identifier'](_0x34bdb6(0x1d3)),t[_0x34bdb6(0x1f2)](null,[t['identifier'](_0x34bdb6(0x225))],t[_0x34bdb6(0x112)]([t[_0x34bdb6(0x11d)](t[_0x34bdb6(0x13c)](t[_0x34bdb6(0x219)](t['memberExpression'](t[_0x34bdb6(0x197)](_0x34bdb6(0x133)),t[_0x34bdb6(0x197)](_0x34bdb6(0x232))),t['identifier']('registerCallback')),[t[_0x34bdb6(0x22c)](_0x5e352a['callbackId']),t[_0x34bdb6(0x197)](_0x34bdb6(0x225))])),t[_0x34bdb6(0x11d)](t[_0x34bdb6(0x13c)](t[_0x34bdb6(0x219)](t[_0x34bdb6(0x197)]('promise'),t['identifier'](_0x34bdb6(0x186))),[t['arrowFunctionExpression']([t[_0x34bdb6(0x197)]('result')],t[_0x34bdb6(0x13c)](t[_0x34bdb6(0x197)](_0x34bdb6(0x225)),[t[_0x34bdb6(0x197)](_0x34bdb6(0x137))]))]))])))]))]);if(_0x5e352a[_0x34bdb6(0x19f)])_0x5e352a[_0x34bdb6(0x132)][_0x34bdb6(0x127)](t['objectMethod']('method',t[_0x34bdb6(0x197)](_0x5e352a['name']),_0x5e352a[_0x34bdb6(0x14a)],_0x12c722,![],![]),!![]);else{const _0x136dab=t['functionDeclaration'](t['identifier'](_0x5e352a[_0x34bdb6(0x17c)]),_0x5e352a[_0x34bdb6(0x14a)],_0x12c722);_0x5e352a[_0x34bdb6(0x15d)]?_0x5e352a['path'][_0x34bdb6(0x127)](t['exportNamedDeclaration'](_0x136dab,[])):_0x5e352a[_0x34bdb6(0x132)][_0x34bdb6(0x127)](_0x136dab);}}const _0xa14cbd=generate(_0x1e0c13,{'retainLines':!![],'compact':![],'quotes':_0x34bdb6(0x185),'concise':![],'jsescOption':{'quotes':_0x34bdb6(0x185)},'format':{'indent':{'style':'\x20\x20\x20\x20','adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x3c9042=_0xa14cbd[_0x34bdb6(0x18c)][_0x34bdb6(0x1b4)](/\n\n+/g,'\x0a\x0a')[_0x34bdb6(0x1b4)](/{\s*return\s+/g,_0x34bdb6(0x223))[_0x34bdb6(0x1b4)](/;\s*}/g,_0x34bdb6(0x199))[_0x34bdb6(0x1b4)](/,\s*live:\s*function/g,_0x34bdb6(0x204))[_0x34bdb6(0x1b4)](/}\s*}\s*$/gm,'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}')['replace'](/async\s+(\w+)\s*\(\)/g,'async\x20$1()')['replace'](/\)\s*{/g,_0x34bdb6(0x122));return _0x3c9042;}catch(_0x45ffc5){return console[_0x34bdb6(0x140)]('处理主进程代码时出错:',_0x45ffc5),_0x2e8922;}}function removePrefix(_0x5b1f80){const _0x2e8a20=_0x19f92b;return _0x5b1f80[_0x2e8a20(0x1b4)](/^(Main\.|NodeJS\.|PJS\.)/g,'');}function getModuleName(_0x22461a){const _0x24754d=_0x19f92b,_0x4d452d=_0x22461a[_0x24754d(0x115)](/^(\w+)\./);return _0x4d452d?_0x4d452d[0x1]:null;}function extractFunctionParams(_0x51f817){const _0x2e05aa=_0x19f92b;if(!_0x51f817||!_0x51f817[_0x2e05aa(0x1a7)]||_0x51f817[_0x2e05aa(0x1a7)]!==_0x2e05aa(0x212))return[];const _0x3252cb=_0x51f817['arguments'][_0x2e05aa(0x234)](_0x42fa42=>{const _0x4462d8=_0x2e05aa;let _0x5300e5={'type':_0x42fa42[_0x4462d8(0x1a7)],'value':null};switch(_0x42fa42[_0x4462d8(0x1a7)]){case _0x4462d8(0x14d):_0x5300e5[_0x4462d8(0x1b3)]=_0x42fa42[_0x4462d8(0x1b3)];break;case'NumericLiteral':_0x5300e5[_0x4462d8(0x1b3)]=_0x42fa42[_0x4462d8(0x1b3)];break;case _0x4462d8(0x1aa):_0x5300e5[_0x4462d8(0x1b3)]=_0x42fa42[_0x4462d8(0x1b3)];break;case'Identifier':_0x5300e5[_0x4462d8(0x1b3)]=_0x42fa42['name'];break;case _0x4462d8(0x159):_0x5300e5[_0x4462d8(0x1b3)]=generate(_0x42fa42)[_0x4462d8(0x18c)];break;case'ArrayExpression':_0x5300e5[_0x4462d8(0x1b3)]=generate(_0x42fa42)[_0x4462d8(0x18c)];break;default:_0x5300e5['value']=generate(_0x42fa42)[_0x4462d8(0x18c)];}return _0x5300e5;});return _0x51f817[_0x2e05aa(0x1d9)]=_0x3252cb[_0x2e05aa(0x234)]((_0x158f02,_0x532f6e)=>{const _0x37585c=_0x2e05aa;return t[_0x37585c(0x197)](_0x37585c(0x1f8)+(_0x532f6e+0x1));}),_0x3252cb;}function processEmbeddedNativeCode(_0x3c1213,_0x5be097){const _0x1c7641=_0x19f92b;try{const _0x266db5=require(_0x1c7641(0x213)),_0x5ca9ae=require(_0x1c7641(0x1ce))[_0x1c7641(0x13a)],_0x21ac2b=_0x266db5[_0x1c7641(0x173)](_0x3c1213,{'sourceType':_0x1c7641(0x1de),'plugins':[_0x1c7641(0x1f0),_0x1c7641(0x1d1)]});_0x5ca9ae(_0x21ac2b,{'MemberExpression'(_0xe5a85a){const _0x39ceb1=_0x1c7641,_0x4e6800=_0xe5a85a['get'](_0x39ceb1(0x149));if(!_0x4e6800[_0x39ceb1(0x1d7)]())return;const _0x38dbe5=_0x4e6800[_0x39ceb1(0x117)][_0x39ceb1(0x17c)];if(![_0x39ceb1(0x218),_0x39ceb1(0x1fd),_0x39ceb1(0x1eb)]['includes'](_0x38dbe5))return;let _0x378195=analyseCompleteUseNode(_0xe5a85a[_0x39ceb1(0x1a6)],_0xe5a85a[_0x39ceb1(0x1a6)],_0xe5a85a),_0x120cd1=extractFunctionParams(_0x378195[_0x39ceb1(0x132)][_0x39ceb1(0x117)]),_0x5b8f14='{'+_0x120cd1[_0x39ceb1(0x234)]((_0x21e274,_0x46d9bf)=>[_0x39ceb1(0x14d),_0x39ceb1(0x1ea),'BooleanLiteral'][_0x39ceb1(0x20b)](_0x21e274['type'])?_0x39ceb1(0x1f8)+(_0x46d9bf+0x1)+_0x39ceb1(0x1d0)+_0x21e274['value']+'\x27':'arg'+(_0x46d9bf+0x1)+':\x20'+_0x21e274[_0x39ceb1(0x1b3)])[_0x39ceb1(0x1c8)](',')+'}';const _0x2a33a3=generate(_0x378195[_0x39ceb1(0x132)][_0x39ceb1(0x117)])[_0x39ceb1(0x18c)];let _0x1c59ed=removePrefix(_0x2a33a3);const _0x2a5e90=getModuleName(_0x1c59ed),_0x1669dc=_0x378195[_0x39ceb1(0x1e1)]==_0x39ceb1(0x1b6)?!![]:![];_0x1669dc&&_0x1c59ed;const _0x17140f=_0xe5a85a[_0x39ceb1(0x117)][_0x39ceb1(0x22e)][_0x39ceb1(0x15a)][_0x39ceb1(0x129)],_0x238e2b=Math[_0x39ceb1(0x1d2)](Math[_0x39ceb1(0x21a)]()*0x15f90)+0x2710,_0x423d8e=generateFunctionId(_0x5be097,_0x38dbe5+'_'+_0x17140f,_0x238e2b),_0x206a5f=generateFunctionId(_0x5be097,_0x38dbe5+'_'+_0x17140f+_0x39ceb1(0x1c1),_0x238e2b);console[_0x39ceb1(0x217)](_0x39ceb1(0x138),_0x423d8e);if(_0x38dbe5=='Main')functionBody='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20'+_0x2a5e90+'\x20}\x20=\x20require(\x27electron\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20'+_0x1c59ed+_0x39ceb1(0x1d5);else{if(_0x38dbe5==_0x39ceb1(0x1fd))functionBody=_0x39ceb1(0x202)+_0x2a5e90+'\x20=\x20require(\x27'+_0x2a5e90+_0x39ceb1(0x1ae)+_0x1c59ed+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x38dbe5==_0x39ceb1(0x1eb)){}}}let _0x3a5dbc=_0x1669dc?_0x5b8f14:'{}';mainProcessFunctions[_0x423d8e]={'body':functionBody,'name':_0x2a33a3,'params':_0x120cd1[_0x39ceb1(0x234)]((_0x28a01f,_0x5c04b7)=>['StringLiteral',_0x39ceb1(0x1ea),'BooleanLiteral'][_0x39ceb1(0x20b)](_0x28a01f[_0x39ceb1(0x1a7)])?_0x39ceb1(0x1f8)+(_0x5c04b7+0x1):'arg'+(_0x5c04b7+0x1))};const _0x34d8df=_0x39ceb1(0x143)+_0x423d8e+_0x39ceb1(0x19a)+_0x3a5dbc+')';_0x378195[_0x39ceb1(0x132)][_0x39ceb1(0x1b9)](_0x34d8df);}});const _0x18b1a6=generate(_0x21ac2b,{'retainLines':!![],'compact':![],'quotes':'single','concise':![],'jsescOption':{'quotes':'single'},'format':{'indent':{'style':_0x1c7641(0x17d),'adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x5bf9f3=_0x18b1a6[_0x1c7641(0x18c)]['replace'](/\n\n+/g,'\x0a\x0a')[_0x1c7641(0x1b4)](/{\s*return\s+/g,_0x1c7641(0x223))[_0x1c7641(0x1b4)](/;\s*}/g,_0x1c7641(0x199))[_0x1c7641(0x1b4)](/,\s*live:\s*function/g,_0x1c7641(0x204))[_0x1c7641(0x1b4)](/}\s*}\s*$/gm,_0x1c7641(0x216))[_0x1c7641(0x1b4)](/async\s+(\w+)\s*\(\)/g,_0x1c7641(0x230))['replace'](/\)\s*{/g,_0x1c7641(0x122));return _0x5bf9f3;}catch(_0x2952ce){return console[_0x1c7641(0x140)](_0x1c7641(0x110),_0x2952ce),_0x3c1213;}}function generateMainProcessRegistration(){const _0x21c238=_0x19f92b,_0x58cb0b=['app',_0x21c238(0x1e7),_0x21c238(0x10e),_0x21c238(0x1f7),_0x21c238(0x15c),_0x21c238(0x135),_0x21c238(0x1f5),_0x21c238(0x1db),'desktopCapturer','dialog','globalShortcut',_0x21c238(0x193),_0x21c238(0x1ab),_0x21c238(0x1cd),_0x21c238(0x1c0),_0x21c238(0x1d6),'nativeImage',_0x21c238(0x151),_0x21c238(0x113),_0x21c238(0x163),_0x21c238(0x21d),_0x21c238(0x215),_0x21c238(0x21b),_0x21c238(0x1fe),_0x21c238(0x1ff),_0x21c238(0x142),_0x21c238(0x16a),_0x21c238(0x126),'session',_0x21c238(0x208),'shell',_0x21c238(0x21f),_0x21c238(0x1b0),_0x21c238(0x172),_0x21c238(0x1df),_0x21c238(0x1cb),_0x21c238(0x19b),_0x21c238(0x189),'View'],_0x438a32=['os','fs',_0x21c238(0x132),_0x21c238(0x1c2),_0x21c238(0x18f),'https',_0x21c238(0x113),_0x21c238(0x20f),_0x21c238(0x162),_0x21c238(0x158),_0x21c238(0x1ca),_0x21c238(0x23f),'tls',_0x21c238(0x183),'assert',_0x21c238(0x1de)],_0x25146c=new Set([_0x21c238(0x1ab)]),_0x4de154=new Set();for(const [_0x2182b1,_0x39bb93]of Object[_0x21c238(0x178)](mainProcessFunctions)){const _0x17e850=_0x39bb93['body'];_0x58cb0b[_0x21c238(0x11c)](_0x54f93b=>{const _0xc06fed=_0x21c238;_0x17e850['includes'](_0x54f93b+'.')&&_0x25146c[_0xc06fed(0x241)](_0x54f93b);}),_0x438a32[_0x21c238(0x11c)](_0x53462b=>{const _0x2c3d64=_0x21c238;_0x17e850[_0x2c3d64(0x20b)](_0x53462b+'.')&&_0x4de154[_0x2c3d64(0x241)](_0x53462b);});}let _0x2f079e='';_0x25146c[_0x21c238(0x238)]>0x0&&(_0x2f079e+=_0x21c238(0x207)+Array[_0x21c238(0x201)](_0x25146c)[_0x21c238(0x1c8)](',\x20')+_0x21c238(0x1e4));_0x4de154[_0x21c238(0x238)]>0x0&&(Array['from'](_0x4de154)['forEach'](_0x5c8c35=>{const _0x2e7f0e=_0x21c238;_0x2f079e+=_0x2e7f0e(0x1a1)+_0x5c8c35+'\x20=\x20require(\x27'+_0x5c8c35+_0x2e7f0e(0x17a);}),_0x2f079e+='\x0a');_0x2f079e+=_0x21c238(0x196),_0x2f079e+=_0x21c238(0x226);for(const [_0x45f3ff,_0x410ce8]of Object[_0x21c238(0x178)](mainProcessFunctions)){_0x2f079e+=_0x21c238(0x1fa)+_0x410ce8['name']+'\x0a',_0x2f079e+='\x20\x20'+_0x45f3ff+':\x20async\x20function('+_0x410ce8[_0x21c238(0x14a)][_0x21c238(0x1c8)](',\x20')+_0x21c238(0x145),_0x2f079e+=_0x21c238(0x17d)+_0x410ce8[_0x21c238(0x1f4)]+'\x0a',_0x2f079e+=_0x21c238(0x156);}return _0x2f079e+='}\x0a\x0a',_0x2f079e+=_0x21c238(0x1c4),_0x2f079e+='\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a',_0x2f079e+=_0x21c238(0x18a),_0x2f079e+=_0x21c238(0x200),_0x2f079e+=_0x21c238(0x1e3),_0x2f079e+=_0x21c238(0x17b),_0x2f079e+=_0x21c238(0x13f),_0x2f079e+=_0x21c238(0x203),_0x2f079e+=_0x21c238(0x134),_0x2f079e+='\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a',_0x2f079e+='\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a',_0x2f079e+=_0x21c238(0x170),_0x2f079e+='\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a',_0x2f079e+=_0x21c238(0x176),_0x2f079e+='\x20\x20});\x0a',_0x2f079e+=_0x21c238(0x155),_0x2f079e+=_0x21c238(0x12d),_0x2f079e;}const startTime=Date[_0x19f92b(0x177)]();function _0x5404(_0x3a44da,_0x34b5da){const _0x39fa66=_0x39fa();return _0x5404=function(_0x5404d5,_0x104587){_0x5404d5=_0x5404d5-0x10e;let _0x12b6fc=_0x39fa66[_0x5404d5];return _0x12b6fc;},_0x5404(_0x3a44da,_0x34b5da);}let processedFiles=0x0;function getNormalizedOutPath(_0x4fe361,_0x1284eb){const _0x8f983f=_0x19f92b;console['log'](_0x8f983f(0x188)+_0x4fe361+'\x20\x20\x20\x20'+_0x1284eb);if(_0x4fe361[_0x8f983f(0x13b)](_0x8f983f(0x1a2))||_0x4fe361[_0x8f983f(0x13b)](_0x8f983f(0x1f1)))return path[_0x8f983f(0x1c8)](rootDir,_0x4fe361);return path[_0x8f983f(0x1c8)](_0x1284eb,_0x4fe361);}function ensureOutDirExists(){const _0x497b03=_0x19f92b;if(fs['existsSync'](outDir)){const _0xbce1e0=path['join'](outDir,_0x497b03(0x1e2)),_0xe83149=fs[_0x497b03(0x121)](outDir);if(fs[_0x497b03(0x152)](_0xbce1e0)){console[_0x497b03(0x217)]('🔍\x20检测到\x20node_modules，将保留该目录');for(const _0x400fa6 of _0xe83149){if(_0x400fa6!==_0x497b03(0x1e2)){const _0x2e1e28=path[_0x497b03(0x1c8)](outDir,_0x400fa6);fs[_0x497b03(0x192)](_0x2e1e28)['isDirectory']()?fs[_0x497b03(0x118)](_0x2e1e28,{'recursive':!![],'force':!![]}):fs['unlinkSync'](_0x2e1e28),console[_0x497b03(0x217)](_0x497b03(0x1dc)+_0x400fa6);}}console[_0x497b03(0x217)](_0x497b03(0x17f));}else{for(const _0xd2b81 of _0xe83149){const _0x50fb6c=path[_0x497b03(0x1c8)](outDir,_0xd2b81);fs[_0x497b03(0x192)](_0x50fb6c)[_0x497b03(0x184)]()?fs[_0x497b03(0x118)](_0x50fb6c,{'recursive':!![],'force':!![]}):fs['unlinkSync'](_0x50fb6c),console[_0x497b03(0x217)](_0x497b03(0x1dc)+_0xd2b81);}console[_0x497b03(0x217)](_0x497b03(0x131)+outDir);}}fs['mkdirSync'](outDir,{'recursive':!![]}),console[_0x497b03(0x217)](_0x497b03(0x136)+outDir);}function _0x39fa(){const _0x4b8787=['toFixed','nativeTheme','existsSync','./utils/preload-process-handler','let\x20_callbackCount\x20=\x200;\x0a','}\x0a\x0a','\x20\x20},\x0a','📁\x20输出目录:\x20','child_process','ObjectExpression','start','returnStatement','BrowserWindow','isExport','getMonth','\x20个文件，耗时\x20','outDir:','padStart','events','netLog','./utils/main-process-handler','basename','yarn.lock','leadingComments','publish.js','windows/','safeStorage','✅\x20成功编译:\x20','promise','scripts/','--watch','./utils/fn-updater','\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a','📝\x20处理\x20script\x20部分...','Tray','parse','🔍\x20outPath处理文件:\x20','.html','\x20\x20\x20\x20}\x0a','now','entries','writeFileSync','\x27);\x0a','\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a','name','\x20\x20\x20\x20','chokidar','✅\x20已清理\x20out\x20目录（保留\x20node_modules）','512063VzwUcU','this.sendToRenderer(\x27','--out-dir','readline','isDirectory','single','then','[WARN]\x20','📂\x20正在处理:\x20','webFrameMain','\x20\x20\x20\x20try\x20{\x0a','🔍\x20仅处理:\x20','code','slice','isFunctionDeclaration','http','🔧\x20跳过\x20窗口目录下的\x20preload.js:\x20','⚠️\x20Vue\x20文件没有\x20script\x20部分','statSync','inAppPurchase','readFileSync','🔍\x20检查\x20Vue\x20文件:\x20','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);setupConsoleRedirect();\x0a','identifier','set',';\x0a\x20\x20\x20\x20}','\x27,\x20','WebContentsView','declaration','\x20->\x20out/main/','logToConsole','isMethod','--root-dir','const\x20','out/','__FUNCTION_','1561PDfRzt','key','parentPath','type','getFullYear','[INFO]\x20','BooleanLiteral','ipcMain','testdemo2','📁\x20根目录:\x20','\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20','🔧\x20跳过根preload.js:\x20','TouchBar','@babel/generator','split','value','replace','dirname','call','variableDeclarator','📁\x20创建目录:\x20','replaceWithSourceString','testdemo','const','✅\x20处理\x20Vue\x20文件完成:\x20','outPath:\x20','copyFileSync','🔍\x20开始处理\x20Vue\x20文件...','MessageChannelMain','_callback','crypto','❌\x20处理\x20Vue\x20文件时出错:','function\x20registerMainFunctions()\x20{\x0a','.vscode','./utils/content-processor','.idea','join','🔧\x20处理\x20Vue\x20文件:\x20','cluster','webContents','10022460usWzOr','Menu','@babel/traverse','info',':\x20\x27','typescript','floor','live','⚠️\x20跳过非窗口目录路径:\x20',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MessagePortMain','isIdentifier','isFile','arguments','[LOG]\x20','crashReporter','🗑️\x20删除:\x20','main','module','utilityProcess','exports','pathType','node_modules','\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a','\x20}\x20=\x20require(\x27electron\x27);\x0a','📋\x20复制并混淆文件:\x20/code/main/','preload.js','autoUpdater','srcPath','🔍\x20处理文件:\x20','NumericLiteral','PJS',',\x20preload\x20路径:\x20','callMainFunction','✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20','cli.js','jsx','out\x5c','functionExpression','[ERROR]\x20','body','contentTracing','.vue','BrowserView','arg','endsWith','\x20\x20//\x20','2416014ZMUDjo','push','NodeJS','powerSaveBlocker','protocol','\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function','523564pGbJTc','<script>\x0a','const\x20{\x20','ShareMenu','exit','objectProperty','includes','isEmbedMain\x20||\x20isEmbedNodeJS\x20||\x20isEmbedPJS','objectExpression','warn','stream','检查是否需要\x20preload.js:\x20','main.js','CallExpression','@babel/parser','./utils/watcher','parentPort','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}','log','Main','memberExpression','random','powerMonitor','logs','Notification','some','systemPreferences','--file','isExportNamedDeclaration','doc','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20','getSeconds','callback','\x0aconst\x20fn\x20=\x20{\x0a','getHours','.qodo','📋\x20复制文件:\x20','421130BhgMfU','get','stringLiteral',',\x20++_callbackCount)','loc','NodeJS.','async\x20$1()','❌\x20处理失败:\x20','electron','outPath','map','hasCallback','log_','relativePath:','size','PJS.','mixone','./utils/static-file-copier','\x0a</script>\x0a\x0a','📋\x20复制\x20HTML\x20文件:\x20','6XrAJJf','dns','5112GFQqrW','add','BaseWindow','utf-8','处理嵌入的原生代码时出错:','🔍\x20处理文件rootDir:\x20','blockStatement','net','package.json','match','.svn','node','rmSync','53076jHFQtp','./utils/ast-transformer','.gitignore','forEach','expressionStatement','README.md','Main.','windows','readdirSync',')\x20{','relative','195vxpGYp','windows\x5c','screen','replaceWith','indexOf','line','✅\x20全量编译完成\x20-\x20处理了\x20','.js','fn.js','module.exports\x20=\x20{\x20registerMainFunctions\x20}\x0a','isEmbedMain,isEmbedNodeJS,isEmbedPJS','.git','keys','🗑️\x20删除输出目录:\x20','path','window','\x20\x20\x20\x20\x20\x20};\x0a\x0a','clipboard','✅\x20创建输出目录:\x20','result','fnId','⚠️\x20跳过文件:\x20','default','startsWith','callExpression','.git/','testdemo3','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a','error','trim','pushNotifications','window.electron.callMainFunction(\x27','mkdirSync',')\x20{\x0a','✅\x20Vue\x20文件处理完成','length','🔄\x20重新组合\x20Vue\x20文件内容...','object','params','@mainProcess','❌\x20扫描目录失败:\x20','StringLiteral','🔧\x20处理主进程文件:\x20','out'];_0x39fa=function(){return _0x4b8787;};return _0x39fa();}function processFile(_0x3e035d,_0x273a02){const _0x2fa84b=_0x19f92b;try{}catch(_0x497326){return console[_0x2fa84b(0x140)](_0x2fa84b(0x231)+_0x3e035d,_0x497326),![];}console[_0x2fa84b(0x217)](_0x2fa84b(0x111)+rootDir),_0x3e035d=path['resolve'](rootDir,_0x3e035d),console[_0x2fa84b(0x217)](_0x2fa84b(0x1e9)+_0x3e035d);const _0x35fcaf=path['relative'](rootDir,_0x3e035d),_0x3e9e6b=singleFileMode?_0x273a02:path['join'](process['cwd'](),_0x2fa84b(0x14f));console[_0x2fa84b(0x217)](_0x2fa84b(0x160),_0x3e9e6b),console['log'](_0x2fa84b(0x237),_0x35fcaf);const _0x1687de=getNormalizedOutPath(_0x35fcaf,_0x3e9e6b);console[_0x2fa84b(0x217)](_0x2fa84b(0x174)+_0x1687de);const _0x2b3178=path['dirname'](_0x1687de);if(!fs['existsSync'](_0x3e035d))return console[_0x2fa84b(0x217)]('⚠️\x20文件不存在:\x20'+_0x3e035d),_0x3e035d[_0x2fa84b(0x20b)](_0x2fa84b(0x120)+path['sep'])&&path['basename'](_0x3e035d)===_0x2fa84b(0x1e6)?(writeDefaultPreloadFileWhenDeleted(compileDir,_0x3e9e6b,_0x1687de,_0x3e035d),![]):![];if(_0x35fcaf[_0x2fa84b(0x20b)]('node_modules/')||_0x35fcaf[_0x2fa84b(0x20b)](_0x2fa84b(0x13d))||_0x35fcaf['includes'](_0x2fa84b(0x1a2))||_0x35fcaf[_0x2fa84b(0x13b)](_0x2fa84b(0x16d)))return![];!fs['existsSync'](_0x2b3178)&&(fs[_0x2fa84b(0x144)](_0x2b3178,{'recursive':!![]}),console['log'](_0x2fa84b(0x1b8)+_0x2b3178));if(_0x3e035d[_0x2fa84b(0x1f9)](_0x2fa84b(0x12b))){const _0x40041b=fs[_0x2fa84b(0x194)](_0x3e035d,_0x2fa84b(0x10f));if(path[_0x2fa84b(0x165)](_0x3e035d)===_0x2fa84b(0x211)&&path[_0x2fa84b(0x1b5)](_0x3e035d)[_0x2fa84b(0x1f9)](_0x2fa84b(0x1dd))){console[_0x2fa84b(0x217)]('🔧\x20特殊处理\x20main/main.js:\x20'+_0x35fcaf);const _0x45b295=processMainProcessFile(_0x40041b,_0x35fcaf),_0x5c2b8f=obfuscatorJS(_0x45b295);fs[_0x2fa84b(0x179)](_0x1687de,_0x5c2b8f),console[_0x2fa84b(0x217)]('✅\x20成功处理\x20main/main.js:\x20'+_0x35fcaf);}else{if(path[_0x2fa84b(0x165)](_0x3e035d)===_0x2fa84b(0x1e6))return _0x35fcaf[_0x2fa84b(0x13b)](_0x2fa84b(0x169))?(console['log'](_0x2fa84b(0x190)+_0x35fcaf),![]):(console[_0x2fa84b(0x217)](_0x2fa84b(0x1af)+_0x35fcaf),![]);else{const _0x5c2bc1=_0x40041b[_0x2fa84b(0x20b)](_0x2fa84b(0x14b)),_0x4f76a7=_0x40041b[_0x2fa84b(0x20b)](_0x2fa84b(0x11f)),_0x3831aa=_0x40041b['includes']('NodeJS.'),_0x17b21a=_0x40041b['includes'](_0x2fa84b(0x239));console['log'](_0x2fa84b(0x12e),_0x4f76a7,_0x3831aa,_0x17b21a);if(_0x5c2bc1||_0x4f76a7||_0x3831aa||_0x17b21a){console[_0x2fa84b(0x217)](_0x2fa84b(0x14e)+_0x35fcaf);let _0x20681a='';_0x5c2bc1&&(_0x20681a=processVueMainProcessCode(_0x40041b,_0x3e035d));(_0x4f76a7||_0x3831aa||_0x17b21a)&&(_0x20681a=processEmbeddedNativeCode(_0x20681a,_0x3e035d,{'isEmbedMain':_0x4f76a7,'isEmbedNodeJS':_0x3831aa,'isEmbedPJS':_0x17b21a}),console[_0x2fa84b(0x217)](_0x20681a));if(_0x20681a){fs[_0x2fa84b(0x179)](_0x1687de,_0x20681a);if(!isFullCompile){const _0x2e2dd0=generateMainProcessRegistration();updateFnFile(_0x3e9e6b,rootDir,_0x3e035d,_0x2e2dd0);}}console[_0x2fa84b(0x217)](_0x2fa84b(0x16b)+_0x35fcaf);}else fs[_0x2fa84b(0x1be)](_0x3e035d,_0x1687de),console['log']('📋\x20复制文件:\x20'+_0x35fcaf);}}}else{if(_0x3e035d[_0x2fa84b(0x1f9)](_0x2fa84b(0x1f6))){const _0x3642b7=fs['readFileSync'](_0x3e035d,_0x2fa84b(0x10f));console[_0x2fa84b(0x217)](_0x2fa84b(0x195)+_0x35fcaf);const _0x31a56b=_0x3642b7[_0x2fa84b(0x20b)](_0x2fa84b(0x14b))||_0x3642b7[_0x2fa84b(0x20b)]('.live'),_0x162381=_0x3642b7[_0x2fa84b(0x20b)]('Main.'),_0x45768=_0x3642b7[_0x2fa84b(0x20b)](_0x2fa84b(0x22f)),_0x317816=_0x3642b7[_0x2fa84b(0x20b)](_0x2fa84b(0x239));if(_0x31a56b||_0x162381||_0x45768||_0x317816){console['log'](_0x2fa84b(0x1c9)+_0x35fcaf);let _0x55687e=processVueFile(_0x3642b7,_0x3e035d);if(_0x55687e){fs[_0x2fa84b(0x179)](_0x1687de,_0x55687e),console[_0x2fa84b(0x217)](_0x2fa84b(0x1bd)+_0x1687de);if(!isFullCompile){const _0x1dda14=generateMainProcessRegistration();updateFnFile(_0x3e9e6b,rootDir,_0x3e035d,_0x1dda14);}}}else console[_0x2fa84b(0x217)](_0x2fa84b(0x1e8),_0x2fa84b(0x233)),console[_0x2fa84b(0x217)](_0x3e035d,_0x1687de),fs[_0x2fa84b(0x1be)](_0x3e035d,_0x1687de);console['log'](_0x2fa84b(0x1bc)+_0x35fcaf);}else{if(_0x3e035d[_0x2fa84b(0x1f9)](_0x2fa84b(0x175)))fs[_0x2fa84b(0x1be)](_0x3e035d,_0x1687de),console[_0x2fa84b(0x217)](_0x2fa84b(0x23d)+_0x35fcaf);else path[_0x2fa84b(0x165)](_0x3e035d)===_0x2fa84b(0x114)&&path['dirname'](_0x3e035d)===rootDir?(console[_0x2fa84b(0x217)]('🔧\x20处理根目录\x20package.json:\x20'+_0x35fcaf),processPackageJson(_0x3e035d,_0x1687de)):(fs[_0x2fa84b(0x1be)](_0x3e035d,_0x1687de),console[_0x2fa84b(0x217)](_0x2fa84b(0x229)+_0x35fcaf));}}return processedFiles++,!![];}const IGNORE_DIRS=[_0x19f92b(0x1e2),_0x19f92b(0x14f),_0x19f92b(0x12f),_0x19f92b(0x222),_0x19f92b(0x166),'dist',_0x19f92b(0x23a),_0x19f92b(0x1ac),,_0x19f92b(0x11e),_0x19f92b(0x1ef),_0x19f92b(0x1ba),_0x19f92b(0x13e),'testdemo4',_0x19f92b(0x168),_0x19f92b(0x11b),'scripts',_0x19f92b(0x116),_0x19f92b(0x228),_0x19f92b(0x1c7),_0x19f92b(0x1c5)];function processDir(_0x2147b5){const _0x4727a6=_0x19f92b;try{const _0x166afa=fs[_0x4727a6(0x121)](_0x2147b5);for(const _0x477907 of _0x166afa){const _0x4e5df0=path[_0x4727a6(0x1c8)](_0x2147b5,_0x477907);if(IGNORE_DIRS['includes'](_0x477907))continue;try{const _0x3566d4=fs['statSync'](_0x4e5df0);if(_0x3566d4[_0x4727a6(0x184)]())processDir(_0x4e5df0);else _0x3566d4[_0x4727a6(0x1d8)]()&&processFile(_0x4e5df0);}catch(_0x464cba){console[_0x4727a6(0x140)]('❌\x20无法处理:\x20'+_0x4e5df0,_0x464cba);}}}catch(_0x3d9b75){console[_0x4727a6(0x140)](_0x4727a6(0x14c)+_0x2147b5,_0x3d9b75);}}function copyScriptsMainFiles(_0x511d3a,_0x33e692,_0x2f0c36){const _0x7e0ddf=_0x19f92b,_0x1301d2=path[_0x7e0ddf(0x1c8)](_0x2f0c36,_0x7e0ddf(0x18c),_0x7e0ddf(0x1dd)),_0x594333=path[_0x7e0ddf(0x1c8)](_0x33e692,_0x7e0ddf(0x1dd));if(fs[_0x7e0ddf(0x152)](_0x1301d2)){!fs[_0x7e0ddf(0x152)](_0x594333)&&fs[_0x7e0ddf(0x144)](_0x594333,{'recursive':!![]});const _0x52ae24=fs[_0x7e0ddf(0x121)](_0x1301d2);for(const _0x44cb91 of _0x52ae24){const _0x579513=path[_0x7e0ddf(0x1c8)](_0x1301d2,_0x44cb91),_0x5f23f9=path[_0x7e0ddf(0x1c8)](_0x594333,_0x44cb91);if(fs[_0x7e0ddf(0x192)](_0x579513)[_0x7e0ddf(0x1d8)]()){const _0xd7591b=fs[_0x7e0ddf(0x194)](_0x579513,_0x7e0ddf(0x10f));fs[_0x7e0ddf(0x179)](_0x5f23f9,obfuscatorJS(_0xd7591b)),console[_0x7e0ddf(0x217)](_0x7e0ddf(0x1e5)+_0x44cb91+_0x7e0ddf(0x19d)+_0x44cb91);}}}}function compileAll(){const _0x2f035f=_0x19f92b;console[_0x2f035f(0x217)]('🚀\x20开始全量编译...'),setupLogCollector(),console[_0x2f035f(0x217)](_0x2f035f(0x1ad)+rootDir),console[_0x2f035f(0x217)](_0x2f035f(0x157)+outDir),copyScriptsMainFiles(rootDir,outDir,compileDir),processDir(rootDir),checkWindowPreloadAndCopy(rootDir,outDir,compileDir),copyStaticFilesToWindowDirs(rootDir,outDir,compileDir),copyScriptsToOutputRoot(rootDir,outDir,compileDir);if(Object[_0x2f035f(0x130)](mainProcessFunctions)['length']>0x0){console['log']('🔧\x20生成主进程函数注册文件...');const _0x2b82b0=path[_0x2f035f(0x1c8)](outDir,_0x2f035f(0x1dd),_0x2f035f(0x12c));fs[_0x2f035f(0x144)](path[_0x2f035f(0x1b5)](_0x2b82b0),{'recursive':!![]});const _0x50f55b=generateMainProcessRegistration();fs['writeFileSync'](_0x2b82b0,obfuscatorJS(_0x50f55b)),console['log']('✅\x20生成\x20fn.js:\x20'+path[_0x2f035f(0x123)](rootDir,_0x2b82b0));}const _0x1e9790=((Date[_0x2f035f(0x177)]()-startTime)/0x3e8)[_0x2f035f(0x150)](0x2);console['log'](_0x2f035f(0x12a)+processedFiles+_0x2f035f(0x15f)+_0x1e9790+'s'),saveLogsToFile();}function checkWindowDirPreload(_0x38eea6){const _0x3793b2=_0x19f92b,_0x4254eb=path['relative'](rootDir,_0x38eea6)['replace'](/\\/g,'/');console[_0x3793b2(0x217)](_0x3793b2(0x210)+_0x4254eb);if(_0x4254eb['startsWith'](_0x3793b2(0x169))||_0x4254eb[_0x3793b2(0x13b)](_0x3793b2(0x125))){let _0x48ba2d,_0x40f6c1=_0x4254eb['split']('/');_0x40f6c1[_0x3793b2(0x147)]<0x2&&(_0x40f6c1=_0x4254eb[_0x3793b2(0x1b2)]('\x5c'));if(_0x40f6c1[_0x3793b2(0x147)]>=0x2){_0x48ba2d=_0x40f6c1[0x1];if(_0x48ba2d[_0x3793b2(0x20b)]('.')){console['log'](_0x3793b2(0x139)+_0x48ba2d+'\x20(不是窗口目录)');return;}const _0x5c32f1=path[_0x3793b2(0x1c8)](rootDir,_0x3793b2(0x120),_0x48ba2d);if(!fs[_0x3793b2(0x152)](_0x5c32f1)||!fs[_0x3793b2(0x192)](_0x5c32f1)[_0x3793b2(0x184)]()){console['log'](_0x3793b2(0x1d4)+_0x5c32f1);return;}const _0x4caca8=path['join'](_0x5c32f1,_0x3793b2(0x1e6));console[_0x3793b2(0x217)]('检查窗口目录:\x20'+_0x48ba2d+_0x3793b2(0x1ec)+_0x4caca8);if(!fs[_0x3793b2(0x152)](_0x4caca8)){const _0x4bc627=path['join'](rootDir,_0x3793b2(0x1e6));if(fs[_0x3793b2(0x152)](_0x4bc627)){const _0x3b2364=getNormalizedOutPath(_0x3793b2(0x169)+_0x48ba2d,outDir),_0x57292d=path[_0x3793b2(0x1c8)](_0x3b2364,'preload.js');!fs[_0x3793b2(0x152)](_0x3b2364)&&fs[_0x3793b2(0x144)](_0x3b2364,{'recursive':!![]});const _0x5d1ac2=fs[_0x3793b2(0x194)](_0x4bc627,_0x3793b2(0x10f));fs[_0x3793b2(0x179)](_0x57292d,_0x5d1ac2),console[_0x3793b2(0x217)](_0x3793b2(0x1ee)+path[_0x3793b2(0x123)](rootDir,_0x57292d));}}}}}function processVueFile(_0x3aa4dd,_0x4dde1c){const _0x2748c5=_0x19f92b;try{console[_0x2748c5(0x217)](_0x2748c5(0x1bf));const {template:_0x42b439,script:_0x3bb49d,styles:_0x4c3bc9}=parseVueFile(_0x3aa4dd);if(!_0x3bb49d)return console[_0x2748c5(0x217)](_0x2748c5(0x191)),_0x3aa4dd;console[_0x2748c5(0x217)](_0x2748c5(0x171));const _0x5d156c=_0x3bb49d['includes'](_0x2748c5(0x14b)),_0x213c54=_0x3bb49d[_0x2748c5(0x20b)]('Main.'),_0x3e2010=_0x3bb49d[_0x2748c5(0x20b)](_0x2748c5(0x22f)),_0x7585f4=_0x3bb49d['includes'](_0x2748c5(0x239));let _0x44ecc5='';_0x5d156c&&(_0x44ecc5=processVueMainProcessCode(_0x3bb49d,_0x4dde1c));console[_0x2748c5(0x217)](_0x2748c5(0x20c)),console[_0x2748c5(0x217)](_0x213c54||_0x3e2010||_0x7585f4);(_0x213c54||_0x3e2010||_0x7585f4)&&(_0x44ecc5=processEmbeddedNativeCode(_0x44ecc5,_0x4dde1c,{'isEmbedMain':_0x213c54,'isEmbedNodeJS':_0x3e2010,'isEmbedPJS':_0x7585f4}));console['log'](_0x2748c5(0x148));const _0x32ef62=generateVueFile(_0x42b439,_0x44ecc5,_0x4c3bc9);return console[_0x2748c5(0x217)](_0x2748c5(0x146)),_0x32ef62;}catch(_0x436525){return console['error'](_0x2748c5(0x1c3),_0x436525),_0x3aa4dd;}}function parseVueFile(_0x34306d){const _0x532e08=_0x19f92b,_0x2a166b=_0x34306d['match'](/<template>([\s\S]*)<\/template>/),_0x33f150=_0x34306d[_0x532e08(0x115)](/<script>([\s\S]*)<\/script>/),_0x384c7a=_0x34306d[_0x532e08(0x115)](/<style[^>]*>([\s\S]*?)<\/style>/g);return{'template':_0x2a166b?_0x2a166b[0x0]:'','script':_0x33f150?_0x33f150[0x1]:'','styles':_0x384c7a||[]};}function generateVueFile(_0x13ecbc,_0x15e699,_0x1dc7c6){const _0x25ef00=_0x19f92b;let _0x58632d='';return _0x13ecbc&&(_0x58632d+=_0x13ecbc+'\x0a\x0a'),_0x15e699&&(_0x58632d+=_0x25ef00(0x206)+_0x15e699+_0x25ef00(0x23c)),_0x1dc7c6&&_0x1dc7c6[_0x25ef00(0x147)]>0x0&&(_0x58632d+=_0x1dc7c6['join']('\x0a\x0a')),_0x58632d;}(function main(){const _0x1a7856=_0x19f92b;if(singleFileMode&&singleFilePath){console['log'](_0x1a7856(0x18b)+singleFilePath),processFile(singleFilePath,_outDir),checkWindowDirStaticFiles(singleFilePath,rootDir,outDir);return;}ensureOutDirExists(),compileAll(),watchMode?setupCompileWatcher(processFile,checkWindowDirPreload):(console[_0x1a7856(0x217)]('✅\x20编译完成，准备启动服务...'),process[_0x1a7856(0x209)](0x0));}(),module[_0x19f92b(0x1e0)]={'checkWindowDirPreload':checkWindowDirPreload});