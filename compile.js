const _0x53d8a7=_0xc451;(function(_0xf3064,_0x514a0f){const _0x5d5668=_0xc451,_0xcfd864=_0xf3064();while(!![]){try{const _0x47ffef=parseInt(_0x5d5668(0x1a9))/0x1+-parseInt(_0x5d5668(0x138))/0x2+-parseInt(_0x5d5668(0xe9))/0x3+-parseInt(_0x5d5668(0xfe))/0x4+-parseInt(_0x5d5668(0xf1))/0x5+parseInt(_0x5d5668(0xea))/0x6+parseInt(_0x5d5668(0x124))/0x7*(parseInt(_0x5d5668(0x197))/0x8);if(_0x47ffef===_0x514a0f)break;else _0xcfd864['push'](_0xcfd864['shift']());}catch(_0x55bed7){_0xcfd864['push'](_0xcfd864['shift']());}}}(_0x22ab,0x3497d));const fs=require('fs'),path=require(_0x53d8a7(0x1a2)),chokidar=require(_0x53d8a7(0x192)),watchManager=require('./shared/watch-manager'),crypto=require(_0x53d8a7(0x132)),parser=require(_0x53d8a7(0x18e)),traverse=require('@babel/traverse')['default'],generate=require('@babel/generator')[_0x53d8a7(0x153)],t=require(_0x53d8a7(0x17d)),{setupCompileWatcher}=require(_0x53d8a7(0x127)),{transformCode,analyseCompleteUseNode,transformVueScript}=require(_0x53d8a7(0x10b)),{updateFnFile}=require('./utils/fn-updater'),{copyStaticFilesToWindowDirs,checkWindowDirStaticFiles,copyScriptsToOutputRoot}=require(_0x53d8a7(0x1c6)),{processPackageJson}=require(_0x53d8a7(0x103)),{processMainProcessFile}=require('./utils/main-process-handler'),{checkWindowPreloadAndCopy,writeDefaultPreloadFileWhenDeleted}=require(_0x53d8a7(0x164)),{obfuscatorJS}=require('./utils/saveJs');let compileLogs=[],isCollectingLogs=![];const originalConsole={'log':console[_0x53d8a7(0x140)],'info':console[_0x53d8a7(0x150)],'warn':console[_0x53d8a7(0x118)],'error':console['error']},CONFIG={'logToConsole':!![]};function setupLogCollector(){const _0x17db38=_0x53d8a7;if(!isFullCompile)return;isCollectingLogs=!![],compileLogs=[],console[_0x17db38(0x140)]=(..._0x3cfbf8)=>{const _0x3f0d23=_0x17db38,_0x2c7679=_0x3f0d23(0xf3)+_0x3cfbf8[_0x3f0d23(0xb5)]('\x20');compileLogs[_0x3f0d23(0xbc)](_0x2c7679),CONFIG['logToConsole']&&originalConsole['log'](_0x2c7679);},console[_0x17db38(0x150)]=(..._0x403244)=>{const _0xfc0800=_0x17db38,_0x2f8323=_0xfc0800(0x1c1)+_0x403244[_0xfc0800(0xb5)]('\x20');compileLogs['push'](_0x2f8323),CONFIG[_0xfc0800(0x1a7)]&&originalConsole[_0xfc0800(0x150)](_0x2f8323);},console['warn']=(..._0x2b2cbc)=>{const _0x201056=_0x17db38,_0x5ab0e9=_0x201056(0xbb)+_0x2b2cbc[_0x201056(0xb5)]('\x20');compileLogs[_0x201056(0xbc)](_0x5ab0e9),CONFIG[_0x201056(0x1a7)]&&originalConsole[_0x201056(0x118)](_0x5ab0e9);},console['error']=(..._0x492406)=>{const _0x3180e5=_0x17db38,_0x301040=_0x3180e5(0x13b)+_0x492406[_0x3180e5(0xb5)]('\x20');compileLogs[_0x3180e5(0xbc)](_0x301040),CONFIG[_0x3180e5(0x1a7)]&&originalConsole[_0x3180e5(0x156)](_0x301040);};}function saveLogsToFile(){const _0x32fcda=_0x53d8a7;if(!isCollectingLogs||compileLogs[_0x32fcda(0x13c)]===0x0)return;const _0x4b7cdd=new Date(),_0x1298cc=_0x4b7cdd[_0x32fcda(0xd5)]()+String(_0x4b7cdd[_0x32fcda(0x107)]()+0x1)[_0x32fcda(0xe8)](0x2,'0')+String(_0x4b7cdd[_0x32fcda(0xd8)]())[_0x32fcda(0xe8)](0x2,'0')+String(_0x4b7cdd['getHours']())[_0x32fcda(0xe8)](0x2,'0')+String(_0x4b7cdd[_0x32fcda(0xd6)]())['padStart'](0x2,'0')+String(_0x4b7cdd[_0x32fcda(0x1a1)]())[_0x32fcda(0xe8)](0x2,'0'),_0x237212=path['join'](outDir,'logs'),_0x183676=path[_0x32fcda(0xb5)](_0x237212,'log_'+_0x1298cc+'.txt');!fs[_0x32fcda(0x1cb)](_0x237212)&&fs[_0x32fcda(0x15e)](_0x237212,{'recursive':!![]}),fs[_0x32fcda(0xc4)](_0x183676,compileLogs[_0x32fcda(0xb5)]('\x0a'),_0x32fcda(0xc0)),console[_0x32fcda(0x140)]=originalConsole[_0x32fcda(0x140)],console[_0x32fcda(0x150)]=originalConsole[_0x32fcda(0x150)],console['warn']=originalConsole[_0x32fcda(0x118)],console[_0x32fcda(0x156)]=originalConsole[_0x32fcda(0x156)],console['log']('✅\x20全量编译完成，日志已保存到:\x20'+path[_0x32fcda(0xf9)](rootDir,_0x183676));}const args=process[_0x53d8a7(0x12f)][_0x53d8a7(0x1c8)](0x2),watchMode=args[_0x53d8a7(0x16b)](_0x53d8a7(0xcf)),singleFileMode=args[_0x53d8a7(0x16b)](_0x53d8a7(0x19a)),singleFilePath=singleFileMode?args[args[_0x53d8a7(0xca)](_0x53d8a7(0x19a))+0x1]:null,rootDir=singleFileMode?args[args[_0x53d8a7(0xca)](_0x53d8a7(0x12c))+0x1]:process['cwd'](),outDir=path[_0x53d8a7(0xb5)](rootDir,'out'),_outDir=singleFileMode?args[args[_0x53d8a7(0xca)]('--out-dir')+0x1]:outDir,compileDir=__dirname,isFullCompile=!watchMode&&!singleFileMode,mainProcessFunctions={},functionNameCountMap=new Map();function generateFunctionId(_0x5aed9e,_0x3809d8,_0x144f13){const _0x2d7382=_0x53d8a7,_0x59d2aa=_0x5aed9e['replace'](rootDir,'')[_0x2d7382(0x13a)](/^[\/\\]/,'')['replace'](/^src[\/\\]/,'')['replace'](/\\/g,'/'),_0x344929='__FUNCTION_'+_0x59d2aa['replace'](/[\/\.]/g,'_')+'_'+_0x3809d8+'_'+_0x144f13+'__';return _0x344929;}function extractMainProcessFunction(_0x371a80,_0x5cdc7b,_0x3e2bb3){const _0x415f8c=_0x53d8a7,_0x4bc4be=_0x371a80[_0x415f8c(0x16b)](_0x415f8c(0x13f));let _0x310192=_0x371a80;if(_0x4bc4be)return _0x310192='let\x20_callbackCount\x20=\x200;\x0a'+_0x310192,_0x310192=_0x310192[_0x415f8c(0x13a)](/this\.callback\((.*?)\)/g,(_0x4e0338,_0x31d48b)=>{const _0x57dbf1=_0x415f8c;return'this.sendToRenderer(\x27'+_0x3e2bb3+_0x57dbf1(0xec)+_0x31d48b+_0x57dbf1(0xbe);}),{'fnId':_0x5cdc7b,'callbackId':_0x3e2bb3,'code':_0x310192,'hasCallback':!![]};return{'fnId':_0x5cdc7b,'code':_0x310192,'hasCallback':![]};}function processVueMainProcessCode(_0x4d50ee,_0xd01667){const _0x1e9c0b=_0x53d8a7;try{const _0x4a0441=transformCode(_0x4d50ee),_0x4cab3d=parser[_0x1e9c0b(0xcd)](_0x4a0441,{'sourceType':_0x1e9c0b(0xe3),'plugins':[_0x1e9c0b(0x114),'typescript']}),_0x3a15f3=[];traverse(_0x4cab3d,{'ExportNamedDeclaration'(_0x4fb941){const _0x2dc899=_0x1e9c0b;if(t[_0x2dc899(0x13d)](_0x4fb941[_0x2dc899(0x10f)][_0x2dc899(0x148)])){const _0x1d00fa=_0x4fb941['node'][_0x2dc899(0x148)],_0x1843ba=_0x4fb941[_0x2dc899(0x10f)][_0x2dc899(0xda)]||_0x1d00fa[_0x2dc899(0xda)]||[],_0x57112c=_0x1843ba[_0x2dc899(0x122)](_0x4c822b=>_0x4c822b[_0x2dc899(0x194)][_0x2dc899(0x16b)](_0x2dc899(0x1b2)));if(_0x57112c){const _0x4d9271=_0x1d00fa['id'][_0x2dc899(0x161)],_0x48e7d3=functionNameCountMap['get'](_0xd01667+':'+_0x4d9271)||0x0,_0x324c52=generateFunctionId(_0xd01667,_0x4d9271,_0x48e7d3),_0x41f527=generateFunctionId(_0xd01667,_0x4d9271+_0x2dc899(0x188),_0x48e7d3);functionNameCountMap['set'](_0xd01667+':'+_0x4d9271,_0x48e7d3+0x1);const _0x5b3934=generate(_0x1d00fa[_0x2dc899(0xad)])[_0x2dc899(0x179)],_0x514bf7=_0x5b3934['replace'](/^\{\s*|\s*\}$/g,'')[_0x2dc899(0xc5)](),_0x41b456=extractMainProcessFunction(_0x514bf7,_0x324c52,_0x41f527);_0x3a15f3[_0x2dc899(0xbc)]({'name':_0x4d9271,..._0x41b456,'isExport':!![],'path':_0x4fb941,'params':_0x1d00fa[_0x2dc899(0x170)]});}}},'FunctionDeclaration'(_0xbcb5d0){const _0x23c0ff=_0x1e9c0b;if(_0xbcb5d0[_0x23c0ff(0x1cd)][_0x23c0ff(0x1a3)]())return;const _0x45f621=_0xbcb5d0['node'][_0x23c0ff(0xda)]||[],_0x3b6f33=_0x45f621[_0x23c0ff(0x122)](_0x40595f=>_0x40595f[_0x23c0ff(0x194)][_0x23c0ff(0x16b)](_0x23c0ff(0x1b2)));if(_0x3b6f33){const _0x10a514=_0xbcb5d0[_0x23c0ff(0x10f)]['id'][_0x23c0ff(0x161)],_0x9b0866=functionNameCountMap[_0x23c0ff(0xc8)](_0xd01667+':'+_0x10a514)||0x0,_0x25e44f=generateFunctionId(_0xd01667,_0x10a514,_0x9b0866),_0x4c1d36=generateFunctionId(_0xd01667,_0x10a514+_0x23c0ff(0x188),_0x9b0866);functionNameCountMap['set'](_0xd01667+':'+_0x10a514,_0x9b0866+0x1);const _0x17aded=generate(_0xbcb5d0[_0x23c0ff(0x10f)][_0x23c0ff(0xad)])[_0x23c0ff(0x179)],_0x11d576=_0x17aded[_0x23c0ff(0x13a)](/^\{\s*|\s*\}$/g,'')[_0x23c0ff(0xc5)](),_0x2fb9f1=extractMainProcessFunction(_0x11d576,_0x25e44f,_0x4c1d36);_0x3a15f3[_0x23c0ff(0xbc)]({'name':_0x10a514,..._0x2fb9f1,'isExport':![],'path':_0xbcb5d0,'params':_0xbcb5d0['node']['params']});}},'ObjectMethod'(_0x1238ea){const _0xcc49bd=_0x1e9c0b,_0x3dadd7=_0x1238ea[_0xcc49bd(0x10f)][_0xcc49bd(0xda)]||[],_0x92e918=_0x3dadd7[_0xcc49bd(0x122)](_0x57ebcb=>_0x57ebcb[_0xcc49bd(0x194)][_0xcc49bd(0x16b)](_0xcc49bd(0x1b2)));if(_0x92e918){const _0x2fa76c=_0x1238ea[_0xcc49bd(0x10f)][_0xcc49bd(0x1b9)][_0xcc49bd(0x161)],_0xd9aa77=functionNameCountMap['get'](_0xd01667+':'+_0x2fa76c)||0x0,_0x318999=generateFunctionId(_0xd01667,_0x2fa76c,_0xd9aa77),_0xc19d44=generateFunctionId(_0xd01667,_0x2fa76c+_0xcc49bd(0x188),_0xd9aa77);functionNameCountMap[_0xcc49bd(0x1d0)](_0xd01667+':'+_0x2fa76c,_0xd9aa77+0x1);const _0x1e737f=generate(_0x1238ea[_0xcc49bd(0x10f)][_0xcc49bd(0xad)])[_0xcc49bd(0x179)],_0x298133=_0x1e737f['replace'](/^\{\s*|\s*\}$/g,'')[_0xcc49bd(0xc5)](),_0x588fdb=extractMainProcessFunction(_0x298133,_0x318999,_0xc19d44);_0x3a15f3['push']({'name':_0x2fa76c,..._0x588fdb,'isMethod':!![],'path':_0x1238ea,'params':_0x1238ea[_0xcc49bd(0x10f)][_0xcc49bd(0x170)]});}}});for(const _0x1a661f of _0x3a15f3){const _0x3855f0=_0x1a661f[_0x1e9c0b(0xe4)];mainProcessFunctions[_0x3855f0]={'body':_0x1a661f['code'],'name':_0x1a661f['name'],'params':_0x1a661f['params'][_0x1e9c0b(0xd2)](_0x3ebe2f=>_0x3ebe2f[_0x1e9c0b(0x161)])};let _0x3fc360;!_0x1a661f[_0x1e9c0b(0x19d)]?_0x3fc360=t[_0x1e9c0b(0x157)]([t[_0x1e9c0b(0x104)](t[_0x1e9c0b(0x18d)](t['memberExpression'](t['memberExpression'](t[_0x1e9c0b(0x128)]('window'),t[_0x1e9c0b(0x128)](_0x1e9c0b(0xb4))),t[_0x1e9c0b(0x128)](_0x1e9c0b(0x16a))),[t[_0x1e9c0b(0x1c9)](_0x3855f0),t[_0x1e9c0b(0x186)](_0x1a661f[_0x1e9c0b(0x170)]['map'](_0x2f1b43=>t['objectProperty'](t[_0x1e9c0b(0x128)](_0x2f1b43['name']),t[_0x1e9c0b(0x128)](_0x2f1b43[_0x1e9c0b(0x161)]))))]))]):_0x3fc360=t[_0x1e9c0b(0x157)]([t[_0x1e9c0b(0xd7)](_0x1e9c0b(0x17e),[t[_0x1e9c0b(0x1b7)](t['identifier'](_0x1e9c0b(0x177)),t['callExpression'](t['memberExpression'](t[_0x1e9c0b(0x1ba)](t[_0x1e9c0b(0x128)](_0x1e9c0b(0xe2)),t['identifier'](_0x1e9c0b(0xb4))),t[_0x1e9c0b(0x128)](_0x1e9c0b(0x16a))),[t[_0x1e9c0b(0x1c9)](_0x3855f0),t[_0x1e9c0b(0x186)](_0x1a661f['params'][_0x1e9c0b(0xd2)](_0xf27ba1=>t['objectProperty'](t[_0x1e9c0b(0x128)](_0xf27ba1[_0x1e9c0b(0x161)]),t[_0x1e9c0b(0x128)](_0xf27ba1[_0x1e9c0b(0x161)]))))]))]),t[_0x1e9c0b(0x104)](t[_0x1e9c0b(0x186)]([t[_0x1e9c0b(0x14d)](t[_0x1e9c0b(0x128)](_0x1e9c0b(0x1b6)),t['functionExpression'](null,[t[_0x1e9c0b(0x128)](_0x1e9c0b(0x137))],t[_0x1e9c0b(0x157)]([t['expressionStatement'](t['callExpression'](t[_0x1e9c0b(0x1ba)](t[_0x1e9c0b(0x1ba)](t[_0x1e9c0b(0x128)](_0x1e9c0b(0xe2)),t[_0x1e9c0b(0x128)](_0x1e9c0b(0xb4))),t[_0x1e9c0b(0x128)](_0x1e9c0b(0x178))),[t[_0x1e9c0b(0x1c9)](_0x1a661f['callbackId']),t[_0x1e9c0b(0x128)](_0x1e9c0b(0x137))])),t['expressionStatement'](t[_0x1e9c0b(0x18d)](t['memberExpression'](t[_0x1e9c0b(0x128)]('promise'),t[_0x1e9c0b(0x128)](_0x1e9c0b(0x111))),[t['arrowFunctionExpression']([t[_0x1e9c0b(0x128)](_0x1e9c0b(0x180))],t[_0x1e9c0b(0x18d)](t[_0x1e9c0b(0x128)](_0x1e9c0b(0x137)),[t['identifier']('result')]))]))])))]))]);if(_0x1a661f['isMethod'])_0x1a661f[_0x1e9c0b(0x1a2)]['replaceWith'](t[_0x1e9c0b(0x1c7)](_0x1e9c0b(0x18a),t[_0x1e9c0b(0x128)](_0x1a661f[_0x1e9c0b(0x161)]),_0x1a661f[_0x1e9c0b(0x170)],_0x3fc360,![],![]),!![]);else{const _0x4e4d6f=t[_0x1e9c0b(0x15c)](t[_0x1e9c0b(0x128)](_0x1a661f[_0x1e9c0b(0x161)]),_0x1a661f[_0x1e9c0b(0x170)],_0x3fc360);_0x1a661f[_0x1e9c0b(0xef)]?_0x1a661f[_0x1e9c0b(0x1a2)][_0x1e9c0b(0x123)](t[_0x1e9c0b(0x144)](_0x4e4d6f,[])):_0x1a661f[_0x1e9c0b(0x1a2)][_0x1e9c0b(0x123)](_0x4e4d6f);}}const _0x30b3e4=generate(_0x4cab3d,{'retainLines':!![],'compact':![],'quotes':'single','concise':![],'jsescOption':{'quotes':_0x1e9c0b(0xba)},'format':{'indent':{'style':_0x1e9c0b(0x119),'adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x4faf78=_0x30b3e4[_0x1e9c0b(0x179)]['replace'](/\n\n+/g,'\x0a\x0a')[_0x1e9c0b(0x13a)](/{\s*return\s+/g,_0x1e9c0b(0x1b0))[_0x1e9c0b(0x13a)](/;\s*}/g,_0x1e9c0b(0xaf))[_0x1e9c0b(0x13a)](/,\s*live:\s*function/g,_0x1e9c0b(0x19b))['replace'](/}\s*}\s*$/gm,_0x1e9c0b(0x117))[_0x1e9c0b(0x13a)](/async\s+(\w+)\s*\(\)/g,_0x1e9c0b(0x115))[_0x1e9c0b(0x13a)](/\)\s*{/g,_0x1e9c0b(0xf0));return _0x4faf78;}catch(_0x30788e){return console[_0x1e9c0b(0x156)](_0x1e9c0b(0x171),_0x30788e),_0x4d50ee;}}function removePrefix(_0x165fbd){return _0x165fbd['replace'](/^(Main\.|NodeJS\.|PJS\.)/g,'');}function getModuleName(_0x119f55){const _0x4726b2=_0x53d8a7,_0x7cc455=_0x119f55[_0x4726b2(0x152)](/^(\w+)\./);return _0x7cc455?_0x7cc455[0x1]:null;}function extractFunctionParams(_0x5d9e89){const _0x189ee2=_0x53d8a7;if(!_0x5d9e89||!_0x5d9e89[_0x189ee2(0x142)]||_0x5d9e89[_0x189ee2(0x142)]!==_0x189ee2(0x185))return[];const _0x3e79e9=_0x5d9e89[_0x189ee2(0x1a8)]['map'](_0x54c359=>{const _0x263696=_0x189ee2;let _0x2d575c={'type':_0x54c359[_0x263696(0x142)],'value':null};switch(_0x54c359[_0x263696(0x142)]){case'StringLiteral':_0x2d575c[_0x263696(0x194)]=_0x54c359[_0x263696(0x194)];break;case _0x263696(0xce):_0x2d575c['value']=_0x54c359[_0x263696(0x194)];break;case _0x263696(0x198):_0x2d575c[_0x263696(0x194)]=_0x54c359['value'];break;case _0x263696(0x106):_0x2d575c[_0x263696(0x194)]=_0x54c359[_0x263696(0x161)];break;case _0x263696(0x113):_0x2d575c[_0x263696(0x194)]=generate(_0x54c359)[_0x263696(0x179)];break;case'ArrayExpression':_0x2d575c[_0x263696(0x194)]=generate(_0x54c359)['code'];break;default:_0x2d575c[_0x263696(0x194)]=generate(_0x54c359)[_0x263696(0x179)];}return _0x2d575c;});return _0x5d9e89[_0x189ee2(0x1a8)]=_0x3e79e9[_0x189ee2(0xd2)]((_0x4100cf,_0x4a737f)=>{const _0x4f8949=_0x189ee2;return t[_0x4f8949(0x128)](_0x4f8949(0x162)+(_0x4a737f+0x1));}),_0x3e79e9;}function _0x22ab(){const _0x5911ea=['🔍\x20检查\x20Vue\x20文件:\x20','处理嵌入的原生代码时出错:','loc','Menu',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copyFileSync','autoUpdater','some','replaceWith','1638434jBMMJs','startsWith','cli.js','./utils/watcher','identifier','events','✅\x20创建输出目录:\x20','.vscode','--root-dir','\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20true,\x20result\x20};\x0a','powerSaveBlocker','argv','pushNotifications','isFile','crypto','main.js','\x0a</script>\x0a\x0a','mixone','replaceWithSourceString','callback','182038WpfBZs','crashReporter','replace','[ERROR]\x20','length','isFunctionDeclaration',')\x20{\x0a','this.callback','log','object','type','nativeImage','exportNamedDeclaration','function\x20registerMainFunctions()\x20{\x0a','README.md','const\x20{\x20setupConsoleRedirect\x20}\x20=\x20require(\x27./reset_console\x27);setupConsoleRedirect();\x0a','declaration','forEach','scripts/','}\x0a\x0a','⚠️\x20文件不存在:\x20','objectProperty','windows\x5c','❌\x20无法处理:\x20','info','✅\x20成功编译:\x20','match','default','globalShortcut','stream','error','blockStatement','📝\x20处理\x20script\x20部分...','add','🔍\x20开始处理\x20Vue\x20文件...','🔧\x20跳过\x20窗口目录下的\x20preload.js:\x20','functionDeclaration','检查是否需要\x20preload.js:\x20','mkdirSync','publish.js','main','name','arg','\x20\x20},\x0a','./utils/preload-process-handler','✅\x20全量编译完成\x20-\x20处理了\x20','NodeJS.','exports','outPath','entries','callMainFunction','includes','@babel/traverse','📋\x20复制文件:\x20','random','endsWith','params','处理主进程代码时出错:','node_modules','cluster','✅\x20编译完成，准备启动服务...','doc','package.json','promise','registerCallback','code','outPath:\x20','.git','isDirectory','@babel/types','const','BrowserView','result','PJS','keys','floor','✅\x20Vue\x20文件处理完成','CallExpression','objectExpression','session','_callback','readFileSync','method','utilityProcess','netLog','callExpression','@babel/parser','windows/','\x0aconst\x20fn\x20=\x20{\x0a',':\x20async\x20function(','chokidar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20','value','🔍\x20outPath处理文件:\x20','📁\x20根目录:\x20','8SiDZhN','BooleanLiteral','rmSync','--file',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20live:\x20function','❌\x20处理\x20Vue\x20文件时出错:','hasCallback','Main.','🔍\x20处理文件:\x20','readdirSync','getSeconds','path','isExportNamedDeclaration','scripts','🗑️\x20删除:\x20','PJS.','logToConsole','arguments','387773cvbDbQ','✅\x20已清理\x20out\x20目录（保留\x20node_modules）','statSync','cwd','screen','❌\x20扫描目录失败:\x20','\x20\x20ipcMain.handle(\x27call-main-fn\x27,\x20async\x20(event,\x20{\x20id,\x20args\x20})\x20=>\x20{\x0a','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20','safeStorage','@mainProcess','now','.idea','relativePath:','live','variableDeclarator','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20event.sender.send(`callback:${callbackId}`,\x20...data);\x0a','key','memberExpression','✅\x20成功处理\x20main/main.js:\x20','StringLiteral','srcPath','📋\x20复制并混淆文件:\x20/code/main/','nativeTheme','desktopCapturer','[INFO]\x20','out/','🔧\x20跳过根preload.js:\x20','NodeJS','\x20\x20\x20\x20try\x20{\x0a','./utils/static-file-copier','objectMethod','slice','stringLiteral','testdemo2','existsSync','contentTracing','parentPath','inAppPurchase','yarn.lock','set','🚀\x20开始全量编译...','📂\x20正在处理:\x20','parentPort','body','\x20\x20\x20\x20\x20\x20\x20\x20sender:\x20event.sender,\x0a',';\x0a\x20\x20\x20\x20}','\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a','MessageChannelMain','isEmbedMain,isEmbedNodeJS,isEmbedPJS','🔍\x20检测到\x20node_modules，将保留该目录','electron','join','preload.js','⚠️\x20跳过非窗口目录路径:\x20','from','outDir:','single','[WARN]\x20','push','\x20\x20\x20\x20}\x0a',',\x20++_callbackCount)','windows','utf-8','out','toFixed','const\x20','writeFileSync','trim','unlinkSync','testdemo4','get','.vue','indexOf','ipcMain','✅\x20生成\x20fn.js:\x20','parse','NumericLiteral','--watch','powerMonitor','🔧\x20处理主进程文件:\x20','map','❌\x20处理失败:\x20','TouchBar','getFullYear','getMinutes','variableDeclaration','getDate','Tray','leadingComments','.live','Notification','node_modules/','split','View','out\x5c','testdemo','window','module','fnId','basename','检查窗口目录:\x20',':\x20\x27','padStart','1281669PoZXei','2544630jIDBIY','https','\x27,\x20','🔍\x20处理文件rootDir:\x20','dns','isExport',')\x20{','33075GTtRif','isEmbedMain\x20||\x20isEmbedNodeJS\x20||\x20isEmbedPJS','[LOG]\x20','\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20fn[id].apply(context,\x20Object.values(args));\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20{\x20','module.exports\x20=\x20{\x20registerMainFunctions\x20}\x0a','resolve','\x20个文件，耗时\x20','relative','.js','ShareMenu','\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20','\x20}\x20=\x20require(\x27electron\x27);\x0a','1222648KasCUg','\x27);\x0a','line','webFrameMain','dirname','./utils/content-processor','returnStatement','🔧\x20处理根目录\x20package.json:\x20','Identifier','getMonth','start','🔍\x20仅处理:\x20','Main','./utils/ast-transformer','📁\x20输出目录:\x20','\x20\x20\x20\x20\x20\x20const\x20context\x20=\x20{\x0a','exit','node','size','then','⚠️\x20跳过文件:\x20','ObjectExpression','jsx','async\x20$1()','fn.js','\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}','warn','\x20\x20\x20\x20','net'];_0x22ab=function(){return _0x5911ea;};return _0x22ab();}function _0xc451(_0x26307b,_0x5a9f37){const _0x22ab1d=_0x22ab();return _0xc451=function(_0xc45102,_0x4725dc){_0xc45102=_0xc45102-0xac;let _0x3d7648=_0x22ab1d[_0xc45102];return _0x3d7648;},_0xc451(_0x26307b,_0x5a9f37);}function processEmbeddedNativeCode(_0x27e3a6,_0x5b8077){const _0x4b1b9f=_0x53d8a7;try{const _0x1d1d97=require(_0x4b1b9f(0x18e)),_0x1c84ff=require(_0x4b1b9f(0x16c))['default'],_0x56234e=_0x1d1d97[_0x4b1b9f(0xcd)](_0x27e3a6,{'sourceType':_0x4b1b9f(0xe3),'plugins':['jsx','typescript']});_0x1c84ff(_0x56234e,{'MemberExpression'(_0x5afa9c){const _0x4de0b3=_0x4b1b9f,_0x5f5231=_0x5afa9c[_0x4de0b3(0xc8)](_0x4de0b3(0x141));if(!_0x5f5231['isIdentifier']())return;const _0x3cc7a6=_0x5f5231[_0x4de0b3(0x10f)][_0x4de0b3(0x161)];if(![_0x4de0b3(0x10a),_0x4de0b3(0x1c4),_0x4de0b3(0x181)][_0x4de0b3(0x16b)](_0x3cc7a6))return;let _0xf7aab7=analyseCompleteUseNode(_0x5afa9c[_0x4de0b3(0x1cd)],_0x5afa9c[_0x4de0b3(0x1cd)],_0x5afa9c),_0x4bf7f6=extractFunctionParams(_0xf7aab7[_0x4de0b3(0x1a2)][_0x4de0b3(0x10f)]),_0x14b9d1='{'+_0x4bf7f6[_0x4de0b3(0xd2)]((_0x45aa84,_0x438177)=>[_0x4de0b3(0x1bc),_0x4de0b3(0xce),'BooleanLiteral'][_0x4de0b3(0x16b)](_0x45aa84['type'])?_0x4de0b3(0x162)+(_0x438177+0x1)+_0x4de0b3(0xe7)+_0x45aa84['value']+'\x27':_0x4de0b3(0x162)+(_0x438177+0x1)+':\x20'+_0x45aa84[_0x4de0b3(0x194)])[_0x4de0b3(0xb5)](',')+'}';const _0x2ea1d5=generate(_0xf7aab7[_0x4de0b3(0x1a2)][_0x4de0b3(0x10f)])[_0x4de0b3(0x179)];let _0x991e3f=removePrefix(_0x2ea1d5);const _0x1759dc=getModuleName(_0x991e3f),_0x1f29cd=_0xf7aab7['pathType']=='call'?!![]:![];_0x1f29cd&&_0x991e3f;const _0x2a67cd=_0x5afa9c[_0x4de0b3(0x10f)][_0x4de0b3(0x11d)][_0x4de0b3(0x108)][_0x4de0b3(0x100)],_0x2c6a60=Math[_0x4de0b3(0x183)](Math[_0x4de0b3(0x16e)]()*0x15f90)+0x2710,_0x5a04a7=generateFunctionId(_0x5b8077,_0x3cc7a6+'_'+_0x2a67cd,_0x2c6a60),_0xc92b64=generateFunctionId(_0x5b8077,_0x3cc7a6+'_'+_0x2a67cd+'_callback',_0x2c6a60);console['log'](_0x4de0b3(0xe4),_0x5a04a7);if(_0x3cc7a6==_0x4de0b3(0x10a))functionBody=_0x4de0b3(0xf5)+_0x1759dc+'\x20}\x20=\x20require(\x27electron\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20'+_0x991e3f+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x3cc7a6==_0x4de0b3(0x1c4))functionBody=_0x4de0b3(0x193)+_0x1759dc+'\x20=\x20require(\x27'+_0x1759dc+_0x4de0b3(0xfc)+_0x991e3f+_0x4de0b3(0x11f);else{if(_0x3cc7a6==_0x4de0b3(0x181)){}}}let _0x480009=_0x1f29cd?_0x14b9d1:'{}';mainProcessFunctions[_0x5a04a7]={'body':functionBody,'name':_0x2ea1d5,'params':_0x4bf7f6[_0x4de0b3(0xd2)]((_0x153742,_0x77f5d)=>['StringLiteral',_0x4de0b3(0xce),_0x4de0b3(0x198)][_0x4de0b3(0x16b)](_0x153742[_0x4de0b3(0x142)])?_0x4de0b3(0x162)+(_0x77f5d+0x1):_0x4de0b3(0x162)+(_0x77f5d+0x1))};const _0x23d397='window.electron.callMainFunction(\x27'+_0x5a04a7+_0x4de0b3(0xec)+_0x480009+')';_0xf7aab7[_0x4de0b3(0x1a2)][_0x4de0b3(0x136)](_0x23d397);}});const _0x11d171=generate(_0x56234e,{'retainLines':!![],'compact':![],'quotes':_0x4b1b9f(0xba),'concise':![],'jsescOption':{'quotes':_0x4b1b9f(0xba)},'format':{'indent':{'style':_0x4b1b9f(0x119),'adjustMultilineComment':!![]},'lineEnd':'\x0a','space':!![],'retainLines':![],'preserveComments':!![]}}),_0x2124ab=_0x11d171[_0x4b1b9f(0x179)][_0x4b1b9f(0x13a)](/\n\n+/g,'\x0a\x0a')['replace'](/{\s*return\s+/g,_0x4b1b9f(0x1b0))[_0x4b1b9f(0x13a)](/;\s*}/g,';\x0a\x20\x20\x20\x20}')['replace'](/,\s*live:\s*function/g,_0x4b1b9f(0x19b))[_0x4b1b9f(0x13a)](/}\s*}\s*$/gm,'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}')['replace'](/async\s+(\w+)\s*\(\)/g,_0x4b1b9f(0x115))[_0x4b1b9f(0x13a)](/\)\s*{/g,_0x4b1b9f(0xf0));return _0x2124ab;}catch(_0x18307d){return console[_0x4b1b9f(0x156)](_0x4b1b9f(0x11c),_0x18307d),_0x27e3a6;}}function generateMainProcessRegistration(){const _0x24a4cd=_0x53d8a7,_0x2d4715=['app',_0x24a4cd(0x121),'BaseWindow',_0x24a4cd(0x17f),'BrowserWindow','clipboard',_0x24a4cd(0x1cc),_0x24a4cd(0x139),_0x24a4cd(0x1c0),'dialog',_0x24a4cd(0x154),_0x24a4cd(0x1ce),'ipcMain',_0x24a4cd(0x11e),_0x24a4cd(0xb1),'MessagePortMain',_0x24a4cd(0x143),_0x24a4cd(0x1bf),'net',_0x24a4cd(0x18c),_0x24a4cd(0xdc),_0x24a4cd(0xac),_0x24a4cd(0xd0),_0x24a4cd(0x12e),'protocol',_0x24a4cd(0x130),_0x24a4cd(0x1b1),_0x24a4cd(0x1ad),_0x24a4cd(0x187),_0x24a4cd(0xfb),'shell','systemPreferences',_0x24a4cd(0xd4),_0x24a4cd(0xd9),_0x24a4cd(0x18b),'webContents','WebContentsView',_0x24a4cd(0x101),_0x24a4cd(0xdf)],_0x51c3f6=['os','fs',_0x24a4cd(0x1a2),'crypto','http',_0x24a4cd(0xeb),_0x24a4cd(0x11a),_0x24a4cd(0x155),_0x24a4cd(0x129),'child_process',_0x24a4cd(0x173),_0x24a4cd(0xee),'tls','readline','assert',_0x24a4cd(0xe3)],_0x464648=new Set([_0x24a4cd(0xcb)]),_0x11be5b=new Set();for(const [_0x4d9ecc,_0x1aab91]of Object['entries'](mainProcessFunctions)){const _0x242f92=_0x1aab91['body'];_0x2d4715[_0x24a4cd(0x149)](_0x3e7fa6=>{const _0x32bedd=_0x24a4cd;_0x242f92[_0x32bedd(0x16b)](_0x3e7fa6+'.')&&_0x464648[_0x32bedd(0x159)](_0x3e7fa6);}),_0x51c3f6[_0x24a4cd(0x149)](_0x5eb290=>{const _0x2fb779=_0x24a4cd;_0x242f92['includes'](_0x5eb290+'.')&&_0x11be5b[_0x2fb779(0x159)](_0x5eb290);});}let _0x48c643='';_0x464648[_0x24a4cd(0x110)]>0x0&&(_0x48c643+='const\x20{\x20'+Array[_0x24a4cd(0xb8)](_0x464648)[_0x24a4cd(0xb5)](',\x20')+_0x24a4cd(0xfd));_0x11be5b['size']>0x0&&(Array[_0x24a4cd(0xb8)](_0x11be5b)[_0x24a4cd(0x149)](_0x1dde93=>{const _0x309f61=_0x24a4cd;_0x48c643+=_0x309f61(0xc3)+_0x1dde93+'\x20=\x20require(\x27'+_0x1dde93+_0x309f61(0xff);}),_0x48c643+='\x0a');_0x48c643+=_0x24a4cd(0x147),_0x48c643+=_0x24a4cd(0x190);for(const [_0x1176fc,_0x3eb24c]of Object[_0x24a4cd(0x169)](mainProcessFunctions)){_0x48c643+='\x20\x20//\x20'+_0x3eb24c[_0x24a4cd(0x161)]+'\x0a',_0x48c643+='\x20\x20'+_0x1176fc+_0x24a4cd(0x191)+_0x3eb24c[_0x24a4cd(0x170)][_0x24a4cd(0xb5)](',\x20')+_0x24a4cd(0x13e),_0x48c643+='\x20\x20\x20\x20'+_0x3eb24c['body']+'\x0a',_0x48c643+=_0x24a4cd(0x163);}return _0x48c643+=_0x24a4cd(0x14b),_0x48c643+=_0x24a4cd(0x145),_0x48c643+=_0x24a4cd(0x1af),_0x48c643+=_0x24a4cd(0x1c5),_0x48c643+=_0x24a4cd(0x10d),_0x48c643+=_0x24a4cd(0xae),_0x48c643+='\x20\x20\x20\x20\x20\x20\x20\x20sendToRenderer:\x20(callbackId,\x20...data)\x20=>\x20{\x0a',_0x48c643+=_0x24a4cd(0x1b8),_0x48c643+='\x20\x20\x20\x20\x20\x20\x20\x20}\x0a',_0x48c643+='\x20\x20\x20\x20\x20\x20};\x0a\x0a',_0x48c643+=_0x24a4cd(0xf4),_0x48c643+=_0x24a4cd(0x12d),_0x48c643+=_0x24a4cd(0xb0),_0x48c643+='\x20\x20\x20\x20\x20\x20return\x20{\x20success:\x20false,\x20error:\x20error.message\x20};\x0a',_0x48c643+=_0x24a4cd(0xbd),_0x48c643+='\x20\x20});\x0a',_0x48c643+=_0x24a4cd(0x14b),_0x48c643+=_0x24a4cd(0xf6),_0x48c643;}const startTime=Date['now']();let processedFiles=0x0;function getNormalizedOutPath(_0x216480,_0x6a248b){const _0x580f1b=_0x53d8a7;console[_0x580f1b(0x140)](_0x580f1b(0x1d2)+_0x216480+_0x580f1b(0x119)+_0x6a248b);if(_0x216480['startsWith'](_0x580f1b(0x1c2))||_0x216480[_0x580f1b(0x125)](_0x580f1b(0xe0)))return path[_0x580f1b(0xb5)](rootDir,_0x216480);return path[_0x580f1b(0xb5)](_0x6a248b,_0x216480);}function ensureOutDirExists(){const _0xfb2159=_0x53d8a7;if(fs[_0xfb2159(0x1cb)](outDir)){const _0x9f4244=path[_0xfb2159(0xb5)](outDir,_0xfb2159(0x172)),_0xe0d977=fs['readdirSync'](outDir);if(fs[_0xfb2159(0x1cb)](_0x9f4244)){console[_0xfb2159(0x140)](_0xfb2159(0xb3));for(const _0x1c3243 of _0xe0d977){if(_0x1c3243!=='node_modules'){const _0x10d13b=path[_0xfb2159(0xb5)](outDir,_0x1c3243);fs['statSync'](_0x10d13b)[_0xfb2159(0x17c)]()?fs[_0xfb2159(0x199)](_0x10d13b,{'recursive':!![],'force':!![]}):fs[_0xfb2159(0xc6)](_0x10d13b),console[_0xfb2159(0x140)](_0xfb2159(0x1a5)+_0x1c3243);}}console['log'](_0xfb2159(0x1aa));}else{for(const _0x307630 of _0xe0d977){const _0x4aa167=path[_0xfb2159(0xb5)](outDir,_0x307630);fs[_0xfb2159(0x1ab)](_0x4aa167)[_0xfb2159(0x17c)]()?fs[_0xfb2159(0x199)](_0x4aa167,{'recursive':!![],'force':!![]}):fs[_0xfb2159(0xc6)](_0x4aa167),console[_0xfb2159(0x140)](_0xfb2159(0x1a5)+_0x307630);}console[_0xfb2159(0x140)]('🗑️\x20删除输出目录:\x20'+outDir);}}fs[_0xfb2159(0x15e)](outDir,{'recursive':!![]}),console[_0xfb2159(0x140)](_0xfb2159(0x12a)+outDir);}function processFile(_0x3676bb,_0x596bd9){const _0x3e57cd=_0x53d8a7;try{}catch(_0x4d8ee7){return console[_0x3e57cd(0x156)](_0x3e57cd(0xd3)+_0x3676bb,_0x4d8ee7),![];}console['log'](_0x3e57cd(0xed)+rootDir),_0x3676bb=path[_0x3e57cd(0xf7)](rootDir,_0x3676bb),console[_0x3e57cd(0x140)](_0x3e57cd(0x19f)+_0x3676bb);const _0x2bcf72=path[_0x3e57cd(0xf9)](rootDir,_0x3676bb),_0x4963c9=singleFileMode?_0x596bd9:path[_0x3e57cd(0xb5)](process[_0x3e57cd(0x1ac)](),_0x3e57cd(0xc1));console[_0x3e57cd(0x140)](_0x3e57cd(0xb9),_0x4963c9),console[_0x3e57cd(0x140)](_0x3e57cd(0x1b5),_0x2bcf72);const _0x28c536=getNormalizedOutPath(_0x2bcf72,_0x4963c9);console[_0x3e57cd(0x140)](_0x3e57cd(0x195)+_0x28c536);const _0x4d906e=path[_0x3e57cd(0x102)](_0x28c536);if(!fs['existsSync'](_0x3676bb))return console['log'](_0x3e57cd(0x14c)+_0x3676bb),_0x3676bb[_0x3e57cd(0x16b)](_0x3e57cd(0xbf)+path['sep'])&&path['basename'](_0x3676bb)===_0x3e57cd(0xb6)?(writeDefaultPreloadFileWhenDeleted(compileDir,_0x4963c9,_0x28c536,_0x3676bb),![]):![];if(_0x2bcf72[_0x3e57cd(0x16b)](_0x3e57cd(0xdd))||_0x2bcf72[_0x3e57cd(0x16b)]('.git/')||_0x2bcf72[_0x3e57cd(0x16b)](_0x3e57cd(0x1c2))||_0x2bcf72[_0x3e57cd(0x125)](_0x3e57cd(0x14a)))return![];!fs[_0x3e57cd(0x1cb)](_0x4d906e)&&(fs[_0x3e57cd(0x15e)](_0x4d906e,{'recursive':!![]}),console[_0x3e57cd(0x140)]('📁\x20创建目录:\x20'+_0x4d906e));if(_0x3676bb[_0x3e57cd(0x16f)](_0x3e57cd(0xfa))){const _0x4b5ba5=fs[_0x3e57cd(0x189)](_0x3676bb,_0x3e57cd(0xc0));if(path[_0x3e57cd(0xe5)](_0x3676bb)===_0x3e57cd(0x133)&&path['dirname'](_0x3676bb)['endsWith'](_0x3e57cd(0x160))){console['log']('🔧\x20特殊处理\x20main/main.js:\x20'+_0x2bcf72);const _0x1d671c=processMainProcessFile(_0x4b5ba5,_0x2bcf72),_0x3f6b27=obfuscatorJS(_0x1d671c);fs[_0x3e57cd(0xc4)](_0x28c536,_0x3f6b27),console[_0x3e57cd(0x140)](_0x3e57cd(0x1bb)+_0x2bcf72);}else{if(path[_0x3e57cd(0xe5)](_0x3676bb)===_0x3e57cd(0xb6))return _0x2bcf72[_0x3e57cd(0x125)](_0x3e57cd(0x18f))?(console['log'](_0x3e57cd(0x15b)+_0x2bcf72),![]):(console[_0x3e57cd(0x140)](_0x3e57cd(0x1c3)+_0x2bcf72),![]);else{const _0x15c06a=_0x4b5ba5[_0x3e57cd(0x16b)](_0x3e57cd(0x1b2)),_0x278eea=_0x4b5ba5['includes'](_0x3e57cd(0x19e)),_0x3c4615=_0x4b5ba5[_0x3e57cd(0x16b)](_0x3e57cd(0x166)),_0x31fa92=_0x4b5ba5[_0x3e57cd(0x16b)](_0x3e57cd(0x1a6));console[_0x3e57cd(0x140)](_0x3e57cd(0xb2),_0x278eea,_0x3c4615,_0x31fa92);if(_0x15c06a||_0x278eea||_0x3c4615||_0x31fa92){console['log'](_0x3e57cd(0xd1)+_0x2bcf72);let _0x37e1c5='';_0x15c06a&&(_0x37e1c5=processVueMainProcessCode(_0x4b5ba5,_0x3676bb));(_0x278eea||_0x3c4615||_0x31fa92)&&(_0x37e1c5=processEmbeddedNativeCode(_0x37e1c5,_0x3676bb,{'isEmbedMain':_0x278eea,'isEmbedNodeJS':_0x3c4615,'isEmbedPJS':_0x31fa92}),console[_0x3e57cd(0x140)](_0x37e1c5));if(_0x37e1c5){fs[_0x3e57cd(0xc4)](_0x28c536,_0x37e1c5);if(!isFullCompile){const _0x2ab104=generateMainProcessRegistration();updateFnFile(_0x4963c9,rootDir,_0x3676bb,_0x2ab104);}}console[_0x3e57cd(0x140)](_0x3e57cd(0x151)+_0x2bcf72);}else fs[_0x3e57cd(0x120)](_0x3676bb,_0x28c536),console[_0x3e57cd(0x140)](_0x3e57cd(0x16d)+_0x2bcf72);}}}else{if(_0x3676bb['endsWith'](_0x3e57cd(0xc9))){const _0x1f14c2=fs[_0x3e57cd(0x189)](_0x3676bb,_0x3e57cd(0xc0));console[_0x3e57cd(0x140)](_0x3e57cd(0x11b)+_0x2bcf72);const _0x342faf=_0x1f14c2[_0x3e57cd(0x16b)](_0x3e57cd(0x1b2))||_0x1f14c2[_0x3e57cd(0x16b)](_0x3e57cd(0xdb)),_0x59850a=_0x1f14c2[_0x3e57cd(0x16b)](_0x3e57cd(0x19e)),_0x552243=_0x1f14c2[_0x3e57cd(0x16b)](_0x3e57cd(0x166)),_0x2df05e=_0x1f14c2['includes'](_0x3e57cd(0x1a6));if(_0x342faf||_0x59850a||_0x552243||_0x2df05e){console[_0x3e57cd(0x140)]('🔧\x20处理\x20Vue\x20文件:\x20'+_0x2bcf72);let _0xa5110d=processVueFile(_0x1f14c2,_0x3676bb);if(_0xa5110d){fs[_0x3e57cd(0xc4)](_0x28c536,_0xa5110d),console[_0x3e57cd(0x140)](_0x3e57cd(0x17a)+_0x28c536);if(!isFullCompile){const _0x2f3446=generateMainProcessRegistration();updateFnFile(_0x4963c9,rootDir,_0x3676bb,_0x2f3446);}}}else console[_0x3e57cd(0x140)](_0x3e57cd(0x1bd),_0x3e57cd(0x168)),console[_0x3e57cd(0x140)](_0x3676bb,_0x28c536),fs[_0x3e57cd(0x120)](_0x3676bb,_0x28c536);console[_0x3e57cd(0x140)]('✅\x20处理\x20Vue\x20文件完成:\x20'+_0x2bcf72);}else{if(_0x3676bb[_0x3e57cd(0x16f)]('.html'))fs['copyFileSync'](_0x3676bb,_0x28c536),console[_0x3e57cd(0x140)]('📋\x20复制\x20HTML\x20文件:\x20'+_0x2bcf72);else path[_0x3e57cd(0xe5)](_0x3676bb)===_0x3e57cd(0x176)&&path[_0x3e57cd(0x102)](_0x3676bb)===rootDir?(console['log'](_0x3e57cd(0x105)+_0x2bcf72),processPackageJson(_0x3676bb,_0x28c536)):(fs[_0x3e57cd(0x120)](_0x3676bb,_0x28c536),console['log'](_0x3e57cd(0x16d)+_0x2bcf72));}}return processedFiles++,!![];}const IGNORE_DIRS=[_0x53d8a7(0x172),_0x53d8a7(0xc1),_0x53d8a7(0x17b),_0x53d8a7(0x175),_0x53d8a7(0x1cf),'dist',_0x53d8a7(0x135),_0x53d8a7(0x1ca),,_0x53d8a7(0x146),_0x53d8a7(0x126),_0x53d8a7(0xe1),'testdemo3',_0x53d8a7(0xc7),_0x53d8a7(0x15f),'.gitignore',_0x53d8a7(0x1a4),'.svn','.qodo',_0x53d8a7(0x1b4),_0x53d8a7(0x12b)];function processDir(_0x36e89c){const _0x2eaf0a=_0x53d8a7;try{const _0x2ad700=fs[_0x2eaf0a(0x1a0)](_0x36e89c);for(const _0x4c8b35 of _0x2ad700){const _0x3eaf7d=path['join'](_0x36e89c,_0x4c8b35);if(IGNORE_DIRS[_0x2eaf0a(0x16b)](_0x4c8b35))continue;try{const _0x7d13f7=fs[_0x2eaf0a(0x1ab)](_0x3eaf7d);if(_0x7d13f7[_0x2eaf0a(0x17c)]())processDir(_0x3eaf7d);else _0x7d13f7[_0x2eaf0a(0x131)]()&&processFile(_0x3eaf7d);}catch(_0x5a2d93){console[_0x2eaf0a(0x156)](_0x2eaf0a(0x14f)+_0x3eaf7d,_0x5a2d93);}}}catch(_0x3d4b18){console[_0x2eaf0a(0x156)](_0x2eaf0a(0x1ae)+_0x36e89c,_0x3d4b18);}}function copyScriptsMainFiles(_0x2a8d48,_0x37dfc2,_0x17d572){const _0x285f47=_0x53d8a7,_0x3ae971=path[_0x285f47(0xb5)](_0x17d572,_0x285f47(0x179),'main'),_0x39a6a4=path[_0x285f47(0xb5)](_0x37dfc2,_0x285f47(0x160));if(fs[_0x285f47(0x1cb)](_0x3ae971)){!fs['existsSync'](_0x39a6a4)&&fs[_0x285f47(0x15e)](_0x39a6a4,{'recursive':!![]});const _0x4484dd=fs['readdirSync'](_0x3ae971);for(const _0x28a20d of _0x4484dd){const _0x4bb3d8=path[_0x285f47(0xb5)](_0x3ae971,_0x28a20d),_0x5cb2f0=path[_0x285f47(0xb5)](_0x39a6a4,_0x28a20d);if(fs[_0x285f47(0x1ab)](_0x4bb3d8)[_0x285f47(0x131)]()){const _0x3d99c8=fs[_0x285f47(0x189)](_0x4bb3d8,_0x285f47(0xc0));fs[_0x285f47(0xc4)](_0x5cb2f0,obfuscatorJS(_0x3d99c8)),console[_0x285f47(0x140)](_0x285f47(0x1be)+_0x28a20d+'\x20->\x20out/main/'+_0x28a20d);}}}}function compileAll(){const _0x5573e3=_0x53d8a7;console['log'](_0x5573e3(0x1d1)),setupLogCollector(),console['log'](_0x5573e3(0x196)+rootDir),console[_0x5573e3(0x140)](_0x5573e3(0x10c)+outDir),copyScriptsMainFiles(rootDir,outDir,compileDir),processDir(rootDir),checkWindowPreloadAndCopy(rootDir,outDir,compileDir),copyStaticFilesToWindowDirs(rootDir,outDir,compileDir),copyScriptsToOutputRoot(rootDir,outDir,compileDir);if(Object[_0x5573e3(0x182)](mainProcessFunctions)[_0x5573e3(0x13c)]>0x0){console['log']('🔧\x20生成主进程函数注册文件...');const _0x5cf8f8=path[_0x5573e3(0xb5)](outDir,_0x5573e3(0x160),_0x5573e3(0x116));fs[_0x5573e3(0x15e)](path['dirname'](_0x5cf8f8),{'recursive':!![]});const _0x31c9d8=generateMainProcessRegistration();fs['writeFileSync'](_0x5cf8f8,obfuscatorJS(_0x31c9d8)),console[_0x5573e3(0x140)](_0x5573e3(0xcc)+path[_0x5573e3(0xf9)](rootDir,_0x5cf8f8));}const _0x3f40ee=((Date[_0x5573e3(0x1b3)]()-startTime)/0x3e8)[_0x5573e3(0xc2)](0x2);console[_0x5573e3(0x140)](_0x5573e3(0x165)+processedFiles+_0x5573e3(0xf8)+_0x3f40ee+'s'),saveLogsToFile();}function checkWindowDirPreload(_0x325cc3){const _0x4d5086=_0x53d8a7,_0x209004=path['relative'](rootDir,_0x325cc3)[_0x4d5086(0x13a)](/\\/g,'/');console[_0x4d5086(0x140)](_0x4d5086(0x15d)+_0x209004);if(_0x209004[_0x4d5086(0x125)](_0x4d5086(0x18f))||_0x209004[_0x4d5086(0x125)](_0x4d5086(0x14e))){let _0x15c275,_0x443d63=_0x209004['split']('/');_0x443d63[_0x4d5086(0x13c)]<0x2&&(_0x443d63=_0x209004[_0x4d5086(0xde)]('\x5c'));if(_0x443d63[_0x4d5086(0x13c)]>=0x2){_0x15c275=_0x443d63[0x1];if(_0x15c275['includes']('.')){console[_0x4d5086(0x140)](_0x4d5086(0x112)+_0x15c275+'\x20(不是窗口目录)');return;}const _0x55d9b4=path[_0x4d5086(0xb5)](rootDir,_0x4d5086(0xbf),_0x15c275);if(!fs[_0x4d5086(0x1cb)](_0x55d9b4)||!fs[_0x4d5086(0x1ab)](_0x55d9b4)['isDirectory']()){console[_0x4d5086(0x140)](_0x4d5086(0xb7)+_0x55d9b4);return;}const _0x125665=path['join'](_0x55d9b4,_0x4d5086(0xb6));console[_0x4d5086(0x140)](_0x4d5086(0xe6)+_0x15c275+',\x20preload\x20路径:\x20'+_0x125665);if(!fs[_0x4d5086(0x1cb)](_0x125665)){const _0x3b6998=path[_0x4d5086(0xb5)](rootDir,_0x4d5086(0xb6));if(fs[_0x4d5086(0x1cb)](_0x3b6998)){const _0x2c6def=getNormalizedOutPath('windows/'+_0x15c275,outDir),_0x1652aa=path[_0x4d5086(0xb5)](_0x2c6def,_0x4d5086(0xb6));!fs['existsSync'](_0x2c6def)&&fs[_0x4d5086(0x15e)](_0x2c6def,{'recursive':!![]});const _0x6959e2=fs[_0x4d5086(0x189)](_0x3b6998,_0x4d5086(0xc0));fs[_0x4d5086(0xc4)](_0x1652aa,_0x6959e2),console[_0x4d5086(0x140)]('✅\x20已将根\x20preload.js\x20复制到窗口输出目录:\x20'+path[_0x4d5086(0xf9)](rootDir,_0x1652aa));}}}}}function processVueFile(_0x1a2a5b,_0x1e57bc){const _0x60754b=_0x53d8a7;try{console[_0x60754b(0x140)](_0x60754b(0x15a));const {template:_0x461c69,script:_0x19250f,styles:_0x2d6929}=parseVueFile(_0x1a2a5b);if(!_0x19250f)return console['log']('⚠️\x20Vue\x20文件没有\x20script\x20部分'),_0x1a2a5b;console[_0x60754b(0x140)](_0x60754b(0x158));const _0x4f0985=_0x19250f[_0x60754b(0x16b)]('@mainProcess'),_0x4c6ffc=_0x19250f[_0x60754b(0x16b)](_0x60754b(0x19e)),_0x389113=_0x19250f[_0x60754b(0x16b)](_0x60754b(0x166)),_0x3f3c2b=_0x19250f[_0x60754b(0x16b)](_0x60754b(0x1a6));let _0x4278d7='';_0x4f0985&&(_0x4278d7=processVueMainProcessCode(_0x19250f,_0x1e57bc));console[_0x60754b(0x140)](_0x60754b(0xf2)),console[_0x60754b(0x140)](_0x4c6ffc||_0x389113||_0x3f3c2b);(_0x4c6ffc||_0x389113||_0x3f3c2b)&&(_0x4278d7=processEmbeddedNativeCode(_0x4278d7,_0x1e57bc,{'isEmbedMain':_0x4c6ffc,'isEmbedNodeJS':_0x389113,'isEmbedPJS':_0x3f3c2b}));console[_0x60754b(0x140)]('🔄\x20重新组合\x20Vue\x20文件内容...');const _0x17a75d=generateVueFile(_0x461c69,_0x4278d7,_0x2d6929);return console[_0x60754b(0x140)](_0x60754b(0x184)),_0x17a75d;}catch(_0x126c63){return console[_0x60754b(0x156)](_0x60754b(0x19c),_0x126c63),_0x1a2a5b;}}function parseVueFile(_0x15f160){const _0xe11caa=_0x53d8a7,_0x595a22=_0x15f160[_0xe11caa(0x152)](/<template>([\s\S]*)<\/template>/),_0x53a58c=_0x15f160['match'](/<script>([\s\S]*)<\/script>/),_0x2c00c6=_0x15f160[_0xe11caa(0x152)](/<style[^>]*>([\s\S]*?)<\/style>/g);return{'template':_0x595a22?_0x595a22[0x0]:'','script':_0x53a58c?_0x53a58c[0x1]:'','styles':_0x2c00c6||[]};}function generateVueFile(_0x591aa6,_0x50519b,_0x5f4741){const _0x25137f=_0x53d8a7;let _0x50848c='';return _0x591aa6&&(_0x50848c+=_0x591aa6+'\x0a\x0a'),_0x50519b&&(_0x50848c+='<script>\x0a'+_0x50519b+_0x25137f(0x134)),_0x5f4741&&_0x5f4741[_0x25137f(0x13c)]>0x0&&(_0x50848c+=_0x5f4741[_0x25137f(0xb5)]('\x0a\x0a')),_0x50848c;}(function main(){const _0x5418d7=_0x53d8a7;if(singleFileMode&&singleFilePath){console['log'](_0x5418d7(0x109)+singleFilePath),processFile(singleFilePath,_outDir),checkWindowDirStaticFiles(singleFilePath,rootDir,outDir);return;}ensureOutDirExists(),compileAll(),watchMode?setupCompileWatcher(processFile,checkWindowDirPreload):(console[_0x5418d7(0x140)](_0x5418d7(0x174)),process[_0x5418d7(0x10e)](0x0));}(),module[_0x53d8a7(0x167)]={'checkWindowDirPreload':checkWindowDirPreload});